"use client";
// Workaround for react-datepicker and other cjs dependencies potentially inserting require("react") statements
import * as requireReact from 'react';
import * as requireReactDom from 'react-dom';

function require(m) {
 if (m === 'react') return requireReact;
 if (m === 'react-dom') return requireReactDom;
 throw new Error(`Unknown module ${m}`);
}
// Workaround end

import{a as Nr,b as Ug,c as W,d as X5,e as Xg,f as It,g as Z5,h as Y5,i as Zg,j as J5,k as Yg,l as q5}from"./chunk-XUCNM5EK.js";import{a as ht,b as Ic,c as Hg,d as E,e as Ma,f as Sx,g as Ix,h as Fi,i as Fm,j as U5,k as _x,l as Q5,m as K5,n as eE}from"./chunk-AZDI6MW4.js";import{c as Qr,d as wx,e as _i}from"./chunk-5LKBKI4T.js";var $x=Qr(_t=>{"use strict";function Kg(t,e){var o=t.length;t.push(e);e:for(;0<o;){var n=o-1>>>1,r=t[n];if(0<Tm(r,e))t[n]=e,t[o]=r,o=n;else break e}}function Kr(t){return t.length===0?null:t[0]}function Rm(t){if(t.length===0)return null;var e=t[0],o=t.pop();if(o!==e){t[0]=o;e:for(var n=0,r=t.length,s=r>>>1;n<s;){var i=2*(n+1)-1,l=t[i],a=i+1,c=t[a];if(0>Tm(l,o))a<r&&0>Tm(c,l)?(t[n]=c,t[a]=o,n=a):(t[n]=l,t[i]=o,n=i);else if(a<r&&0>Tm(c,o))t[n]=c,t[a]=o,n=a;else break e}}return e}function Tm(t,e){var o=t.sortIndex-e.sortIndex;return o!==0?o:t.id-e.id}_t.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(Fx=performance,_t.unstable_now=function(){return Fx.now()}):(Jg=Date,Tx=Jg.now(),_t.unstable_now=function(){return Jg.now()-Tx});var Fx,Jg,Tx,_n=[],Bs=[],tE=1,Lr=null,Lo=3,Am=!1,Ti=!1,Fc=!1,Ax=typeof setTimeout=="function"?setTimeout:null,Px=typeof clearTimeout=="function"?clearTimeout:null,Dx=typeof setImmediate<"u"?setImmediate:null;function Dm(t){for(var e=Kr(Bs);e!==null;){if(e.callback===null)Rm(Bs);else if(e.startTime<=t)Rm(Bs),e.sortIndex=e.expirationTime,Kg(_n,e);else break;e=Kr(Bs)}}function eb(t){if(Fc=!1,Dm(t),!Ti)if(Kr(_n)!==null)Ti=!0,tb();else{var e=Kr(Bs);e!==null&&ob(eb,e.startTime-t)}}var Pm=!1,Tc=-1,Ex=5,Nx=-1;function Lx(){return!(_t.unstable_now()-Nx<Ex)}function qg(){if(Pm){var t=_t.unstable_now();Nx=t;var e=!0;try{e:{Ti=!1,Fc&&(Fc=!1,Px(Tc),Tc=-1),Am=!0;var o=Lo;try{t:{for(Dm(t),Lr=Kr(_n);Lr!==null&&!(Lr.expirationTime>t&&Lx());){var n=Lr.callback;if(typeof n=="function"){Lr.callback=null,Lo=Lr.priorityLevel;var r=n(Lr.expirationTime<=t);if(t=_t.unstable_now(),typeof r=="function"){Lr.callback=r,Dm(t),e=!0;break t}Lr===Kr(_n)&&Rm(_n),Dm(t)}else Rm(_n);Lr=Kr(_n)}if(Lr!==null)e=!0;else{var s=Kr(Bs);s!==null&&ob(eb,s.startTime-t),e=!1}}break e}finally{Lr=null,Lo=o,Am=!1}e=void 0}}finally{e?_c():Pm=!1}}}var _c;typeof Dx=="function"?_c=function(){Dx(qg)}:typeof MessageChannel<"u"?(Qg=new MessageChannel,Rx=Qg.port2,Qg.port1.onmessage=qg,_c=function(){Rx.postMessage(null)}):_c=function(){Ax(qg,0)};var Qg,Rx;function tb(){Pm||(Pm=!0,_c())}function ob(t,e){Tc=Ax(function(){t(_t.unstable_now())},e)}_t.unstable_IdlePriority=5;_t.unstable_ImmediatePriority=1;_t.unstable_LowPriority=4;_t.unstable_NormalPriority=3;_t.unstable_Profiling=null;_t.unstable_UserBlockingPriority=2;_t.unstable_cancelCallback=function(t){t.callback=null};_t.unstable_continueExecution=function(){Ti||Am||(Ti=!0,tb())};_t.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ex=0<t?Math.floor(1e3/t):5};_t.unstable_getCurrentPriorityLevel=function(){return Lo};_t.unstable_getFirstCallbackNode=function(){return Kr(_n)};_t.unstable_next=function(t){switch(Lo){case 1:case 2:case 3:var e=3;break;default:e=Lo}var o=Lo;Lo=e;try{return t()}finally{Lo=o}};_t.unstable_pauseExecution=function(){};_t.unstable_requestPaint=function(){};_t.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=Lo;Lo=t;try{return e()}finally{Lo=o}};_t.unstable_scheduleCallback=function(t,e,o){var n=_t.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=o+r,t={id:tE++,callback:e,priorityLevel:t,startTime:o,expirationTime:r,sortIndex:-1},o>n?(t.sortIndex=o,Kg(Bs,t),Kr(_n)===null&&t===Kr(Bs)&&(Fc?(Px(Tc),Tc=-1):Fc=!0,ob(eb,o-n))):(t.sortIndex=r,Kg(_n,t),Ti||Am||(Ti=!0,tb())),t};_t.unstable_shouldYield=Lx;_t.unstable_wrapCallback=function(t){var e=Lo;return function(){var o=Lo;Lo=e;try{return t.apply(this,arguments)}finally{Lo=o}}}});var jx=Qr((Lee,kx)=>{"use strict";kx.exports=$x()});var zS=Qr(yt=>{"use strict";var So=typeof Symbol=="function"&&Symbol.for,N1=So?Symbol.for("react.element"):60103,L1=So?Symbol.for("react.portal"):60106,Xf=So?Symbol.for("react.fragment"):60107,Zf=So?Symbol.for("react.strict_mode"):60108,Yf=So?Symbol.for("react.profiler"):60114,Jf=So?Symbol.for("react.provider"):60109,qf=So?Symbol.for("react.context"):60110,$1=So?Symbol.for("react.async_mode"):60111,Qf=So?Symbol.for("react.concurrent_mode"):60111,Kf=So?Symbol.for("react.forward_ref"):60112,ep=So?Symbol.for("react.suspense"):60113,Qk=So?Symbol.for("react.suspense_list"):60120,tp=So?Symbol.for("react.memo"):60115,op=So?Symbol.for("react.lazy"):60116,Kk=So?Symbol.for("react.block"):60121,ej=So?Symbol.for("react.fundamental"):60117,tj=So?Symbol.for("react.responder"):60118,oj=So?Symbol.for("react.scope"):60119;function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case N1:switch(t=t.type,t){case $1:case Qf:case Xf:case Yf:case Zf:case ep:return t;default:switch(t=t&&t.$$typeof,t){case qf:case Kf:case op:case tp:case Jf:return t;default:return e}}case L1:return e}}}function GS(t){return xr(t)===Qf}yt.AsyncMode=$1;yt.ConcurrentMode=Qf;yt.ContextConsumer=qf;yt.ContextProvider=Jf;yt.Element=N1;yt.ForwardRef=Kf;yt.Fragment=Xf;yt.Lazy=op;yt.Memo=tp;yt.Portal=L1;yt.Profiler=Yf;yt.StrictMode=Zf;yt.Suspense=ep;yt.isAsyncMode=function(t){return GS(t)||xr(t)===$1};yt.isConcurrentMode=GS;yt.isContextConsumer=function(t){return xr(t)===qf};yt.isContextProvider=function(t){return xr(t)===Jf};yt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===N1};yt.isForwardRef=function(t){return xr(t)===Kf};yt.isFragment=function(t){return xr(t)===Xf};yt.isLazy=function(t){return xr(t)===op};yt.isMemo=function(t){return xr(t)===tp};yt.isPortal=function(t){return xr(t)===L1};yt.isProfiler=function(t){return xr(t)===Yf};yt.isStrictMode=function(t){return xr(t)===Zf};yt.isSuspense=function(t){return xr(t)===ep};yt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Xf||t===Qf||t===Yf||t===Zf||t===ep||t===Qk||typeof t=="object"&&t!==null&&(t.$$typeof===op||t.$$typeof===tp||t.$$typeof===Jf||t.$$typeof===qf||t.$$typeof===Kf||t.$$typeof===ej||t.$$typeof===tj||t.$$typeof===oj||t.$$typeof===Kk)};yt.typeOf=xr});var HS=Qr((bbe,WS)=>{"use strict";WS.exports=zS()});var QS=Qr((vbe,qS)=>{"use strict";var k1=HS(),rj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},j1={};j1[k1.ForwardRef]=sj;j1[k1.Memo]=YS;function US(t){return k1.isMemo(t)?YS:j1[t.$$typeof]||rj}var ij=Object.defineProperty,aj=Object.getOwnPropertyNames,XS=Object.getOwnPropertySymbols,lj=Object.getOwnPropertyDescriptor,cj=Object.getPrototypeOf,ZS=Object.prototype;function JS(t,e,o){if(typeof e!="string"){if(ZS){var n=cj(e);n&&n!==ZS&&JS(t,n,o)}var r=aj(e);XS&&(r=r.concat(XS(e)));for(var s=US(t),i=US(e),l=0;l<r.length;++l){var a=r[l];if(!nj[a]&&!(o&&o[a])&&!(i&&i[a])&&!(s&&s[a])){var c=lj(e,a);try{ij(t,a,c)}catch{}}}}return t}qS.exports=JS});var vv=Qr((tCe,fF)=>{var bv=Math.floor(Math.random()*16777215),lF=Ct.index=parseInt(Math.random()*16777215,10),cF=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,uF=(()=>{try{return _Buffer}catch{try{return Buffer}catch{return null}}})(),vp=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},mF=[];for(nr=0;nr<256;nr++)mF[nr]=(nr<=15?"0":"")+nr.toString(16);var nr,dF=new RegExp("^[0-9a-fA-F]{24}$"),Fu=[];nr=0;for(;nr<10;)Fu[48+nr]=nr++;for(;nr<16;)Fu[55+nr]=Fu[87+nr]=nr++;function Ct(t){if(!(this instanceof Ct))return new Ct(t);if(t&&(t instanceof Ct||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=Ct.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return Ct.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}fF.exports=Ct;Ct.default=Ct;Ct.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new Ct(rO(8,t)+"0000000000000000")};Ct.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",o=0;o<24;)e+=String.fromCharCode(Fu[t.charCodeAt(o++)]<<4|Fu[t.charCodeAt(o++)]);return new Ct(e)};Ct.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&dF.test(t):t instanceof Ct?!0:vp(t)?Ct.isValid(t.toString("hex")):typeof t.toHexString=="function"&&uF&&(t.id instanceof uF||typeof t.id=="string")?t.id.length===12||t.id.length===24&&dF.test(t.id):!1};Ct.prototype={constructor:Ct,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(vp(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=mF[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof Ct?this.toString()===t.toString():typeof t=="string"&&Ct.isValid(t)&&t.length===12&&vp(this.id)?t===this.id.toString("binary"):typeof t=="string"&&Ct.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&Ct.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof Ct||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return vp(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=oO();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,bv>>16&255,bv>>8&255,bv&255,cF>>8&255,cF&255,e>>16&255,e>>8&255,e&255)}};function oO(){return lF=(lF+1)%16777215}function rO(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var nO=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";Ct.prototype[nO]=function(){return"ObjectID("+this+")"};Ct.prototype.toJSON=Ct.prototype.toHexString;Ct.prototype.toString=Ct.prototype.toHexString});var u0=Qr((NTe,XT)=>{function c0(t){return t===void 0}function sV(t){return t===null}function iV(t){return typeof t=="boolean"}function Wp(t){return t===Object(t)}function HT(t){return Array.isArray(t)}function aV(t){return t instanceof Date}function UT(t,e){return e?Wp(t)&&!c0(t.uri):Wp(t)&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.slice=="function"}function lV(t,e){return UT(t,e)&&typeof t.name=="string"&&(Wp(t.lastModifiedDate)||typeof t.lastModified=="number")}function ia(t){return c0(t)?!1:t}function l0(t,e,o,n){e=e||{},o=o||new FormData,e.indices=ia(e.indices),e.nullsAsUndefineds=ia(e.nullsAsUndefineds),e.booleansAsIntegers=ia(e.booleansAsIntegers),e.allowEmptyArrays=ia(e.allowEmptyArrays),e.noAttributesWithArrayNotation=ia(e.noAttributesWithArrayNotation),e.noFilesWithArrayNotation=ia(e.noFilesWithArrayNotation),e.dotsForObjectNotation=ia(e.dotsForObjectNotation);let r=typeof o.getParts=="function";return c0(t)||(sV(t)?e.nullsAsUndefineds||o.append(n,""):iV(t)?e.booleansAsIntegers?o.append(n,t?1:0):o.append(n,t):HT(t)?t.length?t.forEach((s,i)=>{let l=n+"["+(e.indices?i:"")+"]";(e.noAttributesWithArrayNotation||e.noFilesWithArrayNotation&&lV(s,r))&&(l=n),l0(s,e,o,l)}):e.allowEmptyArrays&&o.append(e.noAttributesWithArrayNotation?n:n+"[]",""):aV(t)?o.append(n,t.toISOString()):Wp(t)&&!UT(t,r)?Object.keys(t).forEach(s=>{let i=t[s];if(HT(i))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let l=n?e.dotsForObjectNotation?n+"."+s:n+"["+s+"]":s;l0(i,e,o,l)}):o.append(n,t)),o}XT.exports={serialize:l0}});var m4=Qr((gOe,d4)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(o,n){return o<<n|o>>>32-n},rotr:function(o,n){return o<<32-n|o>>>n},endian:function(o){if(o.constructor==Number)return e.rotl(o,8)&16711935|e.rotl(o,24)&4278255360;for(var n=0;n<o.length;n++)o[n]=e.endian(o[n]);return o},randomBytes:function(o){for(var n=[];o>0;o--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(o){for(var n=[],r=0,s=0;r<o.length;r++,s+=8)n[s>>>5]|=o[r]<<24-s%32;return n},wordsToBytes:function(o){for(var n=[],r=0;r<o.length*32;r+=8)n.push(o[r>>>5]>>>24-r%32&255);return n},bytesToHex:function(o){for(var n=[],r=0;r<o.length;r++)n.push((o[r]>>>4).toString(16)),n.push((o[r]&15).toString(16));return n.join("")},hexToBytes:function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(parseInt(o.substr(r,2),16));return n},bytesToBase64:function(o){for(var n=[],r=0;r<o.length;r+=3)for(var s=o[r]<<16|o[r+1]<<8|o[r+2],i=0;i<4;i++)r*8+i*6<=o.length*8?n.push(t.charAt(s>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,s=0;r<o.length;s=++r%4)s!=0&&n.push((t.indexOf(o.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(o.charAt(r))>>>6-s*2);return n}};d4.exports=e})()});var ly=Qr((bOe,f4)=>{var ay={utf8:{stringToBytes:function(t){return ay.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(ay.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o)&255);return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")}}};f4.exports=ay});var g4=Qr((vOe,h4)=>{h4.exports=function(t){return t!=null&&(p4(t)||pU(t)||!!t._isBuffer)};function p4(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function pU(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&p4(t.slice(0,0))}});var v4=Qr((yOe,b4)=>{(function(){var t=m4(),e=ly().utf8,o=g4(),n=ly().bin,r=function(s,i){s.constructor==String?i&&i.encoding==="binary"?s=n.stringToBytes(s):s=e.stringToBytes(s):o(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var l=t.bytesToWords(s),a=s.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,m=0;m<l.length;m++)l[m]=(l[m]<<8|l[m]>>>24)&16711935|(l[m]<<24|l[m]>>>8)&4278255360;l[a>>>5]|=128<<a%32,l[(a+64>>>9<<4)+14]=a;for(var p=r._ff,h=r._gg,g=r._hh,b=r._ii,m=0;m<l.length;m+=16){var y=c,v=u,C=d,w=f;c=p(c,u,d,f,l[m+0],7,-680876936),f=p(f,c,u,d,l[m+1],12,-389564586),d=p(d,f,c,u,l[m+2],17,606105819),u=p(u,d,f,c,l[m+3],22,-1044525330),c=p(c,u,d,f,l[m+4],7,-176418897),f=p(f,c,u,d,l[m+5],12,1200080426),d=p(d,f,c,u,l[m+6],17,-1473231341),u=p(u,d,f,c,l[m+7],22,-45705983),c=p(c,u,d,f,l[m+8],7,1770035416),f=p(f,c,u,d,l[m+9],12,-1958414417),d=p(d,f,c,u,l[m+10],17,-42063),u=p(u,d,f,c,l[m+11],22,-1990404162),c=p(c,u,d,f,l[m+12],7,1804603682),f=p(f,c,u,d,l[m+13],12,-40341101),d=p(d,f,c,u,l[m+14],17,-1502002290),u=p(u,d,f,c,l[m+15],22,1236535329),c=h(c,u,d,f,l[m+1],5,-165796510),f=h(f,c,u,d,l[m+6],9,-1069501632),d=h(d,f,c,u,l[m+11],14,643717713),u=h(u,d,f,c,l[m+0],20,-373897302),c=h(c,u,d,f,l[m+5],5,-701558691),f=h(f,c,u,d,l[m+10],9,38016083),d=h(d,f,c,u,l[m+15],14,-660478335),u=h(u,d,f,c,l[m+4],20,-405537848),c=h(c,u,d,f,l[m+9],5,568446438),f=h(f,c,u,d,l[m+14],9,-1019803690),d=h(d,f,c,u,l[m+3],14,-187363961),u=h(u,d,f,c,l[m+8],20,1163531501),c=h(c,u,d,f,l[m+13],5,-1444681467),f=h(f,c,u,d,l[m+2],9,-51403784),d=h(d,f,c,u,l[m+7],14,1735328473),u=h(u,d,f,c,l[m+12],20,-1926607734),c=g(c,u,d,f,l[m+5],4,-378558),f=g(f,c,u,d,l[m+8],11,-2022574463),d=g(d,f,c,u,l[m+11],16,1839030562),u=g(u,d,f,c,l[m+14],23,-35309556),c=g(c,u,d,f,l[m+1],4,-1530992060),f=g(f,c,u,d,l[m+4],11,1272893353),d=g(d,f,c,u,l[m+7],16,-155497632),u=g(u,d,f,c,l[m+10],23,-1094730640),c=g(c,u,d,f,l[m+13],4,681279174),f=g(f,c,u,d,l[m+0],11,-358537222),d=g(d,f,c,u,l[m+3],16,-722521979),u=g(u,d,f,c,l[m+6],23,76029189),c=g(c,u,d,f,l[m+9],4,-640364487),f=g(f,c,u,d,l[m+12],11,-421815835),d=g(d,f,c,u,l[m+15],16,530742520),u=g(u,d,f,c,l[m+2],23,-995338651),c=b(c,u,d,f,l[m+0],6,-198630844),f=b(f,c,u,d,l[m+7],10,1126891415),d=b(d,f,c,u,l[m+14],15,-1416354905),u=b(u,d,f,c,l[m+5],21,-57434055),c=b(c,u,d,f,l[m+12],6,1700485571),f=b(f,c,u,d,l[m+3],10,-1894986606),d=b(d,f,c,u,l[m+10],15,-1051523),u=b(u,d,f,c,l[m+1],21,-2054922799),c=b(c,u,d,f,l[m+8],6,1873313359),f=b(f,c,u,d,l[m+15],10,-30611744),d=b(d,f,c,u,l[m+6],15,-1560198380),u=b(u,d,f,c,l[m+13],21,1309151649),c=b(c,u,d,f,l[m+4],6,-145523070),f=b(f,c,u,d,l[m+11],10,-1120210379),d=b(d,f,c,u,l[m+2],15,718787259),u=b(u,d,f,c,l[m+9],21,-343485551),c=c+y>>>0,u=u+v>>>0,d=d+C>>>0,f=f+w>>>0}return t.endian([c,u,d,f])};r._ff=function(s,i,l,a,c,u,d){var f=s+(i&l|~i&a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._gg=function(s,i,l,a,c,u,d){var f=s+(i&a|l&~a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._hh=function(s,i,l,a,c,u,d){var f=s+(i^l^a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._ii=function(s,i,l,a,c,u,d){var f=s+(l^(i|~a))+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._blocksize=16,r._digestsize=16,b4.exports=function(s,i){if(s==null)throw new Error("Illegal argument "+s);var l=t.wordsToBytes(r(s,i));return i&&i.asBytes?l:i&&i.asString?n.bytesToString(l):t.bytesToHex(l)}})()});import{jsx as ub}from"react/jsx-runtime";import"react";function ue({CustomComponent:t,Fallback:e}){return t!==void 0?t:e}import{jsx as pE}from"react/jsx-runtime";import lb from"react";import{createContext as Ms,use as Os}from"react";var Dc=_i(jx(),1);import{createElement as oE,createContext as rE,useContext as nE,useEffect as sE,useLayoutEffect as iE,useReducer as aE,useRef as rb,useState as lE}from"react";var Em=Symbol(),cE=Symbol(),uE=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),Bx=uE?sE:iE,dE=Dc.unstable_runWithPriority?t=>{try{(0,Dc.unstable_runWithPriority)(Dc.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),mE=t=>({value:o,children:n})=>{let r=rb(o),s=rb(0),[i,l]=lE(null);i&&(i(o),l(null));let a=rb();if(!a.current){let c=new Set,u=(d,f)=>{s.current+=1;let m={n:s.current};f?.suspense&&(m.n*=-1,m.p=new Promise(p=>{l(()=>h=>{m.v=h,delete m.p,p(h)})})),c.forEach(p=>p(m)),d()};a.current={[Em]:{v:r,n:s,l:c,u}}}return Bx(()=>{r.current=o,s.current+=1,dE(()=>{a.current[Em].l.forEach(c=>{c({n:s.current,v:o})})})},[o]),oE(t,{value:a.current},n)},fE=t=>t;function Mx(t){let e=rE({[Em]:{v:{current:t},n:{current:-1},l:new Set,u:o=>o()}});return e[cE]=e.Provider,e.Provider=mE(e.Provider),delete e.Consumer,e}function nb(t,e){let o=nE(t)[Em],{v:{current:n},n:{current:r},l:s}=o,i=e(n),[l,a]=aE((c,u)=>{if(!u)return[n,i];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],i)?c:[n,i];try{if("v"in u){if(Object.is(c[0],u.v))return c;let d=e(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[n,i]);return Object.is(l[1],i)||a(),Bx(()=>(s.add(a),()=>{s.delete(a)}),[s]),l[1]}function Ox(t){return nb(t,fE)}var Nm=Ms({}),Lm=Ms({}),$m=Ms({}),km=Ms(!1),jm=Ms(!1),sb=Ms(!1),Bm=Ms(!1),ib=Ms(!1),Rc=Mx([{},()=>null]),Ge=()=>Os(Nm),Oa=()=>Os(Lm),Mm=()=>Os($m),ao=()=>Os(km),$r=()=>Os(jm),ab=()=>Os(sb),lo=()=>Os(Bm),Di=()=>Os(ib),Et=t=>nb(Rc,t),Vs=()=>Ox(Rc);var Vx=lb.createContext({data:{},path:"",rowNumber:void 0}),cb=({children:t,path:e,rowNumber:o})=>{let{getDataByPath:n,getSiblingData:r}=Mm(),s=r(e),l=n(e)||s,a=lb.useMemo(()=>({data:l,path:e,rowNumber:o}),[l,e,o]);return pE(Vx,{value:a,children:t})},hE=()=>lb.use(Vx);var gE="row-label",es=t=>{let{className:e,CustomComponent:o,label:n,path:r,rowNumber:s}=t;return ub(cb,{path:r,rowNumber:s,children:ub(ue,{CustomComponent:o,Fallback:typeof n=="string"?ub("span",{className:[gE,e].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:n}):n})})};import{jsx as po,jsxs as gi}from"react/jsx-runtime";import{getTranslation as W0}from"@payloadcms/translations";import JW,{Fragment as qW,useCallback as wn,useMemo as QW}from"react";import Le,{forwardRef as bE,isValidElement as db}from"react";import vE from"react-dom";import er from"react";import Gx from"react";import DE from"react";var yE=t=>{switch(t){case"success":return wE;case"info":return IE;case"warning":return SE;case"error":return _E;default:return null}},CE=Array(12).fill(0),xE=({visible:t,className:e})=>er.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},er.createElement("div",{className:"sonner-spinner"},CE.map((o,n)=>er.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),wE=er.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},er.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SE=er.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},er.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IE=er.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},er.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_E=er.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},er.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FE=er.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},er.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),er.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TE=()=>{let[t,e]=Gx.useState(document.hidden);return Gx.useEffect(()=>{let o=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),t},mb=1,RE=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:o,...n}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:mb++,s=this.toasts.find(l=>l.id===r),i=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:o}),{...l,...t,id:r,dismissible:i,title:o}):l):this.addToast({title:o,...n,dismissible:i,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(o=>o({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let o;e.loading!==void 0&&(o=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),r=o!==void 0,s,i=n.then(async a=>{if(s=["resolve",a],DE.isValidElement(a))r=!1,this.create({id:o,type:"default",message:a});else if(PE(a)&&!a.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:o,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(a):e.success,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"success",message:c,description:u})}}).catch(async a=>{if(s=["reject",a],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(a):e.error,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"error",message:c,description:u})}}).finally(()=>{var a;r&&(this.dismiss(o),o=void 0),(a=e.finally)==null||a.call(e)}),l=()=>new Promise((a,c)=>i.then(()=>s[0]==="reject"?c(s[1]):a(s[1])).catch(c));return typeof o!="string"&&typeof o!="number"?{unwrap:l}:Object.assign(o,{unwrap:l})},this.custom=(t,e)=>{let o=e?.id||mb++;return this.create({jsx:t(o),id:o,...e}),o},this.subscribers=[],this.toasts=[]}},pr=new RE,AE=(t,e)=>{let o=e?.id||mb++;return pr.addToast({title:t,...e,id:o}),o},PE=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",EE=AE,NE=()=>pr.toasts,oe=Object.assign(EE,{success:pr.success,info:pr.info,warning:pr.warning,error:pr.error,custom:pr.custom,message:pr.message,promise:pr.promise,dismiss:pr.dismiss,loading:pr.loading},{getHistory:NE});function LE(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}LE(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Om(t){return t.label!==void 0}var $E=3,kE="32px",jE="16px",zx=4e3,BE=356,ME=14,OE=20,VE=200;function en(...t){return t.filter(Boolean).join(" ")}function GE(t){let[e,o]=t.split("-"),n=[];return e&&n.push(e),o&&n.push(o),n}var zE=t=>{var e,o,n,r,s,i,l,a,c,u,d;let{invert:f,toast:m,unstyled:p,interacting:h,setHeights:g,visibleToasts:b,heights:y,index:v,toasts:C,expanded:w,removeToast:S,defaultRichColors:x,closeButton:F,style:I,cancelButtonStyle:R,actionButtonStyle:D,className:_="",descriptionClassName:T="",duration:A,position:$,gap:P,loadingIcon:j,expandByDefault:B,classNames:N,icons:L,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:k}=t,[O,V]=Le.useState(null),[G,H]=Le.useState(null),[z,Q]=Le.useState(!1),[J,X]=Le.useState(!1),[ie,U]=Le.useState(!1),[re,ce]=Le.useState(!1),[ge,de]=Le.useState(!1),[me,Oe]=Le.useState(0),[Te,he]=Le.useState(0),we=Le.useRef(m.duration||A||zx),K=Le.useRef(null),Pe=Le.useRef(null),qe=v===0,Z=v+1<=b,Y=m.type,q=m.dismissible!==!1,ne=m.className||"",fe=m.descriptionClassName||"",ee=Le.useMemo(()=>y.findIndex(se=>se.toastId===m.id)||0,[y,m.id]),le=Le.useMemo(()=>{var se;return(se=m.closeButton)!=null?se:F},[m.closeButton,F]),ve=Le.useMemo(()=>m.duration||A||zx,[m.duration,A]),Ee=Le.useRef(0),pe=Le.useRef(0),be=Le.useRef(0),Ce=Le.useRef(null),[Re,Je]=$.split("-"),tt=Le.useMemo(()=>y.reduce((se,Se,Ae)=>Ae>=ee?se:se+Se.height,0),[y,ee]),io=TE(),Mt=m.invert||f,eo=Y==="loading";pe.current=Le.useMemo(()=>ee*P+tt,[ee,tt]),Le.useEffect(()=>{we.current=ve},[ve]),Le.useEffect(()=>{Q(!0)},[]),Le.useEffect(()=>{let se=Pe.current;if(se){let Se=se.getBoundingClientRect().height;return he(Se),g(Ae=>[{toastId:m.id,height:Se,position:m.position},...Ae]),()=>g(Ae=>Ae.filter(ye=>ye.toastId!==m.id))}},[g,m.id]),Le.useLayoutEffect(()=>{if(!z)return;let se=Pe.current,Se=se.style.height;se.style.height="auto";let Ae=se.getBoundingClientRect().height;se.style.height=Se,he(Ae),g(ye=>ye.find(De=>De.toastId===m.id)?ye.map(De=>De.toastId===m.id?{...De,height:Ae}:De):[{toastId:m.id,height:Ae,position:m.position},...ye])},[z,m.title,m.description,g,m.id]);let Ht=Le.useCallback(()=>{X(!0),Oe(pe.current),g(se=>se.filter(Se=>Se.toastId!==m.id)),setTimeout(()=>{S(m)},VE)},[m,S,g,pe]);Le.useEffect(()=>{if(m.promise&&Y==="loading"||m.duration===1/0||m.type==="loading")return;let se;return w||h||k&&io?(()=>{if(be.current<Ee.current){let Se=new Date().getTime()-Ee.current;we.current=we.current-Se}be.current=new Date().getTime()})():we.current!==1/0&&(Ee.current=new Date().getTime(),se=setTimeout(()=>{var Se;(Se=m.onAutoClose)==null||Se.call(m,m),Ht()},we.current)),()=>clearTimeout(se)},[w,h,m,Y,k,io,Ht]),Le.useEffect(()=>{m.delete&&Ht()},[Ht,m.delete]);function Co(){var se,Se,Ae;return L!=null&&L.loading?Le.createElement("div",{className:en(N?.loader,(se=m?.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":Y==="loading"},L.loading):j?Le.createElement("div",{className:en(N?.loader,(Se=m?.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Y==="loading"},j):Le.createElement(xE,{className:en(N?.loader,(Ae=m?.classNames)==null?void 0:Ae.loader),visible:Y==="loading"})}return Le.createElement("li",{tabIndex:0,ref:Pe,className:en(_,ne,N?.toast,(e=m?.classNames)==null?void 0:e.toast,N?.default,N?.[Y],(o=m?.classNames)==null?void 0:o[Y]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:x,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":z,"data-promise":!!m.promise,"data-swiped":ge,"data-removed":J,"data-visible":Z,"data-y-position":Re,"data-x-position":Je,"data-index":v,"data-front":qe,"data-swiping":ie,"data-dismissible":q,"data-type":Y,"data-invert":Mt,"data-swipe-out":re,"data-swipe-direction":G,"data-expanded":!!(w||B&&z),style:{"--index":v,"--toasts-before":v,"--z-index":C.length-v,"--offset":`${J?me:pe.current}px`,"--initial-height":B?"auto":`${Te}px`,...I,...m.style},onPointerDown:se=>{eo||!q||(K.current=new Date,Oe(pe.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(U(!0),Ce.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Se,Ae,ye;if(re||!q)return;Ce.current=null;let De=Number(((se=Pe.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xe=Number(((Se=Pe.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Qe=new Date().getTime()-((Ae=K.current)==null?void 0:Ae.getTime()),Ve=O==="x"?De:Xe,ot=Math.abs(Ve)/Qe;if(Math.abs(Ve)>=OE||ot>.11){Oe(pe.current),(ye=m.onDismiss)==null||ye.call(m,m),H(O==="x"?De>0?"right":"left":Xe>0?"down":"up"),Ht(),ce(!0),de(!1);return}U(!1),V(null)},onPointerMove:se=>{var Se,Ae,ye,De;if(!Ce.current||!q||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let Xe=se.clientY-Ce.current.y,Qe=se.clientX-Ce.current.x,Ve=(Ae=t.swipeDirections)!=null?Ae:GE($);!O&&(Math.abs(Qe)>1||Math.abs(Xe)>1)&&V(Math.abs(Qe)>Math.abs(Xe)?"x":"y");let ot={x:0,y:0};O==="y"?(Ve.includes("top")||Ve.includes("bottom"))&&(Ve.includes("top")&&Xe<0||Ve.includes("bottom")&&Xe>0)&&(ot.y=Xe):O==="x"&&(Ve.includes("left")||Ve.includes("right"))&&(Ve.includes("left")&&Qe<0||Ve.includes("right")&&Qe>0)&&(ot.x=Qe),(Math.abs(ot.x)>0||Math.abs(ot.y)>0)&&de(!0),(ye=Pe.current)==null||ye.style.setProperty("--swipe-amount-x",`${ot.x}px`),(De=Pe.current)==null||De.style.setProperty("--swipe-amount-y",`${ot.y}px`)}},le&&!m.jsx?Le.createElement("button",{"aria-label":M,"data-disabled":eo,"data-close-button":!0,onClick:eo||!q?()=>{}:()=>{var se;Ht(),(se=m.onDismiss)==null||se.call(m,m)},className:en(N?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(s=L?.close)!=null?s:FE):null,m.jsx||db(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:Le.createElement(Le.Fragment,null,Y||m.icon||m.promise?Le.createElement("div",{"data-icon":"",className:en(N?.icon,(i=m?.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Co():null,m.type!=="loading"?m.icon||L?.[Y]||yE(Y):null):null,Le.createElement("div",{"data-content":"",className:en(N?.content,(l=m?.classNames)==null?void 0:l.content)},Le.createElement("div",{"data-title":"",className:en(N?.title,(a=m?.classNames)==null?void 0:a.title)},typeof m.title=="function"?m.title():m.title),m.description?Le.createElement("div",{"data-description":"",className:en(T,fe,N?.description,(c=m?.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),db(m.cancel)?m.cancel:m.cancel&&Om(m.cancel)?Le.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:se=>{var Se,Ae;Om(m.cancel)&&q&&((Ae=(Se=m.cancel).onClick)==null||Ae.call(Se,se),Ht())},className:en(N?.cancelButton,(u=m?.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,db(m.action)?m.action:m.action&&Om(m.action)?Le.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:se=>{var Se,Ae;Om(m.action)&&((Ae=(Se=m.action).onClick)==null||Ae.call(Se,se),!se.defaultPrevented&&Ht())},className:en(N?.actionButton,(d=m?.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function Wx(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function WE(t,e){let o={};return[t,e].forEach((n,r)=>{let s=r===1,i=s?"--mobile-offset":"--offset",l=s?jE:kE;function a(c){["top","right","bottom","left"].forEach(u=>{o[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?a(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?o[`${i}-${c}`]=l:o[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):a(l)}),o}var Hx=bE(function(t,e){let{invert:o,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:a,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:m,visibleToasts:p=$E,toastOptions:h,dir:g=Wx(),gap:b=ME,loadingIcon:y,icons:v,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:w}=t,[S,x]=Le.useState([]),F=Le.useMemo(()=>Array.from(new Set([n].concat(S.filter(k=>k.position).map(k=>k.position)))),[S,n]),[I,R]=Le.useState([]),[D,_]=Le.useState(!1),[T,A]=Le.useState(!1),[$,P]=Le.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=Le.useRef(null),B=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=Le.useRef(null),L=Le.useRef(!1),M=Le.useCallback(k=>{x(O=>{var V;return(V=O.find(G=>G.id===k.id))!=null&&V.delete||pr.dismiss(k.id),O.filter(({id:G})=>G!==k.id)})},[]);return Le.useEffect(()=>pr.subscribe(k=>{if(k.dismiss){x(O=>O.map(V=>V.id===k.id?{...V,delete:!0}:V));return}setTimeout(()=>{vE.flushSync(()=>{x(O=>{let V=O.findIndex(G=>G.id===k.id);return V!==-1?[...O.slice(0,V),{...O[V],...k},...O.slice(V+1)]:[k,...O]})})})}),[]),Le.useEffect(()=>{if(u!=="system"){P(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:O})=>{P(O?"dark":"light")})}catch{k.addListener(({matches:V})=>{try{P(V?"dark":"light")}catch(G){console.error(G)}})}},[u]),Le.useEffect(()=>{S.length<=1&&_(!1)},[S]),Le.useEffect(()=>{let k=O=>{var V,G;r.every(H=>O[H]||O.code===H)&&(_(!0),(V=j.current)==null||V.focus()),O.code==="Escape"&&(document.activeElement===j.current||(G=j.current)!=null&&G.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),Le.useEffect(()=>{if(j.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,L.current=!1)}},[j.current]),Le.createElement("section",{ref:e,"aria-label":`${C} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((k,O)=>{var V;let[G,H]=k.split("-");return S.length?Le.createElement("ol",{key:k,dir:g==="auto"?Wx():g,tabIndex:-1,ref:j,className:l,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":G,"data-lifted":D&&S.length>1&&!s,"data-x-position":H,style:{"--front-toast-height":`${((V=I[0])==null?void 0:V.height)||0}px`,"--width":`${BE}px`,"--gap":`${b}px`,...m,...WE(a,c)},onBlur:z=>{L.current&&!z.currentTarget.contains(z.relatedTarget)&&(L.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||L.current||(L.current=!0,N.current=z.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{T||_(!1)},onPointerDown:z=>{z.target instanceof HTMLElement&&z.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},S.filter(z=>!z.position&&O===0||z.position===k).map((z,Q)=>{var J,X;return Le.createElement(zE,{key:z.id,icons:v,index:Q,toast:z,defaultRichColors:d,duration:(J=h?.duration)!=null?J:f,className:h?.className,descriptionClassName:h?.descriptionClassName,invert:o,visibleToasts:p,closeButton:(X=h?.closeButton)!=null?X:i,interacting:T,position:k,style:h?.style,unstyled:h?.unstyled,classNames:h?.classNames,cancelButtonStyle:h?.cancelButtonStyle,actionButtonStyle:h?.actionButtonStyle,removeToast:M,toasts:S.filter(ie=>ie.position==z.position),heights:I.filter(ie=>ie.position==z.position),setHeights:R,expandByDefault:s,gap:b,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:w,swipeDirections:t.swipeDirections})})):null}))});import{jsx as gb,jsxs as oN}from"react/jsx-runtime";import Jx from"react";import{jsx as QE}from"react/jsx-runtime";import hb from"next/link.js";import{useRouter as KE}from"next/navigation.js";import"react";import{c as HE}from"react/compiler-runtime";import{jsx as UE}from"react/jsx-runtime";import fb,{startTransition as XE,useEffect as ZE,useOptimistic as YE,useRef as Ux}from"react";var pb=t=>{let e=HE(11),{children:o}=t,[n,r]=YE(!1),[s,i]=fb.useState(0),l=Ux(s),a=Ux(null),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{a.current=setInterval(()=>{let g=l.current+(.93-l.current)*Math.random()*.2*Math.pow(Math.log(1+(1-l.current)*.75),.75);i(g),l.current=g},250)},e[0]=c):c=e[0];let u=c,d,f;e[1]!==n?(d=()=>{i(0),l.current=0,n?u():a.current&&clearInterval(a.current)},f=[n,u],e[1]=n,e[2]=d,e[3]=f):(d=e[2],f=e[3]),ZE(d,f);let m;e[4]!==r?(m=g=>{XE(()=>{r(!0),typeof g=="function"&&g()})},e[4]=r,e[5]=m):m=e[5];let p=m,h;return e[6]!==o||e[7]!==n||e[8]!==p||e[9]!==s?(h=UE(Xx,{value:{isTransitioning:n,startRouteTransition:p,transitionProgress:s},children:o}),e[6]=o,e[7]=n,e[8]=p,e[9]=s,e[10]=h):h=e[10],h},Xx=fb.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),Ze=()=>fb.use(Xx);var JE=/https?|ftp|gopher|file/;function Zx(t){return typeof t=="string"||typeof t=="number"&&!isNaN(t)||typeof t=="boolean"?String(t):""}function qE(t){let e=new URLSearchParams;return Object.entries(t).forEach(([o,n])=>{Array.isArray(n)?n.forEach(r=>e.append(o,Zx(r))):e.set(o,Zx(n))}),e}function Yx(t){let{auth:e}=t,{hostname:o}=t,n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=t.query||"",l=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?l=e+t.host:o&&(l=e+(~o.indexOf(":")?`[${o}]`:o),t.port&&(l+=":"+t.port)),i&&typeof i=="object"&&(i=String(qE(i)));let a=t.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||JE.test(n))&&l!==!1?(l="//"+(l||""),r&&r[0]!=="/"&&(r="/"+r)):l||(l=""),s&&s[0]!=="#"&&(s="#"+s),a&&a[0]!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,encodeURIComponent),a=a.replace("#","%23"),`${n}${l}${r}${a}${s}`}var eN="default"in hb?hb.default:hb;function tN(t){let o=t.currentTarget.getAttribute("target");return o&&o!=="_self"||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&t.nativeEvent.which===2}var Xt=({children:t,href:e,onClick:o,preventDefault:n=!0,ref:r,replace:s,scroll:i,...l})=>{let a=KE(),{startRouteTransition:c}=Ze();return QE(eN,{href:e,onClick:u=>{tN(u)||(o&&o(u),n&&u.preventDefault(),c(()=>{let d=typeof e=="string"?e:Yx(e);s?a.replace(d,{scroll:i}):a.push(d,{scroll:i})}))},ref:r,...l,children:t})};var Ri="banner",tn=({type:t="default",alignIcon:e="right",children:o,className:n,icon:r,onClick:s,to:i})=>{let l=[Ri,`${Ri}--type-${t}`,n&&n,i&&`${Ri}--has-link`,(i||s)&&`${Ri}--has-action`,r&&`${Ri}--has-icon`,r&&`${Ri}--align-icon-${e}`].filter(Boolean).join(" "),a="div";return s&&!i&&(a="button"),i&&(a=Xt),oN(a,{className:l,href:i||null,onClick:s,children:[r&&e==="left"&&gb(Jx.Fragment,{children:r}),gb("span",{className:`${Ri}__content`,children:o}),r&&e==="right"&&gb(Jx.Fragment,{children:r})]})};import{jsx as gr,jsxs as Hm}from"react/jsx-runtime";import CN,{Fragment as xN,isValidElement as wN}from"react";import{jsx as qx}from"react/jsx-runtime";import"react";var He=({ariaLabel:t,className:e,direction:o,size:n})=>qx("svg",{"aria-label":t,className:["icon icon--chevron",e,n&&`icon--size-${n}`].filter(Boolean).join(" "),height:"100%",style:{transform:o==="left"?"rotate(90deg)":o==="right"?"rotate(-90deg)":o==="up"?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:qx("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})});import{jsx as Qx}from"react/jsx-runtime";import"react";var hr=({className:t})=>Qx("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Qx("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})});import{jsx as Kx}from"react/jsx-runtime";import"react";var bb=()=>Kx("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Kx("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})});import{jsx as ew}from"react/jsx-runtime";import"react";var tr=()=>ew("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:ew("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})});import{jsx as tw}from"react/jsx-runtime";import"react";var vb=()=>tw("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:tw("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})});import{jsx as Ai,jsxs as wb}from"react/jsx-runtime";var Ie={};wx(Ie,{Button:()=>Cb,ButtonGroup:()=>yb,Divider:()=>ow,GroupLabel:()=>rw});import{jsx as Vm}from"react/jsx-runtime";import"react";import{jsx as rN}from"react/jsx-runtime";import"react";var nN="popup-divider",ow=()=>rN("hr",{className:nN});import{jsx as sN}from"react/jsx-runtime";import"react";var iN="popup-list-group-label",rw=({label:t})=>sN("p",{className:iN,children:t});var Va="popup-button-list",yb=({buttonSize:t="default",children:e,className:o,textAlign:n="left"})=>{let r=[Va,o,`${Va}__text-align--${n}`,`${Va}__button-size--${t}`].filter(Boolean).join(" ");return Vm("div",{className:r,children:e})},Cb=({id:t,active:e,children:o,className:n,disabled:r,href:s,onClick:i})=>{let l=[`${Va}__button`,r&&`${Va}__disabled`,e&&`${Va}__button--selected`,n].filter(Boolean).join(" ");if(!r){if(s)return Vm(Xt,{className:l,href:s,id:t,onClick:a=>{i&&i(a)},prefetch:!1,children:o});if(i)return Vm("button",{className:l,id:t,onClick:a=>{i&&i(a)},type:"button",children:o})}return Vm("div",{className:l,id:t,children:o})};var Gs={};wx(Gs,{WindowInfo:()=>iw,WindowInfoContext:()=>Ga,WindowInfoProvider:()=>cw,useWindowInfo:()=>$o,withWindowInfo:()=>uw});import{useContext as lN}from"react";import{createContext as aN}from"react";var Ga=aN({});var $o=()=>lN(Ga);import nw,{Fragment as sw}from"react";var iw=t=>{let{children:e}=t,o=$o();return e?typeof e=="function"?nw.createElement(sw,null,e(o)):nw.createElement(sw,null,e):null};import cN,{useCallback as aw,useEffect as lw,useReducer as uN,useRef as dN}from"react";var mN=(t,e)=>{let{payload:{breakpoints:o,animationRef:n}}=e;n.current=null;let{eventsFired:r}=t,{documentElement:{style:s,clientWidth:i,clientHeight:l}}=document,{innerWidth:a,innerHeight:c}=window,u=`${i/100}px`,d=`${l/100}px`,f=o?Object.keys(o).reduce((p,h)=>Object.assign(Object.assign({},p),{[h]:window.matchMedia(o[h]).matches}),{}):{},m={width:a,height:c,"--vw":u,"--vh":d,breakpoints:f,eventsFired:r+1};return s.setProperty("--vw",u),s.setProperty("--vh",d),m},cw=t=>{let{breakpoints:e,children:o}=t,n=dN(null),[r,s]=uN(mN,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=aw(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}}))},[e]),l=aw(()=>{setTimeout(()=>{i()},500)},[i]);return lw(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",l),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",l)}),[i,l]),lw(()=>{r.eventsFired===0&&s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}})},[e,r]),cN.createElement(Ga.Provider,{value:Object.assign({},r)},o&&o)};import fN from"react";var uw=t=>o=>{let n=$o();return fN.createElement(t,Object.assign({},o,{windowInfo:n}))};import vN,{useCallback as fw,useEffect as Gm,useRef as pw,useState as Sb}from"react";import{c as pN}from"react/compiler-runtime";import{useEffect as hN,useRef as gN,useState as dw}from"react";var ts=(t,e)=>{let o=pN(8),{root:n,rootMargin:r,threshold:s}=t===void 0?{}:t,i=n===void 0?null:n,l=r===void 0?"0px":r,a=s===void 0?0:s,[c,u]=dw(),[d,f]=dw(null),m=gN(typeof window<"u"&&"IntersectionObserver"in window&&!e?new window.IntersectionObserver(b=>{let[y]=b;return u(y)},{root:i,rootMargin:l,threshold:a}):null),p,h;o[0]!==e||o[1]!==d?(p=()=>{if(e)return;let{current:b}=m;return b.disconnect(),d&&b.observe(d),()=>b.disconnect()},h=[d,e],o[0]=e,o[1]=d,o[2]=p,o[3]=h):(p=o[2],h=o[3]),hN(p,h);let g;return o[4]!==c||o[5]!==d||o[6]!==f?(g=[f,c,d],o[4]=c,o[5]=d,o[6]=f,o[7]=g):g=o[7],g};import{c as bN}from"react/compiler-runtime";import{jsx as mw}from"react/jsx-runtime";import"react";var Ac="popup-button",xb=t=>{let e=bN(24),{active:o,button:n,buttonType:r,className:s,disabled:i,noBackground:l,setActive:a,size:c}=t,u=`${Ac}--${r}`,d=!l&&`${Ac}--background`,f=c&&`${Ac}--size-${c}`,m=i&&`${Ac}--disabled`,p;e[0]!==s||e[1]!==u||e[2]!==d||e[3]!==f||e[4]!==m?(p=[Ac,s,u,d,f,m].filter(Boolean),e[0]=s,e[1]=u,e[2]=d,e[3]=f,e[4]=m,e[5]=p):p=e[5];let h=p.join(" "),g;e[6]!==o||e[7]!==a?(g=()=>{a(!o)},e[6]=o,e[7]=a,e[8]=g):g=e[8];let b=g;if(r==="none")return null;if(r==="custom"){let C;e[9]!==b?(C=S=>{S.key==="Enter"&&b()},e[9]=b,e[10]=C):C=e[10];let w;return e[11]!==n||e[12]!==h||e[13]!==b||e[14]!==C?(w=mw("div",{className:h,onClick:b,onKeyDown:C,role:"button",tabIndex:0,children:n}),e[11]=n,e[12]=h,e[13]=b,e[14]=C,e[15]=w):w=e[15],w}let y;e[16]!==b?(y=C=>{C.key==="Enter"&&b()},e[16]=b,e[17]=y):y=e[17];let v;return e[18]!==n||e[19]!==h||e[20]!==i||e[21]!==b||e[22]!==y?(v=mw("button",{className:h,disabled:i,onClick:b,onKeyDown:y,tabIndex:0,type:"button",children:n}),e[18]=n,e[19]=h,e[20]=i,e[21]=b,e[22]=y,e[23]=v):v=e[23],v};var or="popup",nt=t=>{let{id:e,boundingRef:o,button:n,buttonClassName:r,buttonSize:s,buttonType:i="default",caret:l=!0,children:a,className:c,disabled:u,forceOpen:d,horizontalAlign:f="left",initActive:m=!1,noBackground:p,onToggleClose:h,onToggleOpen:g,render:b,showOnHover:y=!1,showScrollbar:v=!1,size:C="medium",verticalAlign:w="top"}=t,{height:S,width:x}=$o(),[F,I]=ts({root:o?.current||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),R=pw(null),D=pw(null),[_,T]=Sb(m),[A,$]=Sb(w),[P,j]=Sb(f),B=vN.useCallback(k=>{k&&typeof g=="function"&&g(!0),!k&&typeof h=="function"&&h(),T(k)},[h,g]),N=fw(({horizontal:k=!1,vertical:O=!1})=>{if(R.current){let V=R.current.getBoundingClientRect(),{bottom:G,left:H,right:z,top:Q}=V,J=100,X=document.documentElement.clientWidth,ie=document.documentElement.clientHeight,U=0;o?.current&&({bottom:ie,left:U,right:X,top:J}=o.current.getBoundingClientRect()),k&&(z>X&&H>U?j("right"):H<U&&z<X&&j("left")),O&&(Q<J&&G<ie?$("bottom"):G>ie&&Q>J&&$("top"))}},[o]),L=fw(k=>{R.current.contains(k.target)||D.current.contains(k.target)||B(!1)},[R,B]);Gm(()=>{N({horizontal:!0})},[I,N,x]),Gm(()=>{N({vertical:!0})},[I,N,S]),Gm(()=>(_?document.addEventListener("mousedown",L):document.removeEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}),[_,L,g]),Gm(()=>{B(d)},[d,B]);let M=[or,c,`${or}--size-${C}`,s&&`${or}--button-size-${s}`,`${or}--v-align-${A}`,`${or}--h-align-${P}`,_&&`${or}--active`,v&&`${or}--show-scrollbar`].filter(Boolean).join(" ");return wb("div",{className:M,id:e,children:[Ai("div",{className:`${or}__trigger-wrap`,ref:D,children:y?Ai("div",{className:`${or}__on-hover-watch`,onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1),role:"button",tabIndex:0,children:Ai(xb,{active:_,button:n,buttonType:i,className:r,disabled:u,noBackground:p,setActive:B,size:s})}):Ai(xb,{active:_,button:n,buttonType:i,className:r,disabled:u,noBackground:p,setActive:B,size:s})}),wb("div",{className:`${or}__content`,ref:R,children:[Ai("div",{className:`${or}__hide-scrollbar`,ref:F,children:Ai("div",{className:`${or}__scroll-container`,children:wb("div",{className:`${or}__scroll-content`,children:[b&&b({close:()=>B(!1)}),a]})})}),l&&Ai("div",{className:`${or}__caret`})]})]})};import{jsx as zm,jsxs as yN}from"react/jsx-runtime";import Ib,{useEffect as hw}from"react";var To=t=>{let{alignCaret:e="center",boundingRef:o,children:n,className:r,delay:s=350,position:i,show:l=!0,staticPositioning:a=!1}=t,[c,u]=Ib.useState(l),[d,f]=Ib.useState("top"),m=g=>typeof g=="string"?g:"",[p,h]=ts({root:o?.current||null,rootMargin:"-145px 0px 0px 100px",threshold:0},a);return hw(()=>{let g;return s&&l?g=setTimeout(()=>{u(l)},s):u(l),()=>{g&&clearTimeout(g)}},[l,s]),hw(()=>{a||f(h?.isIntersecting?"top":"bottom")},[h,a]),yN(Ib.Fragment,{children:[!a&&zm("aside",{"aria-hidden":"true",className:["tooltip",r,`tooltip--caret-${e}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:p,style:{opacity:"0"},children:zm("div",{className:"tooltip-content",children:n})}),zm("aside",{className:["tooltip",r,c&&"tooltip--show",`tooltip--caret-${e}`,`tooltip--position-${i||d}`].filter(Boolean).join(" "),title:m(n),children:zm("div",{className:"tooltip-content",children:n})})]})};var SN={chevron:He,edit:hr,link:bb,plus:tr,swap:vb,x:ht},bo="btn",Wm=({children:t,icon:e,showTooltip:o,tooltip:n})=>{let r=SN[e];return Hm(xN,{children:[n&&gr(To,{className:`${bo}__tooltip`,show:o,children:n}),Hm("span",{className:`${bo}__content`,children:[t&&gr("span",{className:`${bo}__label`,children:t}),e&&Hm("span",{className:`${bo}__icon`,children:[wN(e)&&e,r&&gr(r,{})]})]})]})},te=t=>{let{id:e,type:o="button","aria-label":n,buttonStyle:r="primary",children:s,className:i,disabled:l,el:a="button",enableSubMenu:c,extraButtonProps:u={},icon:d,iconPosition:f="right",iconStyle:m="without-border",margin:p=!0,newTab:h,onClick:g,onMouseDown:b,ref:y,round:v,size:C="medium",SubMenuPopupContent:w,to:S,tooltip:x,url:F}=t,[I,R]=CN.useState(!1),D=[bo,i&&i,d&&`${bo}--icon`,m&&`${bo}--icon-style-${m}`,d&&!s&&`${bo}--icon-only`,C&&`${bo}--size-${C}`,d&&f&&`${bo}--icon-position-${f}`,x&&`${bo}--has-tooltip`,!w&&`${bo}--withoutPopup`,!p&&`${bo}--no-margin`].filter(Boolean).join(" ");function _(P){R(!1),o!=="submit"&&g&&P.preventDefault(),g&&g(P)}let T=[r&&`${bo}--style-${r}`,l&&`${bo}--disabled`,v&&`${bo}--round`,w?`${bo}--withPopup`:`${bo}--withoutPopup`].filter(Boolean).join(" "),A={id:e,type:o,"aria-disabled":l,"aria-label":n,className:w?D:[D,T].join(" "),disabled:l,onClick:l?void 0:_,onMouseDown:l?void 0:b,onPointerEnter:x?()=>R(!0):void 0,onPointerLeave:x?()=>R(!1):void 0,rel:h?"noopener noreferrer":void 0,target:h?"_blank":void 0,title:n,...u},$;switch(a){case"anchor":$=gr("a",{...A,href:l?void 0:F,ref:y,children:gr(Wm,{icon:d,showTooltip:I,tooltip:x,children:s})});break;case"link":l&&($=gr("div",{...A,children:gr(Wm,{icon:d,showTooltip:I,tooltip:x,children:s})})),$=gr(Xt,{...A,href:S||F,prefetch:!1,children:gr(Wm,{icon:d,showTooltip:I,tooltip:x,children:s})});break;default:$=gr(a,{ref:y,...A,children:gr(Wm,{icon:d,showTooltip:I,tooltip:x,children:s})});break}return w?Hm("div",{className:T,children:[$,gr(nt,{button:gr(He,{}),buttonSize:C,className:l&&!c?`${bo}--popup-disabled`:"",disabled:l&&!c,horizontalAlign:"right",id:`${e}-popup`,noBackground:!0,render:({close:P})=>w({close:()=>P()}),size:"large",verticalAlign:"bottom"})]}):$};import{fieldAffectsData as gw,fieldHasSubFields as bw}from"payload/shared";function vw({data:t,path:e,...o}){return typeof t>"u"||!e||!o.type?!1:o.type==="blocks"?IN({blocksFromClipboard:o.blocks,blocksFromConfig:o.schemaBlocks}):_b({fieldsFromClipboard:o.fields,fieldsFromConfig:o.schemaFields})}function _b({fieldsFromClipboard:t,fieldsFromConfig:e}){return!e||t.length!==e?.length?!1:t.every((o,n)=>{let r=e[n];if(o.type!==r.type||gw(o)&&gw(r)&&o.name!==r.name)return!1;let i=bw(r),l=bw(o);return l!==i?!1:l&&i?_b({fieldsFromClipboard:o.fields,fieldsFromConfig:r.fields}):!0})}function IN({blocksFromClipboard:t,blocksFromConfig:e}){let o=new Map(e?.map(r=>[r.slug,r]));if(!o.size)return!1;let n=new Set;for(let r of t){let s=r.slug;if(!n.has(s)){let i=o.get(s);if(!i||!_b({fieldsFromClipboard:r.fields,fieldsFromConfig:i.fields}))return!1;n.add(s)}}return!0}var yw="_payloadClipboard";function za(t){let{getDataToCopy:e,t:o,...n}=t,r={data:e(),...n};try{return localStorage.setItem(yw,JSON.stringify(r)),!0}catch{return o("error:unableToCopy")}}function Wa({onPaste:t,path:e,t:o,...n}){let r;try{let i=localStorage.getItem(yw);if(!i)return o("error:invalidClipboardData");r=JSON.parse(i)}catch{return o("error:invalidClipboardData")}let s={...r,...n,fieldPath:e};return vw(s)?(t(r),!0):o("error:invalidClipboardData")}import{jsx as Ua,jsxs as RN}from"react/jsx-runtime";import{useCallback as ww}from"react";import{jsx as Fb,jsxs as _N}from"react/jsx-runtime";import"react";var Pc=({className:t})=>_N("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[Fb("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),Fb("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),Fb("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]});import{c as FN}from"react/compiler-runtime";import{jsx as xw,jsxs as TN}from"react/jsx-runtime";import{Fragment as DN}from"react";import{jsx as Cw}from"react/jsx-runtime";import"react";var Pi=()=>Cw("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Cw("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})});var Ha=t=>{let e=FN(4),{isPaste:o,isRow:n}=t,{t:r}=E(),s;if(e[0]!==o||e[1]!==n||e[2]!==r){let i=r("general:copyField");!n&&o?i=r("general:pasteField"):n&&!o?i=r("general:copyRow"):n&&o&&(i=r("general:pasteRow")),s=TN(DN,{children:[o?xw(hr,{}):xw(Pi,{})," ",i]}),e[0]=o,e[1]=n,e[2]=r,e[3]=s}else s=e[3];return s};var AN="clipboard-action",Um=({allowCopy:t,allowPaste:e,className:o,copyClassName:n,disabled:r,isRow:s,onPaste:i,pasteClassName:l,path:a,...c})=>{let{t:u}=E(),d=[`${AN}__popup`,o].filter(Boolean).join(" "),f=ww(()=>{let p=za({path:a,t:u,...c});typeof p=="string"?oe.error(p):oe.success(u("general:copied"))},[u,c,a]),m=ww(()=>{let p=Wa(c.type==="array"?{onPaste:i,path:a,schemaFields:c.fields,t:u}:{onPaste:i,path:a,schemaBlocks:c.blocks,t:u});typeof p=="string"&&oe.error(p)},[i,c,a,u]);return!e&&!t?null:Ua(nt,{button:Ua(Pc,{}),className:d,disabled:r,horizontalAlign:"center",render:({close:p})=>RN(Ie.ButtonGroup,{children:[Ua(Ie.Button,{className:n,disabled:!t,onClick:()=>{f(),p()},children:Ua(Ha,{isRow:s})}),Ua(Ie.Button,{className:l,disabled:!e,onClick:()=>{m(),p()},children:Ua(Ha,{isPaste:!0,isRow:s})})]}),size:"large",verticalAlign:"bottom"})};function Xa({formState:t,path:e,rowIndex:o}){let n={},r=typeof o!="number"?e:`${e}.${o}`;for(let s in t){if(!s.startsWith(r))continue;let{customComponents:i,validate:l,...a}=t[s];Array.isArray(a.rows)&&(a.rows=a.rows.map(c=>{if(!c||typeof c!="object")return c;let{customComponents:u,...d}=c;return d})),n[s]=a}return n}function Za({dataFromClipboard:t,formState:e,path:o,rowIndex:n}){let{type:r,data:s,path:i,rowIndex:l}=t,a=typeof l!="number",c=typeof n!="number",u=!a&&c,d=r==="array",f;a&&c?f=i:a?f=`${i}.${n}`:f=`${i}.${l}`;let m;if(c?u?m=`${o}.0`:m=o:m=`${o}.${n}`,u){let p=`${o}.0`,h=s[`${f}.id`].value,g=e[o].rows?.length;e[o].rows=[{...g&&d?e[o].rows[0]:{},id:h,isLoading:!1,lastRenderedPath:p}],e[o].value=1,e[o].initialValue=1,e[o].disableFormData=!0;for(let b in e)b!==o&&!b.startsWith(p)&&b.startsWith(o)&&delete e[b]}for(let p in s){if(!c&&p.endsWith(".id")||!p.startsWith(f))continue;let h=p.replace(f,m),g=d?e[h]?.customComponents:void 0,b=d?e[h]?.validate:void 0;e[h]={customComponents:g,validate:b,...s[p]}}return e}import{c as aL}from"react/compiler-runtime";import{jsx as lL}from"react/jsx-runtime";import{Fragment as cL}from"react";import{c as iL}from"react/compiler-runtime";import Aw,{useMemo as Zm,useRef as Rb,useEffect as Ym,useState as MN,useContext as ON}from"react";import{useDndContext as VN,getClientRect as GN,useDroppable as zN,useDraggable as WN,closestCorners as HN,getFirstCollision as UN,getScrollableAncestors as XN,KeyboardCode as zs}from"@dnd-kit/core";import{useMemo as Sw,useLayoutEffect as PN,useEffect as EN,useRef as _re,useCallback as Fre}from"react";function Iw(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return Sw(()=>n=>{e.forEach(r=>r(n))},e)}var NN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function LN(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function $N(t){return"nodeType"in t}function _w(t){var e,o;return t?LN(t)?t:$N(t)&&(e=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}var Db=NN?PN:EN;var Tb={};function Fw(t,e){return Sw(()=>{if(e)return e;let o=Tb[t]==null?0:Tb[t]+1;return Tb[t]=o,t+"-"+o},[t,e])}function kN(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.reduce((s,i)=>{let l=Object.entries(i);for(let[a,c]of l){let u=s[a];u!=null&&(s[a]=u+t*c)}return s},{...e})}}var Tw=kN(-1);function jN(t){return"clientX"in t&&"clientY"in t}function Dw(t){if(!t)return!1;let{KeyboardEvent:e}=_w(t.target);return e&&t instanceof e}function BN(t){if(!t)return!1;let{TouchEvent:e}=_w(t.target);return e&&t instanceof e}function Rw(t){if(BN(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:o}=t.touches[0];return{x:e,y:o}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:o}=t.changedTouches[0];return{x:e,y:o}}}return jN(t)?{x:t.clientX,y:t.clientY}:null}var Ec=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:o}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:o}=t;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[Ec.Translate.toString(t),Ec.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:o,easing:n}=t;return e+" "+o+"ms "+n}}});function qm(t,e,o){let n=t.slice();return n.splice(o<0?n.length+o:o,0,n.splice(e,1)[0]),n}function ZN(t,e){return t.reduce((o,n,r)=>{let s=e.get(n);return s&&(o[r]=s),o},Array(t.length))}function Xm(t){return t!==null&&t>=0}function YN(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function JN(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var Pw=t=>{let{rects:e,activeIndex:o,overIndex:n,index:r}=t,s=qm(e,n,o),i=e[r],l=s[r];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}};var Ew="Sortable",Nw=Aw.createContext({activeIndex:-1,containerId:Ew,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Pw,disabled:{draggable:!1,droppable:!1}});function Lw(t){let{children:e,id:o,items:n,strategy:r=Pw,disabled:s=!1}=t,{active:i,dragOverlay:l,droppableRects:a,over:c,measureDroppableContainers:u}=VN(),d=Fw(Ew,o),f=l.rect!==null,m=Zm(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),p=i!=null,h=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,b=Rb(m),y=!YN(m,b.current),v=g!==-1&&h===-1||y,C=JN(s);Db(()=>{y&&p&&u(m)},[y,m,p,u]),Ym(()=>{b.current=m},[m]);let w=Zm(()=>({activeIndex:h,containerId:d,disabled:C,disableTransforms:v,items:m,overIndex:g,useDragOverlay:f,sortedRects:ZN(m,a),strategy:r}),[h,d,C.draggable,C.droppable,v,m,g,a,f,r]);return Aw.createElement(Nw.Provider,{value:w},e)}var qN=t=>{let{id:e,items:o,activeIndex:n,overIndex:r}=t;return qm(o,n,r).indexOf(e)},QN=t=>{let{containerId:e,isSorting:o,wasDragging:n,index:r,items:s,newIndex:i,previousItems:l,previousContainerId:a,transition:c}=t;return!c||!n||l!==s&&r===i?!1:o?!0:i!==r&&e===a},KN={duration:200,easing:"ease"},$w="transform",eL=Ec.Transition.toString({property:$w,duration:0,easing:"linear"}),tL={roleDescription:"sortable"};function oL(t){let{disabled:e,index:o,node:n,rect:r}=t,[s,i]=MN(null),l=Rb(o);return Db(()=>{if(!e&&o!==l.current&&n.current){let a=r.current;if(a){let c=GN(n.current,{ignoreTransform:!0}),u={x:a.left-c.left,y:a.top-c.top,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&i(u)}}o!==l.current&&(l.current=o)},[e,o,n,r]),Ym(()=>{s&&i(null)},[s]),s}function kw(t){let{animateLayoutChanges:e=QN,attributes:o,disabled:n,data:r,getNewIndex:s=qN,id:i,strategy:l,resizeObserverConfig:a,transition:c=KN}=t,{items:u,containerId:d,activeIndex:f,disabled:m,disableTransforms:p,sortedRects:h,overIndex:g,useDragOverlay:b,strategy:y}=ON(Nw),v=rL(n,m),C=u.indexOf(i),w=Zm(()=>({sortable:{containerId:d,index:C,items:u},...r}),[d,r,C,u]),S=Zm(()=>u.slice(u.indexOf(i)),[u,i]),{rect:x,node:F,isOver:I,setNodeRef:R}=zN({id:i,data:w,disabled:v.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...a}}),{active:D,activatorEvent:_,activeNodeRect:T,attributes:A,setNodeRef:$,listeners:P,isDragging:j,over:B,setActivatorNodeRef:N,transform:L}=WN({id:i,data:w,attributes:{...tL,...o},disabled:v.draggable}),M=Iw(R,$),k=!!D,O=k&&!p&&Xm(f)&&Xm(g),V=!b&&j,G=V&&O?L:null,z=O?G??(l??y)({rects:h,activeNodeRect:T,activeIndex:f,overIndex:g,index:C}):null,Q=Xm(f)&&Xm(g)?s({id:i,items:u,activeIndex:f,overIndex:g}):C,J=D?.id,X=Rb({activeId:J,items:u,newIndex:Q,containerId:d}),ie=u!==X.current.items,U=e({active:D,containerId:d,isDragging:j,isSorting:k,id:i,index:C,items:u,newIndex:X.current.newIndex,previousItems:X.current.items,previousContainerId:X.current.containerId,transition:c,wasDragging:X.current.activeId!=null}),re=oL({disabled:!U,index:C,node:F,rect:x});return Ym(()=>{k&&X.current.newIndex!==Q&&(X.current.newIndex=Q),d!==X.current.containerId&&(X.current.containerId=d),u!==X.current.items&&(X.current.items=u)},[k,Q,d,u]),Ym(()=>{if(J===X.current.activeId)return;if(J&&!X.current.activeId){X.current.activeId=J;return}let ge=setTimeout(()=>{X.current.activeId=J},50);return()=>clearTimeout(ge)},[J]),{active:D,activeIndex:f,attributes:A,data:w,rect:x,index:C,newIndex:Q,items:u,isOver:I,isSorting:k,isDragging:j,listeners:P,node:F,overIndex:g,over:B,setNodeRef:M,setActivatorNodeRef:N,setDroppableNodeRef:R,setDraggableNodeRef:$,transform:re??z,transition:ce()};function ce(){if(re||ie&&X.current.newIndex===C)return eL;if(!(V&&!Dw(_)||!c)&&(k||U))return Ec.Transition.toString({...c,property:$w})}}function rL(t,e){var o,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function Jm(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var nL=[zs.Down,zs.Right,zs.Up,zs.Left],jw=(t,e)=>{let{context:{active:o,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:l}}=e;if(nL.includes(t.code)){if(t.preventDefault(),!o||!n)return;let a=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=r.get(d.id);if(f)switch(t.code){case zs.Down:n.top<f.top&&a.push(d);break;case zs.Up:n.top>f.top&&a.push(d);break;case zs.Left:n.left>f.left&&a.push(d);break;case zs.Right:n.left<f.left&&a.push(d);break}});let c=HN({active:o,collisionRect:n,droppableRects:r,droppableContainers:a,pointerCoordinates:null}),u=UN(c,"id");if(u===i?.id&&c.length>1&&(u=c[1].id),u!=null){let d=s.get(o.id),f=s.get(u),m=f?r.get(f.id):null,p=f?.node.current;if(p&&m&&d&&f){let g=XN(p).some((S,x)=>l[x]!==S),b=Bw(d,f),y=sL(d,f),v=g||!b?{x:0,y:0}:{x:y?n.width-m.width:0,y:y?n.height-m.height:0},C={x:m.left,y:m.top};return v.x&&v.y?C:Tw(C,v)}}}};function Bw(t,e){return!Jm(t)||!Jm(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function sL(t,e){return!Jm(t)||!Jm(e)||!Bw(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var Ya=t=>{let e=iL(17),{id:o,disabled:n}=t,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},e[0]=r):r=e[0];let s;e[1]!==n||e[2]!==o?(s={id:o,disabled:n,transition:r},e[1]=n,e[2]=o,e[3]=s):s=e[3];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=kw(s),f=l?"grabbing":"grab",m;e[4]!==f||e[5]!==d?(m={cursor:f,transition:d},e[4]=f,e[5]=d,e[6]=m):m=e[6];let p;e[7]!==i||e[8]!==m?(p={...i,style:m},e[7]=i,e[8]=m,e[9]=p):p=e[9];let h=u&&`translate3d(${u.x}px, ${u.y}px, 0)`,g;return e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==p||e[14]!==h||e[15]!==d?(g={attributes:p,isDragging:l,listeners:a,setNodeRef:c,transform:h,transition:d},e[10]=l,e[11]=a,e[12]=c,e[13]=p,e[14]=h,e[15]=d,e[16]=g):g=e[16],g};var Fn=t=>{let e=aL(12),{id:o,children:n,disabled:r}=t,s;e[0]!==r||e[1]!==o?(s={id:o,disabled:r},e[0]=r,e[1]=o,e[2]=s):s=e[2];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=Ya(s),f=l?"grabbing":"grab",m;return e[3]!==i||e[4]!==n||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==f||e[9]!==u||e[10]!==d?(m=lL(cL,{children:n({attributes:{...i,style:{cursor:f}},isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d})}),e[3]=i,e[4]=n,e[5]=l,e[6]=a,e[7]=c,e[8]=f,e[9]=u,e[10]=d,e[11]=m):m=e[11],m};import{c as uL}from"react/compiler-runtime";import{jsx as Ab}from"react/jsx-runtime";import{closestCenter as dL,DndContext as mL,KeyboardSensor as fL,PointerSensor as pL,useDroppable as hL,useSensor as Mw,useSensors as gL}from"@dnd-kit/core";import{useId as bL}from"react";var kr=t=>{let e=uL(18),{children:o,className:n,ids:r,onDragEnd:s,onDragStart:i}=t,l=bL(),a;e[0]!==l?(a={id:l},e[0]=l,e[1]=a):a=e[1];let{setNodeRef:c}=hL(a),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={activationConstraint:{distance:5}},e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={coordinateGetter:jw},e[3]=d):d=e[3];let f=gL(Mw(pL,u),Mw(fL,d)),m;e[4]!==r||e[5]!==s?(m=y=>{let{active:v,over:C}=y;y.activatorEvent.stopPropagation(),!(!v||!C)&&typeof s=="function"&&s({event:y,moveFromIndex:r.findIndex(w=>w===v.id),moveToIndex:r.findIndex(w=>w===C.id)})},e[4]=r,e[5]=s,e[6]=m):m=e[6];let p=m,h;e[7]!==i?(h=y=>{let{active:v}=y;v&&typeof i=="function"&&i({id:v.id,event:y})},e[7]=i,e[8]=h):h=e[8];let g=h,b;return e[9]!==o||e[10]!==n||e[11]!==p||e[12]!==g||e[13]!==l||e[14]!==r||e[15]!==f||e[16]!==c?(b=Ab(mL,{collisionDetection:dL,id:l,onDragEnd:p,onDragStart:g,sensors:f,children:Ab(Lw,{items:r,children:Ab("div",{className:n,ref:c,children:o})})}),e[9]=o,e[10]=n,e[11]=p,e[12]=g,e[13]=l,e[14]=r,e[15]=f,e[16]=c,e[17]=b):b=e[17],b};import{jsx as Ow,jsxs as vL}from"react/jsx-runtime";import"react";var Qm="error-pill",xo=t=>{let{className:e,count:o,i18n:n,withMessage:r}=t,s=!r&&o<99,i=[Qm,s&&`${Qm}--fixed-width`,e&&e].filter(Boolean).join(" ");return o===0?null:Ow("div",{className:i,children:vL("div",{className:`${Qm}__content`,children:[Ow("span",{className:`${Qm}__count`,children:o}),r&&` ${o>1?n.t("general:errors"):n.t("general:error")}`]})})};import{c as yL}from"react/compiler-runtime";import{jsx as CL}from"react/jsx-runtime";import{getTranslation as xL}from"@payloadcms/translations";import"react";var Vw="field-description",Ue=t=>{let e=yL(8),{className:o,description:n,marginPlacement:r,path:s}=t,{i18n:i}=E();if(n){let l=`field-description-${s?.replace(/\./g,"__")}`,a=r&&`${Vw}--margin-${r}`,c;e[0]!==o||e[1]!==l||e[2]!==a?(c=[Vw,o,l,a].filter(Boolean),e[0]=o,e[1]=l,e[2]=a,e[3]=c):c=e[3];let u=c.join(" "),d;return e[4]!==n||e[5]!==i||e[6]!==u?(d=CL("div",{className:u,children:xL(n,i)}),e[4]=n,e[5]=i,e[6]=u,e[7]=d):d=e[7],d}return null};import{c as wL}from"react/compiler-runtime";import{jsx as SL}from"react/jsx-runtime";import"react";var IL="field-error",Ye=t=>{let e=wL(8),{alignCaret:o,message:n,path:r,showError:s}=t,i=o===void 0?"right":o,l=ao(),a;e[0]!==r?(a=d=>{let[f]=d;return f&&f?.[r]||null},e[0]=r,e[1]=a):a=e[1];let c=Et(a),u;if(e[2]!==i||e[3]!==c||e[4]!==l||e[5]!==n||e[6]!==s){u=Symbol.for("react.early_return_sentinel");e:{let{errorMessage:d,valid:f}=c||{},m=n||d;if((s||l&&f===!1)&&m?.length){u=SL(To,{alignCaret:i,className:IL,delay:0,staticPositioning:!0,children:m});break e}}e[2]=i,e[3]=c,e[4]=l,e[5]=n,e[6]=s,e[7]=u}else u=e[7];return u!==Symbol.for("react.early_return_sentinel")?u:null};import{jsx as B9,jsxs as T2}from"react/jsx-runtime";import{getTranslation as M9}from"@payloadcms/translations";import"react";import{c as _L}from"react/compiler-runtime";import{jsx as FL}from"react/jsx-runtime";import{createContext as TL,use as DL}from"react";var Gw=TL(0),os=t=>{let e=_L(3),{children:o}=t,r=ut()+1,s;return e[0]!==o||e[1]!==r?(s=FL(Gw,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},ut=()=>DL(Gw);import{c as P9}from"react/compiler-runtime";import{jsx as x2}from"react/jsx-runtime";import{useSearchParams as E9}from"next/navigation.js";import N9,{createContext as S2,use as I2,useEffect as w2,useRef as L9,useState as $9}from"react";var Ws=(t,e)=>!t?.locales||t.locales.length===0?null:t.locales.find(o=>o?.code===e);import{jsx as C9}from"react/jsx-runtime";import{jsx as Mb}from"react/jsx-runtime";import{useRef as Kw,useEffect as Li,useState as Ob}from"react";import GL from"react-dom";function je(){return je=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},je.apply(null,arguments)}function Ja(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;o[n]=t[n]}return o}function qa(t,e){return qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},qa(t,e)}function Km(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qa(t,e)}function Pb(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Eb(t,e){t.classList?t.classList.add(e):Pb(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function zw(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Nb(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=zw(t.className,e):t.setAttribute("class",zw(t.className&&t.className.baseVal||"",e))}import Hw from"react";import tf from"react";import of from"react-dom";var Lb={disabled:!1};import RL from"react";var $b=RL.createContext(null);var ef=function(e){return e.scrollTop};var Nc="unmounted",Ei="exited",Ni="entering",Ka="entered",kb="exiting",rs=function(t){Km(e,t);function e(n,r){var s;s=t.call(this,n,r)||this;var i=r,l=i&&!i.isMounting?n.enter:n.appear,a;return s.appearStatus=null,n.in?l?(a=Ei,s.appearStatus=Ni):a=Ka:n.unmountOnExit||n.mountOnEnter?a=Nc:a=Ei,s.state={status:a},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===Nc?{status:Ei}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==Ni&&i!==Ka&&(s=Ni):(i===Ni||i===Ka)&&(s=kb)}this.updateStatus(!1,s)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,s,i,l;return s=i=l=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,l=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:l}},o.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===Ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:of.findDOMNode(this);i&&ef(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ei&&this.setState({status:Nc})},o.performEnter=function(r){var s=this,i=this.props.enter,l=this.context?this.context.isMounting:r,a=this.props.nodeRef?[l]:[of.findDOMNode(this),l],c=a[0],u=a[1],d=this.getTimeouts(),f=l?d.appear:d.enter;if(!r&&!i||Lb.disabled){this.safeSetState({status:Ka},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Ni},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Ka},function(){s.props.onEntered(c,u)})})})},o.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:of.findDOMNode(this);if(!s||Lb.disabled){this.safeSetState({status:Ei},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:kb},function(){r.props.onExiting(l),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:Ei},function(){r.props.onExited(l)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},o.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},o.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:of.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=a[0],u=a[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===Nc)return null;var s=this.props,i=s.children,l=s.in,a=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,d=s.enter,f=s.exit,m=s.timeout,p=s.addEndListener,h=s.onEnter,g=s.onEntering,b=s.onEntered,y=s.onExit,v=s.onExiting,C=s.onExited,w=s.nodeRef,S=Ja(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return tf.createElement($b.Provider,{value:null},typeof i=="function"?i(r,S):tf.cloneElement(tf.Children.only(i),S))},e}(tf.Component);rs.contextType=$b;rs.propTypes={};function Qa(){}rs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qa,onEntering:Qa,onEntered:Qa,onExit:Qa,onExiting:Qa,onExited:Qa};rs.UNMOUNTED=Nc;rs.EXITED=Ei;rs.ENTERING=Ni;rs.ENTERED=Ka;rs.EXITING=kb;var Ww=rs;var AL=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Eb(e,n)})},jb=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Nb(e,n)})},Bb=function(t){Km(e,t);function e(){for(var n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,a)},n.onEntering=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.addClass(u,f,"active"),n.props.onEntering&&n.props.onEntering(l,a)},n.onEntered=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.removeClasses(u,f),n.addClass(u,f,"done"),n.props.onEntered&&n.props.onEntered(l,a)},n.onExit=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var a=n.resolveArguments(l),c=a[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,a){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,a]},n.getClassNames=function(l){var a=n.props.classNames,c=typeof a=="string",u=c&&a?a+"-":"",d=c?""+u+l:a[l],f=c?d+"-active":a[l+"Active"],m=c?d+"-done":a[l+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:m}},n}var o=e.prototype;return o.addClass=function(r,s,i){var l=this.getClassNames(s)[i+"ClassName"],a=this.getClassNames("enter"),c=a.doneClassName;s==="appear"&&i==="done"&&c&&(l+=" "+c),i==="active"&&r&&ef(r),l&&(this.appliedClasses[s][i]=l,AL(r,l))},o.removeClasses=function(r,s){var i=this.appliedClasses[s],l=i.base,a=i.active,c=i.done;this.appliedClasses[s]={},l&&jb(r,l),a&&jb(r,a),c&&jb(r,c)},o.render=function(){var r=this.props,s=r.classNames,i=Ja(r,["classNames"]);return Hw.createElement(Ww,je({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Hw.Component);Bb.defaultProps={classNames:""};Bb.propTypes={};var Lc=Bb;function Uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}import{useContext as EL}from"react";import{createContext as PL}from"react";var rf=PL({});var ae=()=>EL(rf);var nf=t=>t?{appear:`${t}--appear`,appearActive:`${t}--appearActive`,appearDone:`${t}--appearDone`,enter:`${t}--enter`,enterActive:`${t}--enterActive`,enterDone:`${t}--enterDone`,exit:`${t}--exit`,exitActive:`${t}--exitActive`,exitDone:`${t}--exitDone`}:{};U5();function Xw(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Zw(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(o),!0).forEach(function(n){NL(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Xw(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function NL(t,e,o){return e=$L(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function LL(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $L(t){var e=LL(t,"string");return typeof e=="symbol"?e:String(e)}var Yw={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var r=e.indexOf(o);r===-1||e.splice(r,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},kL=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},jL=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},kc=function(e){return e?.key==="Tab"||e?.keyCode===9},BL=function(e){return kc(e)&&!e.shiftKey},ML=function(e){return kc(e)&&e.shiftKey},Jw=function(e){return setTimeout(e,0)},qw=function(e,o){var n=-1;return e.every(function(r,s){return o(r)?(n=s,!1):!0}),n},$c=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},sf=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},OL=[],Qw=function(e,o){var n=o?.document||document,r=o?.trapStack||OL,s=Zw({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:BL,isKeyBackward:ML},o),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,a=function(_,T,A){return _&&_[T]!==void 0?_[T]:s[A||T]},c=function(_,T){var A=typeof T?.composedPath=="function"?T.composedPath():void 0;return i.containerGroups.findIndex(function($){var P=$.container,j=$.tabbableNodes;return P.contains(_)||A?.includes(P)||j.find(function(B){return B===_})})},u=function(_){var T=s[_];if(typeof T=="function"){for(var A=arguments.length,$=new Array(A>1?A-1:0),P=1;P<A;P++)$[P-1]=arguments[P];T=T.apply(void 0,$)}if(T===!0&&(T=void 0),!T){if(T===void 0||T===!1)return T;throw new Error("`".concat(_,"` was specified but was not a node, or did not return a node"))}var j=T;if(typeof T=="string"&&(j=n.querySelector(T),!j))throw new Error("`".concat(_,"` as selector refers to no known node"));return j},d=function(){var _=u("initialFocus");if(_===!1)return!1;if(_===void 0||!Fm(_,s.tabbableOptions))if(c(n.activeElement)>=0)_=n.activeElement;else{var T=i.tabbableGroups[0],A=T&&T.firstTabbableNode;_=A||u("fallbackFocus")}if(!_)throw new Error("Your focus-trap needs to have at least one focusable element");return _},f=function(){if(i.containerGroups=i.containers.map(function(_){var T=Sx(_,s.tabbableOptions),A=Ix(_,s.tabbableOptions),$=T.length>0?T[0]:void 0,P=T.length>0?T[T.length-1]:void 0,j=A.find(function(L){return Fi(L)}),B=A.slice().reverse().find(function(L){return Fi(L)}),N=!!T.find(function(L){return Ma(L)>0});return{container:_,tabbableNodes:T,focusableNodes:A,posTabIndexesFound:N,firstTabbableNode:$,lastTabbableNode:P,firstDomTabbableNode:j,lastDomTabbableNode:B,nextTabbableNode:function(M){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=T.indexOf(M);return O<0?k?A.slice(A.indexOf(M)+1).find(function(V){return Fi(V)}):A.slice(0,A.indexOf(M)).reverse().find(function(V){return Fi(V)}):T[O+(k?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(_){return _.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(_){return _.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function D(_){var T=_.activeElement;if(T)return T.shadowRoot&&T.shadowRoot.activeElement!==null?D(T.shadowRoot):T},p=function D(_){if(_!==!1&&_!==m(document)){if(!_||!_.focus){D(d());return}_.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=_,kL(_)&&_.select()}},h=function(_){var T=u("setReturnFocus",_);return T||(T===!1?!1:_)},g=function(_){var T=_.target,A=_.event,$=_.isBackward,P=$===void 0?!1:$;T=T||sf(A),f();var j=null;if(i.tabbableGroups.length>0){var B=c(T,A),N=B>=0?i.containerGroups[B]:void 0;if(B<0)P?j=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:j=i.tabbableGroups[0].firstTabbableNode;else if(P){var L=qw(i.tabbableGroups,function(H){var z=H.firstTabbableNode;return T===z});if(L<0&&(N.container===T||Fm(T,s.tabbableOptions)&&!Fi(T,s.tabbableOptions)&&!N.nextTabbableNode(T,!1))&&(L=B),L>=0){var M=L===0?i.tabbableGroups.length-1:L-1,k=i.tabbableGroups[M];j=Ma(T)>=0?k.lastTabbableNode:k.lastDomTabbableNode}else kc(A)||(j=N.nextTabbableNode(T,!1))}else{var O=qw(i.tabbableGroups,function(H){var z=H.lastTabbableNode;return T===z});if(O<0&&(N.container===T||Fm(T,s.tabbableOptions)&&!Fi(T,s.tabbableOptions)&&!N.nextTabbableNode(T))&&(O=B),O>=0){var V=O===i.tabbableGroups.length-1?0:O+1,G=i.tabbableGroups[V];j=Ma(T)>=0?G.firstTabbableNode:G.firstDomTabbableNode}else kc(A)||(j=N.nextTabbableNode(T))}}else j=u("fallbackFocus");return j},b=function(_){var T=sf(_);if(!(c(T,_)>=0)){if($c(s.clickOutsideDeactivates,_)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}$c(s.allowOutsideClick,_)||_.preventDefault()}},y=function(_){var T=sf(_),A=c(T,_)>=0;if(A||T instanceof Document)A&&(i.mostRecentlyFocusedNode=T);else{_.stopImmediatePropagation();var $,P=!0;if(i.mostRecentlyFocusedNode)if(Ma(i.mostRecentlyFocusedNode)>0){var j=c(i.mostRecentlyFocusedNode),B=i.containerGroups[j].tabbableNodes;if(B.length>0){var N=B.findIndex(function(L){return L===i.mostRecentlyFocusedNode});N>=0&&(s.isKeyForward(i.recentNavEvent)?N+1<B.length&&($=B[N+1],P=!1):N-1>=0&&($=B[N-1],P=!1))}}else i.containerGroups.some(function(L){return L.tabbableNodes.some(function(M){return Ma(M)>0})})||(P=!1);else P=!1;P&&($=g({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),p($||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},v=function(_){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=_;var A=g({event:_,isBackward:T});A&&(kc(_)&&_.preventDefault(),p(A))},C=function(_){if(jL(_)&&$c(s.escapeDeactivates,_)!==!1){_.preventDefault(),l.deactivate();return}(s.isKeyForward(_)||s.isKeyBackward(_))&&v(_,s.isKeyBackward(_))},w=function(_){var T=sf(_);c(T,_)>=0||$c(s.clickOutsideDeactivates,_)||$c(s.allowOutsideClick,_)||(_.preventDefault(),_.stopImmediatePropagation())},S=function(){if(i.active)return Yw.activateTrap(r,l),i.delayInitialFocusTimer=s.delayInitialFocus?Jw(function(){p(d())}):p(d()),n.addEventListener("focusin",y,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",w,{capture:!0,passive:!1}),n.addEventListener("keydown",C,{capture:!0,passive:!1}),l},x=function(){if(i.active)return n.removeEventListener("focusin",y,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",w,!0),n.removeEventListener("keydown",C,!0),l},F=function(_){var T=_.some(function(A){var $=Array.from(A.removedNodes);return $.some(function(P){return P===i.mostRecentlyFocusedNode})});T&&p(d())},I=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(F):void 0,R=function(){I&&(I.disconnect(),i.active&&!i.paused&&i.containers.map(function(_){I.observe(_,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(_){if(i.active)return this;var T=a(_,"onActivate"),A=a(_,"onPostActivate"),$=a(_,"checkCanFocusTrap");$||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,T?.();var P=function(){$&&f(),S(),R(),A?.()};return $?($(i.containers.concat()).then(P,P),this):(P(),this)},deactivate:function(_){if(!i.active)return this;var T=Zw({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},_);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,x(),i.active=!1,i.paused=!1,R(),Yw.deactivateTrap(r,l);var A=a(T,"onDeactivate"),$=a(T,"onPostDeactivate"),P=a(T,"checkCanReturnFocus"),j=a(T,"returnFocus","returnFocusOnDeactivate");A?.();var B=function(){Jw(function(){j&&p(h(i.nodeFocusedBeforeActivation)),$?.()})};return j&&P?(P(h(i.nodeFocusedBeforeActivation)).then(B,B),this):(B(),this)},pause:function(_){if(i.paused||!i.active)return this;var T=a(_,"onPause"),A=a(_,"onPostPause");return i.paused=!0,T?.(),x(),R(),A?.(),this},unpause:function(_){if(!i.paused||!i.active)return this;var T=a(_,"onUnpause"),A=a(_,"onPostUnpause");return i.paused=!1,T?.(),f(),S(),R(),A?.(),this},updateContainerElements:function(_){var T=[].concat(_).filter(Boolean);return i.containers=T.map(function(A){return typeof A=="string"?n.querySelector(A):A}),i.active&&f(),R(),this}},l.updateContainerElements(e),l};var VL=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},ns="modal-item",e2=(t,e)=>n=>{let r=ae(),s=Kw(null),[i,l]=Ob(!1),a=Kw(!1),[c,u]=Ob(null),{modalState:d,classPrefix:f,containerRef:m,transTime:p,setCloseOnBlur:h,setBodyScrollLock:g,openModal:b}=r,{className:y,htmlElement:v="dialog",slug:C="",closeOnBlur:w=!0,lockBodyScroll:S=!0,classPrefix:x,onEnter:F,onEntering:I,onEntered:R,onExit:D,onExiting:_,onExited:T,openOnInit:A,trapFocus:$=!0,focusTrapOptions:P={}}=n,j=VL(n,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),B=x||f,N=e||C,L=d[N]&&d[N].isOpen;Li(()=>{if($){let O=s.current;if(a.current===!1&&O){let V=Qw(O,Object.assign(Object.assign({},P),{fallbackFocus:P?.fallbackFocus||O,allowOutsideClick:typeof P.allowOutsideClick<"u"?P.allowOutsideClick:!0}));u(V),a.current=!0}}},[$,i,P]),Li(()=>{l(!0)},[]),Li(()=>(c&&(L?c.activate():c.deactivate()),()=>{c&&c.deactivate()}),[L,c]),Li(()=>{L&&h(w)},[L,w,h]),Li(()=>{let O=s.current;return O&&g(!!(L&&S),O),()=>{O&&g(!1,O)}},[L,S,g]);let[M,k]=Ob(L);if(Li(()=>{L?k(L):setTimeout(()=>k(!1),p)},[L,p]),Li(()=>{A&&b(N)},[N,A,b]),m.current){let O=B?`${B}__${ns}`:ns,V=[O,`${O}--slug-${N}`,y].filter(Boolean).join(" "),G=Object.assign({role:v!=="dialog"?"dialog":void 0,open:v==="dialog"?M||L:void 0,"aria-modal":!0,"aria-label":j["aria-labelledby"]?void 0:N},j);return GL.createPortal(Mb(Lc,{nodeRef:s,timeout:p,in:L,classNames:nf(O),appear:!0,onEnter:F,onEntering:I,onEntered:R,onExit:D,onExiting:_,onExited:T,children:Mb(v,Object.assign({ref:s,id:j?.id||N,className:V},G,{children:Mb(t,Object.assign({},n,{isOpen:L,modal:r}))}))}),m.current)}return null};import{jsx as t2}from"react/jsx-runtime";import{Fragment as o2}from"react";var zL=t=>{let{children:e}=t;return e?typeof e=="function"?t2(o2,{children:e(t)}):t2(o2,{children:e}):null},br=e2(zL);import{jsx as r2}from"react/jsx-runtime";var WL=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},ss="modal-container",Vb=t=>{let{oneModalIsOpen:e,classPrefix:o,transTime:n,setContainerRef:r,containerRef:s,closeAllModals:i,closeOnBlur:l}=ae(),{className:a,htmlElement:c="div",children:u,onClick:d}=t,f=WL(t,["className","htmlElement","children","onClick"]),m=o?`${o}__${ss}`:ss,p=[m,a].filter(Boolean).join(" "),h=Object.assign(Object.assign({},f),{onClick:g=>{l&&i(),typeof d=="function"&&d(g)}});return r2(Lc,{nodeRef:s,in:e,timeout:n,classNames:nf(m),appear:!0,children:r2(c,Object.assign({className:p,ref:r},h,{children:u&&u}))})};import{jsx as u2,jsxs as QL}from"react/jsx-runtime";import{Fragment as KL,useState as uf,useRef as d2,useEffect as df,useCallback as Hs,useReducer as e9}from"react";function HL(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var zb=!1;typeof window<"u"&&(Gb={get passive(){zb=!0}},window.addEventListener("testPassive",null,Gb),window.removeEventListener("testPassive",null,Gb));var Gb,af=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),ki=[],lf=!1,n2=-1,jc=void 0,$i=void 0,Bc=void 0,s2=function(e){return ki.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},cf=function(e){var o=e||window.event;return s2(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},UL=function(e){if(Bc===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);Bc=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}jc===void 0&&(jc=document.body.style.overflow,document.body.style.overflow="hidden")},XL=function(){Bc!==void 0&&(document.body.style.paddingRight=Bc,Bc=void 0),jc!==void 0&&(document.body.style.overflow=jc,jc=void 0)},ZL=function(){return window.requestAnimationFrame(function(){if($i===void 0){$i={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&o>=r&&(document.body.style.top=-(o+s))})},300)}})},YL=function(){if($i!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=$i.position,document.body.style.top=$i.top,document.body.style.left=$i.left,window.scrollTo(o,e),$i=void 0}},JL=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},qL=function(e,o){var n=e.targetTouches[0].clientY-n2;return s2(e.target)?!1:o&&o.scrollTop===0&&n>0||JL(o)&&n<0?cf(e):(e.stopPropagation(),!0)},i2=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!ki.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:o||{}};ki=[].concat(HL(ki),[n]),af?ZL():UL(o),af&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(n2=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&qL(r,e)},lf||(document.addEventListener("touchmove",cf,zb?{passive:!1}:void 0),lf=!0))}};var a2=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}ki=ki.filter(function(o){return o.targetElement!==e}),af&&(e.ontouchstart=null,e.ontouchmove=null,lf&&ki.length===0&&(document.removeEventListener("touchmove",cf,zb?{passive:!1}:void 0),lf=!1)),af?YL():XL()};var l2=({classPrefix:t,zIndex:e})=>{let o=t?`${t}__`:"";return`
    .${o}${ss} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${o}${ss}--appear,
    .${o}${ss}--appearDone,
    .${o}${ss}--enter,
    .${o}${ss}--enterDone,
    .${o}${ss}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${e};
    }

    .${o}${ns} {
      position: absolute;
      visibility: hidden;
    }

    .${o}${ns}--appear,
    .${o}${ns}--appearDone,
    .${o}${ns}--enter,
    .${o}${ns}--enterDone,
    .${o}${ns}--exit {
      visibility: visible;
    }
  `};var c2=(t,e)=>{let o=Object.assign({},t),{type:n,payload:r}=e;switch(n){case"UPDATE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),r));break}case"OPEN_MODAL":{let{slug:s}=r;s&&(s in o&&o[s].isOpen||(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:s}=r;if(s){let i=s in o&&o[s].isOpen;o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:i?void 0:Date.now(),isOpen:!i})}break}case"CLOSE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:s}=r;s&&s in o&&delete o[s];break}case"CLOSE_LATEST_MODAL":{let s=Object.keys(o).reduce((i,l)=>{let a=o[l];return a.isOpen&&typeof a.openedOn=="number"&&(!i||typeof i.openedOn=="number"&&a.openedOn>i.openedOn)?a:i},void 0);s&&(o[s.slug]=Object.assign(Object.assign({},o[s.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":{o=Object.entries(o).reduce((s,[i,l])=>(s[i]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),s),{});break}default:break}return o};var t9=()=>{if(typeof window<"u")return new URLSearchParams(window.location.search)},o9=()=>{let t=t9(),e=[];if(t){let o=t.get("modal");o&&(o.includes(",")?e=o.split(","):e=[o])}return e},Wb=t=>{let{classPrefix:e,minifyCSS:o=!0,generateCSS:n=!0,zIndex:r=9999,handleParamChange:s,children:i,transTime:l=250}=t,a=d2(null),[c,u]=e9(c2,{},()=>o9().reduce(($,P)=>($[P]={slug:P,isOpen:!0,openedOn:Date.now()},$),{})),[d,f]=uf(!1),[m,p]=uf(!1),[h,g]=uf(!1),[b,y]=uf(""),v=d2(!1),C=Hs(T=>{T.keyCode===27&&u({type:"CLOSE_LATEST_MODAL"})},[]);df(()=>(v.current||(document.addEventListener("keydown",T=>C(T),!1),v.current=!0),()=>{v.current&&document.removeEventListener("keydown",T=>C(T),!1)}),[C]),df(()=>{if(n){let T="";T=l2({classPrefix:e,zIndex:r}),o&&(T=T.replace(/\n/g,"").replace(/\s\s+/g," ")),y(T)}},[n,o,r,e]),df(()=>{if(typeof s=="function"&&s(c),typeof s=="boolean"&&s){let T=Object.keys(c).filter(j=>c[j].isOpen),A=new URLSearchParams;for(let j of T)A.append("modal",j);let $=A.toString()?`?${A}`:"",P=`${window.location.pathname}${$}`;window.history.pushState({},"",P)}},[c,s]),df(()=>{let T=Object.keys(c).some(A=>c[A].isOpen);f(T)},[c]);let w=Hs((T,A)=>{A&&(T?(i2(A),g(!0)):(a2(A),g(!1)))},[]),S=Hs(T=>{a.current=T},[]),x=Hs(T=>{u({type:"OPEN_MODAL",payload:{slug:T}})},[]),F=Hs(T=>{u({type:"CLOSE_MODAL",payload:{slug:T}})},[]),I=Hs(()=>{u({type:"CLOSE_ALL_MODALS"})},[]),R=Hs(T=>{u({type:"TOGGLE_MODAL",payload:{slug:T}})},[]),D=Hs(T=>c[T]&&c[T].isOpen,[c]),_=Object.assign({},t);return delete _.children,QL(KL,{children:[n&&u2("style",{dangerouslySetInnerHTML:{__html:b}}),u2(rf.Provider,{value:Object.assign(Object.assign({},_),{transTime:l,containerRef:a,modalState:c,oneModalIsOpen:d,isModalOpen:D,closeOnBlur:m,bodyScrollIsLocked:h,classPrefix:e,closeAllModals:I,setCloseOnBlur:p,openModal:x,closeModal:F,toggleModal:R,setBodyScrollLock:w,setContainerRef:S}),children:i})]})};import{usePathname as x9,useRouter as w9}from"next/navigation.js";import{formatAdminURL as S9}from"payload/shared";import*as h2 from"qs-esm";import pf,{createContext as I9,use as _9,useCallback as ji,useEffect as hf,useState as el}from"react";import{c as f9}from"react/compiler-runtime";import{jsx as p9}from"react/jsx-runtime";import{useRouter as h9}from"next/navigation.js";import{formatAdminURL as g9}from"payload/shared";import"react";import{c as d9}from"react/compiler-runtime";import{jsx as Gc,jsxs as Xb}from"react/jsx-runtime";import m9 from"react";import{c as Hb}from"react/compiler-runtime";import{jsx as is,jsxs as mf}from"react/jsx-runtime";import{createContext as i9,use as a9,useLayoutEffect as l9,useState as c9}from"react";import{jsx as r9}from"react/jsx-runtime";import"react";var Mc="gutter",wo=t=>{let{children:e,className:o,left:n=!0,negativeLeft:r=!1,negativeRight:s=!1,ref:i,right:l=!0}=t,a=n&&!r,c=l&&!s;return r9("div",{className:[Mc,a&&`${Mc}--left`,c&&`${Mc}--right`,r&&`${Mc}--negative-left`,s&&`${Mc}--negative-right`,o].filter(Boolean).join(" "),ref:i,children:e})};import{c as n9}from"react/compiler-runtime";import{useId as s9}from"react";var Oc=t=>{let e=n9(3),o=s9(),n=ut(),r=`${t}-${o}`,s;return e[0]!==n||e[1]!==r?(s=Vc({slug:r,depth:n}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};var on="drawer",Ub=100,Vc=({slug:t,depth:e})=>`drawer_${e}_${t}`,as=t=>{let e=Hb(4),{slug:o,children:n,className:r,disabled:s,onClick:i,...l}=t,{openModal:a}=ae(),c;return e[0]!==i||e[1]!==a||e[2]!==o?(c=d=>{a(o),typeof i=="function"&&i(d)},e[0]=i,e[1]=a,e[2]=o,e[3]=c):c=e[3],is("button",{className:r,disabled:s,onClick:c,type:"button",...l,children:n})},Tt=t=>{let e=Hb(22),{slug:o,children:n,className:r,gutter:s,Header:i,hoverTitle:l,title:a}=t,c=s===void 0?!0:s,{t:u}=E(),{closeModal:d,modalState:f}=ae(),m=jr(),p=!!f[o]?.isOpen,[h,g]=c9(p),b,y;if(e[0]!==p?(b=()=>{g(p)},y=[p],e[0]=p,e[1]=b,e[2]=y):(b=e[1],y=e[2]),l9(b,y),p){let v=h&&`${on}--is-open`,C=m>1&&`${on}--nested`,w;e[3]!==r||e[4]!==v||e[5]!==C?(w=[r,on,v,C].filter(Boolean),e[3]=r,e[4]=v,e[5]=C,e[6]=w):w=e[6];let S=w.join(" "),x=Ub+m,F;if(e[7]!==i||e[8]!==n||e[9]!==d||e[10]!==m||e[11]!==c||e[12]!==l||e[13]!==o||e[14]!==u||e[15]!==S||e[16]!==x||e[17]!==a){let I;e[19]!==d||e[20]!==o?(I=()=>d(o),e[19]=d,e[20]=o,e[21]=I):I=e[21],F=is(u9,{children:mf(br,{className:S,closeOnBlur:!1,slug:o,style:{zIndex:x},children:[(!m||m===1)&&is("div",{className:`${on}__blur-bg`}),is("button",{"aria-label":u("general:close"),className:`${on}__close`,id:`close-drawer__${o}`,onClick:I,type:"button"}),mf("div",{className:`${on}__content`,style:{width:`calc(100% - (${m} * var(--gutter-h)))`},children:[is("div",{className:`${on}__blur-bg-content`}),mf(wo,{className:`${on}__content-children`,left:c,right:c,children:[i,i===void 0&&mf("div",{className:`${on}__header`,children:[is("h2",{className:`${on}__header__title`,title:l?a:null,children:a}),is("button",{"aria-label":u("general:close"),className:`${on}__header__close`,id:`close-drawer__${o}`,onClick:()=>d(o),type:"button",children:is(ht,{})})]}),n]})]})]})}),e[7]=i,e[8]=n,e[9]=d,e[10]=m,e[11]=c,e[12]=l,e[13]=o,e[14]=u,e[15]=S,e[16]=x,e[17]=a,e[18]=F}else F=e[18];return F}return null},m2=i9(1),u9=t=>{let e=Hb(3),{children:o}=t,r=jr()+1,s;return e[0]!==o||e[1]!==r?(s=is(m2,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},jr=()=>a9(m2);var ff="confirmation-modal";function et(t){let e=d9(25),{body:o,cancelLabel:n,className:r,confirmingLabel:s,confirmLabel:i,heading:l,modalSlug:a,onCancel:c,onConfirm:u}=t,d=jr(),[f,m]=m9.useState(!1),{closeModal:p,isModalOpen:h}=ae(),{t:g}=E(),b;e[0]!==p||e[1]!==f||e[2]!==a||e[3]!==u?(b=async()=>{f||(m(!0),typeof u=="function"&&await u(),m(!1),p(a))},e[0]=p,e[1]=f,e[2]=a,e[3]=u,e[4]=b):b=e[4];let y=b,v;e[5]!==p||e[6]!==f||e[7]!==a||e[8]!==c?(v=()=>{f||(p(a),typeof c=="function"&&c())},e[5]=p,e[6]=f,e[7]=a,e[8]=c,e[9]=v):v=e[9];let C=v;if(!h(a))return null;let w;e[10]!==r?(w=[ff,r].filter(Boolean),e[10]=r,e[11]=w):w=e[11];let S=w.join(" "),x=Ub+d,F;return e[12]!==o||e[13]!==n||e[14]!==i||e[15]!==f||e[16]!==s||e[17]!==l||e[18]!==a||e[19]!==C||e[20]!==y||e[21]!==g||e[22]!==S||e[23]!==x?(F=Gc(br,{className:S,closeOnBlur:!1,slug:a,style:{zIndex:x},children:Xb("div",{className:`${ff}__wrapper`,children:[Xb("div",{className:`${ff}__content`,children:[typeof l=="string"?Gc("h1",{children:l}):l,typeof o=="string"?Gc("p",{children:o}):o]}),Xb("div",{className:`${ff}__controls`,children:[Gc(te,{buttonStyle:"secondary",disabled:f,id:"confirm-cancel",onClick:C,size:"large",type:"button",children:n||g("general:cancel")}),Gc(te,{id:"confirm-action",onClick:y,size:"large",children:f?s||`${g("general:loading")}...`:i||g("general:confirm")})]})]})}),e[12]=o,e[13]=n,e[14]=i,e[15]=f,e[16]=s,e[17]=l,e[18]=a,e[19]=C,e[20]=y,e[21]=g,e[22]=S,e[23]=x,e[24]=F):F=e[24],F}var Zb="stay-logged-in",f2=()=>{let t=f9(11),{refreshCookie:e}=_e(),o=h9(),{config:n}=W(),{admin:r,routes:s}=n,{routes:i}=r,{logout:l}=i,{admin:a}=s,{t:c}=E(),{startRouteTransition:u}=Ze(),d;t[0]!==a||t[1]!==l||t[2]!==o||t[3]!==u?(d=()=>u(()=>o.push(g9({adminRoute:a,path:l}))),t[0]=a,t[1]=l,t[2]=o,t[3]=u,t[4]=d):d=t[4];let f=d,m;t[5]!==e?(m=()=>{e()},t[5]=e,t[6]=m):m=t[6];let p=m,h;return t[7]!==p||t[8]!==f||t[9]!==c?(h=p9(et,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:Zb,onCancel:p,onConfirm:f}),t[7]=p,t[8]=f,t[9]=c,t[10]=h):h=t[10],h};import{c as b9}from"react/compiler-runtime";import{useInsertionEffect as v9,useRef as y9}from"react";function vt(t){let e=b9(4),o=y9(t),n,r;e[0]!==t?(n=()=>{o.current=t},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),v9(n,r);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...i)=>{let l=i,a=o.current;return a(...l)},e[3]=s):s=e[3],s}import*as p2 from"qs-esm";var ze={delete:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"delete"};return fetch(t,n)},get:(t,e={headers:{}})=>{let o="";return e.params&&(o=p2.stringify(e.params,{addQueryPrefix:!0})),fetch(`${t}${o}`,{credentials:"include",...e})},patch:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"PATCH"};return fetch(t,n)},post:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"post"};return fetch(`${t}`,n)},put:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"put"};return fetch(t,n)}};var g2=I9({}),F9=2147483647;function Yb({children:t,permissions:e,user:o}){let n=x9(),r=w9(),{config:s}=W(),{admin:{autoLogin:i,autoRefresh:l,routes:{inactivity:a},user:c},routes:{admin:u,api:d},serverURL:f}=s,{i18n:m}=E(),{closeAllModals:p,openModal:h}=ae(),{startRouteTransition:g}=Ze(),[b,y]=el(o),[v,C]=el(),[w,S]=el(),[x,F]=el(e),[I,R]=el(12e4),[D,_]=el(!1),T=pf.useRef(null),A=pf.useRef(null),$=pf.useRef(null),P=b?.id,j=ji(()=>{g(()=>r.replace(S9({adminRoute:u,path:`${a}${window.location.pathname.startsWith(u)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),p()},[r,u,a,p,g]),B=ji(()=>{y(null),C(void 0),S(void 0),clearTimeout(T.current)},[]),N=ji(z=>{if(clearTimeout(A.current),clearTimeout($.current),z?.user){y(z.user),C(z.token),S(z.exp*1e3);let Q=Math.max(0,Math.min((z.exp??0)*1e3-Date.now(),F9));if(Q){let J=Math.min(6e4,Q/2);R(J),A.current=setTimeout(()=>{l?G():h(Zb)},Math.max(Q-J,0)),$.current=setTimeout(()=>{B(),j()},Q)}}else B()},[l,j,B,h]),L=ji(z=>{if(!P)return;let Q=Math.max(0,(w??0)-Date.now());(z||w&&Q<I*2)&&(clearTimeout(T.current),T.current=setTimeout(async()=>{try{let J=await ze.post(`${f}${d}/${c}/refresh-token?refresh`,{headers:{"Accept-Language":m.language}});if(J.status===200){let X=await J.json();N(X)}else N(null),j()}catch(J){oe.error(J.message)}},1e3))},[d,m.language,j,f,N,w,c,I,P]),M=ji(async z=>{try{let Q=await ze.post(`${f}${d}/${c}/refresh-token`,{headers:{"Accept-Language":m.language}});if(Q.status===200){let J=await Q.json();return z||N(J),J.user}b&&(N(null),j())}catch(Q){oe.error(`Refreshing token failed: ${Q.message}`)}return null},[d,m.language,j,f,N,c,b]),k=ji(async()=>{try{b&&b.collection&&(N(null),await ze.post(`${f}${d}/${b.collection}/logout`))}catch{}return!0},[d,f,N,b]),O=ji(async({locale:z}={})=>{let Q=h2.stringify({locale:z},{addQueryPrefix:!0});try{let J=await ze.get(`${f}${d}/access${Q}`,{headers:{"Accept-Language":m.language}});if(J.status===200){let X=await J.json();F(X)}else throw new Error(`Fetching permissions failed with status code ${J.status}`)}catch(J){oe.error(`Refreshing permissions failed: ${J.message}`)}},[f,d,m]),V=pf.useCallback(async()=>{try{let z=await ze.get(`${f}${d}/${c}/me`,{credentials:"include",headers:{"Accept-Language":m.language}});if(z.status===200){let Q=await z.json();return N(Q),Q?.user||null}}catch(z){oe.error(`Fetching user failed: ${z.message}`)}return null},[f,d,c,m.language,N]),G=vt(L);hf(()=>{G()},[n]);let H=vt(V);return hf(()=>{async function z(){await H(),_(!0)}z()},[]),hf(()=>{!b&&i&&!i.prefillOnly&&H()},[b,i]),hf(()=>()=>{clearTimeout(T.current),clearTimeout(A.current),clearTimeout($.current)},[]),!b&&!D?null:C9(g2,{value:{fetchFullUser:V,logOut:k,permissions:x,refreshCookie:L,refreshCookieAsync:M,refreshPermissions:O,setPermissions:F,setUser:N,token:v,tokenExpirationMs:w,user:b},children:t})}var _e=()=>_9(g2);import{jsx as T9}from"react/jsx-runtime";import{dequal as b2}from"dequal/lite";import{createContext as D9,use as R9,useCallback as v2,useEffect as A9,useRef as qb}from"react";function Jb(t,e){let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&!Array.isArray(e[n])&&t[n]?o[n]=Jb(t[n],e[n]):o[n]=e[n]);return o}var C2=D9({}),y2=(t,e)=>({body:JSON.stringify({value:t}),headers:{"Accept-Language":e,"Content-Type":"application/json"}}),Qb=({children:t})=>{let e=qb({}),o=qb({}),n=qb({}),{config:r}=W(),{user:s}=_e(),{i18n:i}=E(),{routes:{api:l},serverURL:a}=r;A9(()=>{s||(o.current={})},[s]);let c=v2(async d=>{let f=o.current;if(typeof f[d]<"u")return f[d];let m=new Promise(p=>{(async()=>{let h=await ze.get(`${a}${l}/payload-preferences/${d}`,{credentials:"include",headers:{"Accept-Language":i.language}}),g=null;h.status===200&&(g=(await h.json()).value),o.current[d]=g,p(g)})()});return f[d]=m,m},[i.language,l,o,a]),u=v2(async(d,f,m=!1)=>{if(m===!1){o.current[d]=f,await ze.post(`${a}${l}/payload-preferences/${d}`,y2(f,i.language));return}let p=f,h=await c(d);if(typeof f=="object"&&typeof h=="object"&&typeof p=="object"){if(h&&(p=Jb(h,p)),b2(p,h))return;n.current[d]={...n.current[d],...p}}else{if(p===h)return;n.current[d]=p}let g=async()=>{b2(n.current[d],o.current[d])||(o.current[d]=n.current[d],await ze.post(`${a}${l}/payload-preferences/${d}`,y2(o.current[d],i.language)),delete n.current[d])};setTimeout(()=>{g()})},[l,c,i.language,n,a]);return e.current.getPreference=c,e.current.setPreference=u,T9(C2,{value:e.current,children:t})},Ot=()=>R9(C2);var _2=S2({}),F2=S2({localeIsLoading:!1,setLocaleIsLoading:t=>{}}),k9=async(t,e)=>await fetch(`${e}/payload-preferences/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(o=>o.json()),Kb=t=>{let e=P9(27),{children:o,locale:n}=t,{config:r}=W(),{localization:s,routes:i,serverURL:l}=r,a=s===void 0?!1:s,{api:c}=i,{user:u}=_e(),d=a?a.defaultLocale:"en",{getPreference:f}=Ot(),m=E9(),p;e[0]!==m?(p=m.get("locale"),e[0]=m,e[1]=p):p=e[1];let h=p,g;e[2]!==d||e[3]!==n||e[4]!==h||e[5]!==a?(g=()=>!a||a&&!a.locales.length?{}:Ws(a,h)||Ws(a,n)||Ws(a,d)||Ws(a,a.locales[0].code),e[2]=d,e[3]=n,e[4]=h,e[5]=a,e[6]=g):g=e[6];let[b,y]=N9.useState(g),[v,C]=$9(!1),w=L9(b),S,x;e[7]!==b?(S=()=>{b.code!==w.current.code&&C(!1),w.current=b},x=[b],e[7]=b,e[8]=S,e[9]=x):(S=e[8],x=e[9]),w2(S,x);let F=`${l}${c}`,I;e[10]!==d||e[11]!==F||e[12]!==h||e[13]!==a||e[14]!==u?.id?(I=()=>{(async function(){if(a&&u?.id){let $=h||await k9("locale",F)?.then(j9),P=Ws(a,$)||Ws(a,d)||Ws(a,a?.locales?.[0]?.code);P&&y(P)}})()},e[10]=d,e[11]=F,e[12]=h,e[13]=a,e[14]=u?.id,e[15]=I):I=e[15];let R=u?.id,D;e[16]!==d||e[17]!==F||e[18]!==f||e[19]!==h||e[20]!==a||e[21]!==R?(D=[d,f,a,F,h,R],e[16]=d,e[17]=F,e[18]=f,e[19]=h,e[20]=a,e[21]=R,e[22]=D):D=e[22],w2(I,D);let _;return e[23]!==o||e[24]!==v||e[25]!==b?(_=x2(_2,{value:b,children:x2(F2,{value:{localeIsLoading:v,setLocaleIsLoading:C},children:o})}),e[23]=o,e[24]=v,e[25]=b,e[26]=_):_=e[26],_},gf=()=>I2(F2),xe=()=>I2(_2);function j9(t){return t.value}var bf=(t,e,o)=>{if(t)return`field-${t.replace(/\./g,"__")}${e>1?`-${e}`:""}${o?`-${o}`:""}`};var Fe=t=>{let{as:e,hideLocale:o,htmlFor:n,label:r,localized:s,path:i,required:l,unstyled:a}=t,c=e===void 0?"label":e,u=o===void 0?!1:o,d=s===void 0?!1:s,f=l===void 0?!1:l,m=a===void 0?!1:a,{uuid:p}=Ge(),h=ut(),g=n||bf(i,h,p),{i18n:b}=E(),{code:y,label:v}=xe(),C=c==="label"?g?"label":"span":c||"span";return r?T2(C,{className:`field-label${m?" unstyled":""}`,htmlFor:g,children:[M9(r,b),f&&!m&&B9("span",{className:"required",children:"*"}),d&&!u&&T2("span",{className:"localized",children:["\u2014 ",typeof v=="string"?v:y]})]}):null};var vf=({collapsed:t,rowID:e,rows:o})=>o.reduce((n,r)=>(e===r.id&&(r.collapsed=t),r.collapsed&&n.collapsedIDs.push(r.id),n.updatedRows.push(r),n),{collapsedIDs:[],updatedRows:[]}),yf=({collapsed:t,rows:e})=>e.reduce((o,n)=>(n.collapsed=t,t&&o.collapsedIDs.push(n.id),o.updatedRows.push(n),o),{collapsedIDs:[],updatedRows:[]});import{c as k$}from"react/compiler-runtime";import{jsx as _3}from"react/jsx-runtime";import*as F3 from"react";import{jsx as qc,jsxs as E$}from"react/jsx-runtime";import{rtlLanguages as N$}from"@payloadcms/translations";import{useCallback as I3,useMemo as L$}from"react";import{c as F$}from"react/compiler-runtime";import u1,{useRef as y3}from"react";import{c as O9}from"react/compiler-runtime";import{useEffect as V9,useRef as G9}from"react";var Bi=(t,e,o)=>{let n=O9(9),r;n[0]!==o?(r=o===void 0?[]:o,n[0]=o,n[1]=r):r=n[1];let s=r,i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),n[2]=i):i=n[2];let l=G9(i),a;n[3]!==t||n[4]!==e?(a=()=>{let u=setTimeout(()=>{Date.now()-l.current>=e&&(t(),l.current=Date.now())},e-(Date.now()-l.current));return()=>{clearTimeout(u)}},n[3]=t,n[4]=e,n[5]=a):a=n[5];let c;n[6]!==e||n[7]!==s?(c=[e,...s],n[6]=e,n[7]=s,n[8]=c):c=n[8],V9(a,c)};import{jsx as Ff}from"react/jsx-runtime";import*as g3 from"qs-esm";import v$,{createContext as y$,use as C$,useCallback as sl,useEffect as p3,useMemo as x$,useRef as h3,useState as Uc}from"react";import{getTranslation as c$}from"@payloadcms/translations";var z9={},zc={};function tl(t,e){try{let n=(z9[t]||=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return n in zc?zc[n]:D2(n,n.split(":"))}catch{if(t in zc)return zc[t];let o=t?.match(W9);return o?D2(t,o.slice(1)):NaN}}var W9=/([+-]\d\d):?(\d\d)?/;function D2(t,e){let o=+e[0],n=+(e[1]||0);return zc[t]=o>0?o*60+n:o*60-n}var oo=class t extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(tl(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),A2(this,NaN),e1(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new t(...o,e):new t(Date.now(),e)}withTimeZone(e){return new t(+this,e)}getTimezoneOffset(){return-tl(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),e1(this),+this}[Symbol.for("constructDateFrom")](e){return new t(+new Date(e),this.timeZone)}},R2=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!R2.test(t))return;let e=t.replace(R2,"$1UTC");oo.prototype[e]&&(t.startsWith("get")?oo.prototype[t]=function(){return this.internal[e]()}:(oo.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),H9(this),+this},oo.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),e1(this),+this}))});function e1(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function H9(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),A2(t)}function A2(t){let e=tl(t.timeZone,t),o=new Date(+t);o.setUTCHours(o.getUTCHours()-1);let n=-new Date(+t).getTimezoneOffset(),r=-new Date(+o).getTimezoneOffset(),s=n-r,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);let l=n-e;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);let a=tl(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-a,d=a!==e,f=u-l;if(d&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);let m=tl(t.timeZone,t),p=a-m;p&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+p),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+p))}}var U9=Math.pow(10,8)*24*60*60*1e3,Rae=-U9,Cf=6048e5,P2=864e5;var Wc=43200,t1=1440;var X9=3600;var E2=X9*24,Aae=E2*7,Z9=E2*365.2425,Y9=Z9/12,Pae=Y9*3,o1=Symbol.for("constructDateFrom");function co(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&o1 in t?t[o1](e):t instanceof Date?new t.constructor(e):new Date(e)}function st(t,e){return co(e||t,t)}var J9={};function Tn(){return J9}function ls(t,e){let o=Tn(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=st(t,e?.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Mi(t,e){return ls(t,{...e,weekStartsOn:1})}function xf(t,e){let o=st(t,e?.in),n=o.getFullYear(),r=co(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=Mi(r),i=co(o,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let l=Mi(i);return o.getTime()>=s.getTime()?n+1:o.getTime()>=l.getTime()?n:n-1}function ol(t){let e=st(t),o=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return o.setUTCFullYear(e.getFullYear()),+t-+o}function Dn(t,...e){let o=co.bind(null,t||e.find(n=>typeof n=="object"));return e.map(o)}function Us(t,e){let o=st(t,e?.in);return o.setHours(0,0,0,0),o}function N2(t,e,o){let[n,r]=Dn(o?.in,t,e),s=Us(n),i=Us(r),l=+s-ol(s),a=+i-ol(i);return Math.round((l-a)/P2)}function L2(t,e){let o=xf(t,e),n=co(e?.in||t,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),Mi(n)}function rl(t,e){let o=+st(t)-+st(e);return o<0?-1:o>0?1:o}function wf(t){return co(t,Date.now())}function $2(t,e,o){let[n,r]=Dn(o?.in,t,e);return+Us(n)==+Us(r)}function k2(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function j2(t){return!(!k2(t)&&typeof t!="number"||isNaN(+st(t)))}function B2(t,e,o){let[n,r]=Dn(o?.in,t,e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function M2(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function O2(t,e){return+st(t)-+st(e)}function Sf(t,e){let o=st(t,e?.in);return o.setHours(23,59,59,999),o}function V2(t,e){let o=st(t,e?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function G2(t,e){let o=st(t,e?.in);return+Sf(o,e)==+V2(o,e)}function z2(t,e,o){let[n,r,s]=Dn(o?.in,t,t,e),i=rl(r,s),l=Math.abs(B2(r,s));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let a=rl(r,s)===-i;G2(n)&&l===1&&rl(n,s)===1&&(a=!1);let c=i*(l-+a);return c===0?0:c}function W2(t,e,o){let n=O2(t,e)/1e3;return M2(o?.roundingMethod)(n)}function H2(t,e){let o=st(t,e?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function U2(t){return Sf(Date.now(),t)}function X2(t,e){let o=st(t,e?.in);return N2(o,H2(o))+1}function Z2(t,e){let o=st(t,e?.in),n=+Mi(o)-+L2(o);return Math.round(n/Cf)+1}function If(t,e){let o=st(t,e?.in),n=o.getFullYear(),r=Tn(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=co(e?.in||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let l=ls(i,e),a=co(e?.in||t,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);let c=ls(a,e);return+o>=+l?n+1:+o>=+c?n:n-1}function Y2(t,e){let o=Tn(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,r=If(t,e),s=co(e?.in||t,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),ls(s,e)}function J2(t,e){let o=st(t,e?.in),n=+ls(o,e)-+Y2(o,e);return Math.round(n/Cf)+1}function mt(t,e){let o=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return o+n}var cs={y(t,e){let o=t.getFullYear(),n=o>0?o:1-o;return mt(e==="yy"?n%100:n,e.length)},M(t,e){let o=t.getMonth();return e==="M"?String(o+1):mt(o+1,2)},d(t,e){return mt(t.getDate(),e.length)},a(t,e){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(t,e){return mt(t.getHours()%12||12,e.length)},H(t,e){return mt(t.getHours(),e.length)},m(t,e){return mt(t.getMinutes(),e.length)},s(t,e){return mt(t.getSeconds(),e.length)},S(t,e){let o=e.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,o-3));return mt(r,e.length)}};var nl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r1={G:function(t,e,o){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){let n=t.getFullYear(),r=n>0?n:1-n;return o.ordinalNumber(r,{unit:"year"})}return cs.y(t,e)},Y:function(t,e,o,n){let r=If(t,n),s=r>0?r:1-r;if(e==="YY"){let i=s%100;return mt(i,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):mt(s,e.length)},R:function(t,e){let o=xf(t);return mt(o,e.length)},u:function(t,e){let o=t.getFullYear();return mt(o,e.length)},Q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return mt(n,2);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return mt(n,2);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,o){let n=t.getMonth();switch(e){case"M":case"MM":return cs.M(t,e);case"Mo":return o.ordinalNumber(n+1,{unit:"month"});case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,o){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return mt(n+1,2);case"Lo":return o.ordinalNumber(n+1,{unit:"month"});case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,o,n){let r=J2(t,n);return e==="wo"?o.ordinalNumber(r,{unit:"week"}):mt(r,e.length)},I:function(t,e,o){let n=Z2(t);return e==="Io"?o.ordinalNumber(n,{unit:"week"}):mt(n,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):cs.d(t,e)},D:function(t,e,o){let n=X2(t);return e==="Do"?o.ordinalNumber(n,{unit:"dayOfYear"}):mt(n,e.length)},E:function(t,e,o){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return mt(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return mt(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,o){let n=t.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return mt(r,e.length);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return o.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(n,{width:"short",context:"formatting"});case"iiii":default:return o.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,o){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,o){let n=t.getHours(),r;switch(n===12?r=nl.noon:n===0?r=nl.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,o){let n=t.getHours(),r;switch(n>=17?r=nl.evening:n>=12?r=nl.afternoon:n>=4?r=nl.morning:r=nl.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),o.ordinalNumber(n,{unit:"hour"})}return cs.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):cs.H(t,e)},K:function(t,e,o){let n=t.getHours()%12;return e==="Ko"?o.ordinalNumber(n,{unit:"hour"}):mt(n,e.length)},k:function(t,e,o){let n=t.getHours();return n===0&&(n=24),e==="ko"?o.ordinalNumber(n,{unit:"hour"}):mt(n,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):cs.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):cs.s(t,e)},S:function(t,e){return cs.S(t,e)},X:function(t,e,o){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Q2(n);case"XXXX":case"XX":return Oi(n);case"XXXXX":case"XXX":default:return Oi(n,":")}},x:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"x":return Q2(n);case"xxxx":case"xx":return Oi(n);case"xxxxx":case"xxx":default:return Oi(n,":")}},O:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+q2(n,":");case"OOOO":default:return"GMT"+Oi(n,":")}},z:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+q2(n,":");case"zzzz":default:return"GMT"+Oi(n,":")}},t:function(t,e,o){let n=Math.trunc(+t/1e3);return mt(n,e.length)},T:function(t,e,o){return mt(+t,e.length)}};function q2(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),s=n%60;return s===0?o+String(r):o+String(r)+e+mt(s,2)}function Q2(t,e){return t%60===0?(t>0?"-":"+")+mt(Math.abs(t)/60,2):Oi(t,e)}function Oi(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=mt(Math.trunc(n/60),2),s=mt(n%60,2);return o+r+e+s}var K2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},e3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},q9=(t,e)=>{let o=t.match(/(P+)(p+)?/)||[],n=o[1],r=o[2];if(!r)return K2(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",K2(n,e)).replace("{{time}}",e3(r,e))},t3={p:e3,P:q9};var Q9=/^D+$/,K9=/^Y+$/,e$=["D","DD","YY","YYYY"];function o3(t){return Q9.test(t)}function r3(t){return K9.test(t)}function n3(t,e,o){let n=t$(t,e,o);if(console.warn(n),e$.includes(t))throw new RangeError(n)}function t$(t,e,o){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var o$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,r$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,n$=/^'([^]*?)'?$/,s$=/''/g,i$=/[a-zA-Z]/;function n1(t,e,o){let n=Tn(),r=o?.locale??n.locale??Ic,s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=st(t,o?.in);if(!j2(l))throw new RangeError("Invalid time value");let a=e.match(r$).map(u=>{let d=u[0];if(d==="p"||d==="P"){let f=t3[d];return f(u,r.formatLong)}return u}).join("").match(o$).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:a$(u)};if(r1[d])return{isToken:!0,value:u};if(d.match(i$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(a=r.localize.preprocessor(l,a));let c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return a.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!o?.useAdditionalWeekYearTokens&&r3(d)||!o?.useAdditionalDayOfYearTokens&&o3(d))&&n3(d,e,String(t));let f=r1[d[0]];return f(l,d,r.localize,c)}).join("")}function a$(t){let e=t.match(n$);return e?e[1].replace(s$,"'"):t}function s3(t,e,o){let n=Tn(),r=o?.locale??n.locale??Ic,s=2520,i=rl(t,e);if(isNaN(i))throw new RangeError("Invalid time value");let l=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[a,c]=Dn(o?.in,...i>0?[e,t]:[t,e]),u=W2(c,a),d=(ol(c)-ol(a))/1e3,f=Math.round((u-d)/60),m;if(f<2)return o?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",0,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<t1){let p=Math.round(f/60);return r.formatDistance("aboutXHours",p,l)}else{if(f<s)return r.formatDistance("xDays",1,l);if(f<Wc){let p=Math.round(f/t1);return r.formatDistance("xDays",p,l)}else if(f<Wc*2)return m=Math.round(f/Wc),r.formatDistance("aboutXMonths",m,l)}if(m=z2(c,a),m<12){let p=Math.round(f/Wc);return r.formatDistance("xMonths",p,l)}else{let p=m%12,h=Math.trunc(m/12);return p<3?r.formatDistance("aboutXYears",h,l):p<9?r.formatDistance("overXYears",h,l):r.formatDistance("almostXYears",h+1,l)}}function i3(t,e){return s3(t,wf(t),e)}function rn(t,e){let o=l$(e)?new e(0):co(e,0);return o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o}function l$(t){return typeof t=="function"&&t.prototype?.constructor===t}function a3(t,e){return $2(co(e?.in||t,t),wf(e?.in||t))}var Br=({date:t,i18n:e,pattern:o,timezone:n})=>{let r=new oo(new Date(t));if(n){let s=oo.tz(n),i=r.withTimeZone(n),l=rn(i,s);return e.dateFNS?n1(l,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`}return e.dateFNS?n1(r,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`},s1=({date:t,i18n:e})=>{let o=typeof t=="string"?new Date(t):t;return e?.dateFNS?i3(o,{locale:e.dateFNS}):`${e.t("general:loading")}...`};function i1(t){return typeof t=="object"&&"root"in t}function _f(t,e){for(let o of t)"text"in o&&o.text?e+=o.text:"children"in o||(e+=`[${o.type}]`),"children"in o&&o.children&&(e+=_f(o.children,e));return e}var l3=t=>Array.isArray(t)?t.map(e=>typeof e=="object"&&e!==null?e.id:String(e)).filter(Boolean).join(", "):typeof t=="object"&&t!==null?t.id||"":String(t);var Wo=({collectionConfig:t,data:e,dateFormat:o,fallback:n,globalConfig:r,i18n:s})=>{let i;if(t){let l=t?.admin?.useAsTitle;if(l&&(i=e?.[l],i)){let a=t.fields.find(d=>"name"in d&&d.name===l),c=a?.type==="date",u=a?.type==="relationship";if(c){let d="date"in a.admin&&a?.admin?.date?.displayFormat||o;i=Br({date:i,i18n:s,pattern:d})||i}u&&(i=l3(e[l]))}}return r&&(i=c$(r?.label,s)||r?.slug),i&&i1(i)&&(i=_f(i.root.children?.[0]?.children||[],"")),!i&&i1(n)&&(i=_f(n.root.children?.[0]?.children||[],"")),i||(i=typeof n=="string"?n:`[${s.t("general:untitled")}]`),i};import{jsx as u$}from"react/jsx-runtime";import{createContext as d$,use as m$,useEffect as f$,useState as p$}from"react";var c3=d$({}),Do=()=>m$(c3),u3=({children:t})=>{let{id:e,collectionSlug:o,data:n,docConfig:r,globalSlug:s,initialData:i}=Ne(),{config:{admin:{dateFormat:l}}}=W(),{i18n:a}=E(),[c,u]=p$(()=>Wo({collectionConfig:o?r:void 0,data:{...i||{},id:e},dateFormat:l,fallback:e?.toString(),globalConfig:s?r:void 0,i18n:a}));return f$(()=>{u(Wo({collectionConfig:o?r:void 0,data:{...n,id:e},dateFormat:l,fallback:e?.toString(),globalConfig:s?r:void 0,i18n:a}))},[n,l,a,e,o,r,s]),u$(c3,{value:{setDocumentTitle:u,title:c},children:t})};import{c as h$}from"react/compiler-runtime";import{jsx as g$}from"react/jsx-runtime";import a1 from"react";var d3=a1.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),l1=t=>{let e=h$(10),{children:o,initialUploadEdits:n}=t,r;e[0]!==n?(r=n||{},e[0]=n,e[1]=r):r=e[1];let[s,i]=a1.useState(r),l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{i({})},e[2]=l):l=e[2];let a=l,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=p=>{i(h=>({...h||{},...p||{}}))},e[3]=c):c=e[3];let u=c,d;e[4]!==s?(d=()=>s,e[4]=s,e[5]=d):d=e[5];let f=d,m;return e[6]!==o||e[7]!==f||e[8]!==s?(m=g$(d3,{value:{getUploadEdits:f,resetUploadEdits:a,updateUploadEdits:u,uploadEdits:s},children:o}),e[6]=o,e[7]=f,e[8]=s,e[9]=m):m=e[9],m},Vi=()=>a1.use(d3);import*as c1 from"qs-esm";import b$ from"react";var Hc=t=>{let{collectionSlug:e,docPermissions:o,globalSlug:n,isEditing:r}=t;return e?!!(r&&o?.update||!r&&o?.create):n?!!o?.update:!1};var m3=({id:t,collectionSlug:e,globalSlug:o})=>!!(o||e&&t);var f3=({id:t,api:e,collectionSlug:o,globalSlug:n,i18n:r,locale:s,permissions:i,serverURL:l,setDocPermissions:a,setHasPublishPermission:c,setHasSavePermission:u})=>b$.useCallback(async d=>{let f={locale:s||void 0},m=d?.id||t,p=m3({id:m,collectionSlug:o,globalSlug:n});if(p){let h=o?`/${o}/access/${m}`:n?`/globals/${n}/access`:null;if(h){let b=await(await fetch(`${l}${e}${h}?${c1.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),y=await fetch(`${l}${e}${h}?${c1.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(v=>v.json());a(b),u(Hc({collectionSlug:o,docPermissions:b,globalSlug:n,isEditing:p})),c(y?.update)}}else{let h=o?i?.collections?.[o]:i?.globals?.[n];a(h),u(Hc({collectionSlug:o,docPermissions:h,globalSlug:n,isEditing:p}))}},[s,t,o,n,l,e,r.language,a,u,c,i?.collections,i?.globals]);var b3=y$({}),Ne=()=>C$(b3),w$=({children:t,...e})=>{let{id:o,collectionSlug:n,currentEditor:r,docPermissions:s,globalSlug:i,hasPublishedDoc:l,hasPublishPermission:a,hasSavePermission:c,initialData:u,initialState:d,isLocked:f,lastUpdateTime:m,mostRecentVersionIsAutosaved:p,unpublishedVersionCount:h,versionCount:g}=e,[b,y]=Nr(s),[v,C]=Nr(c),[w,S]=Nr(a),{permissions:x}=_e(),{config:{admin:{dateFormat:F},routes:{api:I},serverURL:R},getEntityConfig:D}=W(),_=D({collectionSlug:n}),T=D({globalSlug:i}),A=h3(new AbortController),$=_||T,{i18n:P}=E(),{uploadEdits:j}=Vi(),[B,N]=Uc(()=>Wo({collectionConfig:_,data:{...u||{},id:o},dateFormat:F,fallback:o?.toString(),globalConfig:T,i18n:P})),[L,M]=Uc(p),[k,O]=Uc(g),[V,G]=Uc(l),[H,z]=Uc(h),[Q,J]=Nr(f),[X,ie]=Nr(r),[U,re]=Nr(m),[ce,ge]=Nr(u),[de,me]=Nr("idle"),Oe=h3({hasShownLockedModal:!1,isLocked:!1,user:null}),Te=sl(Re=>{me(Re)},[me]),{getPreference:he,setPreference:we}=Ot(),{code:K}=xe(),{localeIsLoading:Pe}=gf(),qe=x$(()=>d===void 0||u===void 0||Pe,[u,d,Pe]),Z=`${R}${I}`,Y,q,ne;i&&(Y=i,q="globals",ne=`global-${Y}`),n&&(Y=n,q="collections",o&&(ne=`collection-${Y}-${o}`));let fe=sl(async(Re,Je)=>{try{let tt=Je===i,io=await ze.get(`${R}${I}/payload-locked-documents`,{credentials:"include",params:tt?{"where[globalSlug][equals]":Je}:{"where[document.relationTo][equals]":Je,"where[document.value][equals]":Re}}),{docs:Mt}=await io.json();if(Mt?.length>0){let eo=Mt[0].id;await ze.delete(`${R}${I}/payload-locked-documents/${eo}`,{credentials:"include",headers:{"Content-Type":"application/json"}}),J(!1)}}catch(tt){console.error("Failed to unlock the document",tt)}},[R,I,i,J]),ee=sl(async(Re,Je,tt)=>{try{let io=Je===i,Mt=await ze.get(`${R}${I}/payload-locked-documents`,{credentials:"include",params:io?{"where[globalSlug][equals]":Je}:{"where[document.relationTo][equals]":Je,"where[document.value][equals]":Re}}),{docs:eo}=await Mt.json();if(eo?.length>0){let Ht=eo[0].id,Co=typeof tt=="object"?{relationTo:tt.collection,value:tt.id}:{relationTo:"users",value:tt};await ze.patch(`${R}${I}/payload-locked-documents/${Ht}`,{body:JSON.stringify({user:Co}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(io){console.error("Failed to update the document editor",io)}},[R,I,i]),le=f3({id:o,api:I,collectionSlug:n,globalSlug:i,i18n:P,locale:K,permissions:x,serverURL:R,setDocPermissions:y,setHasPublishPermission:S,setHasSavePermission:C}),ve=sl(()=>he(ne),[he,ne]),Ee=sl(async(Re,Je)=>{let tt=await ve();if(ne)try{await we(ne,{...tt,fields:{...tt?.fields||{},[Re]:{...tt?.fields?.[Re],...Je}}})}catch(io){console.error(io)}},[we,ne,ve]),pe=sl(()=>{let Re=k+1;_&&_.versions?_.versions.maxPerDoc>0?O(Math.min(Re,_.versions.maxPerDoc)):O(Re):T&&T.versions&&(T.versions.max>0?O(Math.min(Re,T.versions.max)):O(Re))},[_,T,k]);p3(()=>{N(Wo({collectionConfig:_,data:{...ce,id:o},dateFormat:F,fallback:o?.toString(),globalConfig:T,i18n:P}))},[_,T,ce,F,P,o]),p3(()=>{let Re=A.current;return()=>{if(Re)try{Re.abort()}catch{}}},[]);let be=v$.useMemo(()=>`${`${Z}${q==="globals"?"/globals":""}/${Y}${o?`/${o}`:""}`}${g3.stringify({depth:0,"fallback-locale":"null",locale:K,uploadEdits:j||void 0},{addQueryPrefix:!0})}`,[Z,K,q,o,Y,j]),Ce={...e,action:be,currentEditor:X,data:ce,docConfig:$,docPermissions:b,documentIsLocked:Q,documentLockState:Oe,getDocPermissions:le,getDocPreferences:ve,hasPublishedDoc:V,hasPublishPermission:w,hasSavePermission:v,incrementVersionCount:pe,initialData:u,initialState:d,isInitializing:qe,lastUpdateTime:U,mostRecentVersionIsAutosaved:L,preferencesKey:ne,savedDocumentData:ce,setCurrentEditor:ie,setData:ge,setDocFieldPreferences:Ee,setDocumentIsLocked:J,setDocumentTitle:N,setHasPublishedDoc:G,setLastUpdateTime:re,setMostRecentVersionIsAutosaved:M,setUnpublishedVersionCount:z,setUploadStatus:Te,title:B,unlockDocument:fe,unpublishedVersionCount:H,updateDocumentEditor:ee,updateSavedDocumentData:ge,uploadStatus:de,versionCount:k};return Ff(b3,{value:Ce,children:Ff(u3,{children:t})})},Xc=t=>Ff(l1,{children:Ff(w$,{...t})});import{jsx as S$}from"react/jsx-runtime";import{createContext as I$,use as _$}from"react";var Tf=I$(""),Zc=({children:t,operation:e})=>S$(Tf,{value:e,children:t}),vr=()=>_$(Tf);import v3 from"react";var us=v3.createContext(void 0),Df=()=>{let t=v3.useContext(us);if(t)return t};var T$=t=>{let e=F$(65),o;e[0]!==t?(o=t||{},e[0]=t,e[1]=o):o=e[1];let{disableFormData:n,hasRows:r,path:s,potentiallyStalePath:i,validate:l}=o,a=n===void 0?!1:n,c=Df(),u=s||c||i,d=ao(),f=$r(),m=Di(),{user:p}=_e(),{id:h,collectionSlug:g}=Ne(),b=vr(),y=Et(D$),v;e[2]!==u?(v=de=>{let[me]=de;return me&&me?.[u]||null},e[2]=u,e[3]=v):v=e[3];let C=Et(v),{t:w}=E(),{config:S}=W(),{getData:x,getDataByPath:F,getSiblingData:I,setModified:R}=Ge(),D=Oa(),_=C?.filterOptions,T=C?.value,A=C?.initialValue,$=typeof C?.valid=="boolean"?C.valid:!0,P=$===!1&&d,j=y3($),B=y3(C?.errorMessage),N;e[4]!==u?(N=u?u.split("."):[],e[4]=u,e[5]=N):N=e[5];let L=N,M;e[6]!==a||e[7]!==y||e[8]!==r||e[9]!==u||e[10]!==R?(M=(de,me)=>{let Oe=me===void 0?!1:me,he=de&&typeof de=="object"&&typeof de.preventDefault=="function"&&typeof de.stopPropagation=="function"?de.target.value:de;y({type:"UPDATE",disableFormData:a||r&&he>0,path:u,value:he}),Oe||R(!0)},e[6]=a,e[7]=y,e[8]=r,e[9]=u,e[10]=R,e[11]=M):M=e[11];let k=M,O=C?.blocksFilterOptions,V=C?.customComponents,G=f||m,H=C?.errorMessage,z;e[12]!==C?.errorPaths?(z=C?.errorPaths||[],e[12]=C?.errorPaths,e[13]=z):z=e[13];let Q=C?.rows,J=C?.selectFilterOptions,X=C?.valid,ie;e[14]!==_||e[15]!==A||e[16]!==m||e[17]!==u||e[18]!==f||e[19]!==k||e[20]!==P||e[21]!==d||e[22]!==Q||e[23]!==J||e[24]!==X||e[25]!==O||e[26]!==V||e[27]!==G||e[28]!==H||e[29]!==z||e[30]!==T?(ie={blocksFilterOptions:O,customComponents:V,disabled:G,errorMessage:H,errorPaths:z,filterOptions:_,formInitializing:m,formProcessing:f,formSubmitted:d,initialValue:A,path:u,rows:Q,selectFilterOptions:J,setValue:k,showError:P,valid:X,value:T},e[14]=_,e[15]=A,e[16]=m,e[17]=u,e[18]=f,e[19]=k,e[20]=P,e[21]=d,e[22]=Q,e[23]=J,e[24]=X,e[25]=O,e[26]=V,e[27]=G,e[28]=H,e[29]=z,e[30]=T,e[31]=ie):ie=e[31];let U=ie,re;e[32]!==g||e[33]!==S||e[34]!==a||e[35]!==y||e[36]!==D||e[37]!==C||e[38]!==x||e[39]!==F||e[40]!==I||e[41]!==r||e[42]!==h||e[43]!==b||e[44]!==u||e[45]!==L||e[46]!==w||e[47]!==p||e[48]!==l||e[49]!==T?(re=()=>{(async()=>{let me=T;C?.rows&&Array.isArray(C.rows)&&(me=F(u));let Oe=B.current,Te=j.current,he=x(),we=typeof l=="function"?await l(me,{id:h,blockData:void 0,collectionSlug:g,data:D?.getData?D.getData():he,event:"onChange",operation:b,path:L,preferences:{},req:{payload:{config:S},t:w,user:p},siblingData:I(u)}):typeof B.current=="string"?B.current:j.current;if(typeof we=="string"?(Te=!1,Oe=we):typeof we=="boolean"&&(Te=we,Oe=void 0),Te!==j.current||Oe!==B.current){j.current=Te,B.current=Oe;let K={type:"UPDATE",errorMessage:Oe,path:u,rows:C?.rows,valid:Te,validate:l,value:T};(a||r&&typeof T=="number"&&T>0)&&(K.disableFormData=!0),typeof y=="function"&&y(K)}})()},e[32]=g,e[33]=S,e[34]=a,e[35]=y,e[36]=D,e[37]=C,e[38]=x,e[39]=F,e[40]=I,e[41]=r,e[42]=h,e[43]=b,e[44]=u,e[45]=L,e[46]=w,e[47]=p,e[48]=l,e[49]=T,e[50]=re):re=e[50];let ce=C?.rows,ge;return e[51]!==g||e[52]!==a||e[53]!==y||e[54]!==x||e[55]!==F||e[56]!==I||e[57]!==h||e[58]!==b||e[59]!==u||e[60]!==ce||e[61]!==p||e[62]!==l||e[63]!==T?(ge=[T,a,y,x,I,F,h,b,u,p,l,ce,g],e[51]=g,e[52]=a,e[53]=y,e[54]=x,e[55]=F,e[56]=I,e[57]=h,e[58]=b,e[59]=u,e[60]=ce,e[61]=p,e[62]=l,e[63]=T,e[64]=ge):ge=e[64],Bi(re,150,ge),U},C3=u1.createContext(void 0),$e=t=>{let e=Df(),o=u1.use(C3),n=u1.useRef(null);if(n.current===null){let r=t?.path||e||t.potentiallyStalePath;n.current=!!(o&&r&&o.path===r)}if(n.current===!0){if(!o)throw new Error("FieldContext was removed after mount. This breaks hook ordering.");return o}return T$(t)};function D$(t){let[,e]=t;return e}import{jsx as x3}from"react/jsx-runtime";import"react";import{c as R$}from"react/compiler-runtime";var d1=t=>{let e=R$(2),{children:o,path:n}=t,r;e[0]!==n?(r=l=>{let[a]=l;return a&&a?.[n]||null},e[0]=n,e[1]=r):r=e[1];let s=Et(r),{passesCondition:i}=s||{};return i===!1?null:o};var We=t=>o=>{let{path:n}=o;return x3(d1,{path:n,children:x3(t,{...o})})};var Ke=t=>({...t?.admin?.style||{},...t?.admin?.width?{"--field-width":t.admin.width}:{flex:"1 1 auto"},...t?.admin?.style?.flex?{flex:t.admin.style.flex}:{}});var ke="field-type";function il({fieldLocalized:t,fieldRTL:e,locale:o,localizationConfig:n}){let r=o&&n&&n.locales&&n.locales.length>1,s=o?.code===n?.defaultLocale;return e!==!1&&o?.rtl===!0&&(t||!t&&!r||!t&&s)||e===!0}import{c as A$}from"react/compiler-runtime";import{jsx as Yc,jsxs as p1}from"react/jsx-runtime";import{useId as P$}from"react";import{jsx as w3}from"react/jsx-runtime";import"react";var m1=()=>w3("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:w3("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})});import{jsx as S3}from"react/jsx-runtime";import"react";var f1=()=>S3("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:S3("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})});var Jc="checkbox-input",uo=t=>{let e=A$(22),{id:o,name:n,AfterInput:r,BeforeInput:s,checked:i,className:l,inputRef:a,Label:c,label:u,localized:d,onToggle:f,partialChecked:m,readOnly:p,required:h}=t,g=P$(),b=o||g,y=i&&`${Jc}--checked`,v=p&&`${Jc}--read-only`,C;e[0]!==l||e[1]!==y||e[2]!==v?(C=[l,Jc,y,v].filter(Boolean),e[0]=l,e[1]=y,e[2]=v,e[3]=C):C=e[3];let w=C.join(" "),S=!!i,x;if(e[4]!==r||e[5]!==s||e[6]!==c||e[7]!==i||e[8]!==b||e[9]!==a||e[10]!==u||e[11]!==d||e[12]!==n||e[13]!==f||e[14]!==m||e[15]!==p||e[16]!==h||e[17]!==w||e[18]!==S){let F=Yc("input",{"aria-label":"","aria-labelledby":n,defaultChecked:S,disabled:p,id:b,name:n,onInput:f,ref:a,required:h,title:n,type:"checkbox"}),I=!i&&m?"partial":"check",R;e[20]!==I?(R=[`${Jc}__icon`,I].filter(Boolean),e[20]=I,e[21]=R):R=e[21],x=p1("div",{className:w,children:[p1("div",{className:`${Jc}__input`,children:[s,F,p1("span",{className:R.join(" "),children:[i&&Yc(m1,{}),!i&&m&&Yc(f1,{})]}),r]}),Yc(ue,{CustomComponent:c,Fallback:Yc(Fe,{htmlFor:b,label:u,localized:d,required:h})})]}),e[4]=r,e[5]=s,e[6]=c,e[7]=i,e[8]=b,e[9]=a,e[10]=u,e[11]=d,e[12]=n,e[13]=f,e[14]=m,e[15]=p,e[16]=h,e[17]=w,e[18]=S,e[19]=x}else x=e[19];return x};var h1="checkbox";var $$=t=>{let{id:e,checked:o,disableFormData:n,field:r,field:{admin:{className:s,description:i}={},label:l,required:a}={},onChange:c,partialChecked:u,path:d,readOnly:f,validate:m}=t,{uuid:p}=Ge(),h=ut(),{i18n:{language:g}}=E(),b=N$.includes(g),y=I3((j,B)=>{if(typeof m=="function")return m(j,{...B,required:a})},[m,a]),{customComponents:{AfterInput:v,BeforeInput:C,Description:w,Error:S,Label:x}={},disabled:F,path:I,setValue:R,showError:D,value:_}=$e({disableFormData:n,potentiallyStalePath:d,validate:y}),T=I3(()=>{f||(R(!_),typeof c=="function"&&c(!_))},[c,f,R,_]),A=o||!!_,$=e||bf(I,h,p),P=L$(()=>Ke(r),[r]);return E$("div",{className:[ke,h1,D&&"error",s,_&&`${h1}--checked`,(f||F)&&`${h1}--read-only`].filter(Boolean).join(" "),style:P,children:[qc(ue,{CustomComponent:S,Fallback:qc(Ye,{alignCaret:b?"right":"left",path:I,showError:D})}),qc(uo,{AfterInput:v,BeforeInput:C,checked:A,id:$,inputRef:null,Label:x,label:l,name:I,onToggle:T,partialChecked:u,readOnly:f||F,required:a}),qc(ue,{CustomComponent:w,Fallback:qc(Ue,{description:i,path:I})})]})},Mr=We($$);var j$="nullify-locale-field",Qc=t=>{let e=k$(13),{fieldValue:o,localized:n,path:r,readOnly:s}=t,i=s===void 0?!1:s,{code:l}=xe(),{config:a}=W(),{localization:c}=a,[u,d]=F3.useState(typeof o!="number"),{t:f}=E(),{dispatchFields:m,setModified:p}=Ge();if(!n||!c||c.defaultLocale===l||!c.fallback)return null;let h;e[0]!==u||e[1]!==m||e[2]!==o||e[3]!==r||e[4]!==p?(h=()=>{let y=!u;m({type:"UPDATE",path:r,value:y?null:o||0}),p(!0),d(y)},e[0]=u,e[1]=m,e[2]=o,e[3]=r,e[4]=p,e[5]=h):h=e[5];let g=h;if(o){let y=!1;if(typeof o=="number"&&o>0&&(y=!0),Array.isArray(o)&&o.length>0&&(y=!0),y)return u&&d(!1),null}let b;return e[6]!==u||e[7]!==o||e[8]!==g||e[9]!==r||e[10]!==i||e[11]!==f?(b=_3(tn,{className:j$,children:!o&&i?f("general:fallbackToDefaultLocale"):_3(Mr,{checked:u,field:{name:"",label:f("general:fallbackToDefaultLocale")},id:`field-${r.replace(/\./g,"__")}`,onChange:g,path:r,schemaPath:""})}),e[6]=u,e[7]=o,e[8]=g,e[9]=r,e[10]=i,e[11]=f,e[12]=b):b=e[12],b};var al=t=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:o.top-100})}};import{c as XW}from"react/compiler-runtime";import{jsx as hi,jsxs as ZW}from"react/jsx-runtime";import{getTranslation as YW}from"@payloadcms/translations";import"react";import{c as B$}from"react/compiler-runtime";import{jsx as yr,jsxs as Gi}from"react/jsx-runtime";import M$ from"react";var Ro="array-actions",Rf=t=>{let e=B$(12),{addRow:o,copyRow:n,duplicateRow:r,hasMaxRows:s,index:i,isSortable:l,moveRow:a,pasteRow:c,removeRow:u,rowCount:d}=t,{t:f}=E(),m;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==u||e[9]!==d||e[10]!==f?(m=yr(nt,{button:yr(Pc,{}),buttonClassName:`${Ro}__button`,className:Ro,horizontalAlign:"center",render:p=>{let{close:h}=p;return Gi(Ie.ButtonGroup,{buttonSize:"small",children:[l&&i!==0&&Gi(Ie.Button,{className:`${Ro}__action ${Ro}__move-up`,onClick:()=>{a(i,i-1),h()},children:[yr("div",{className:`${Ro}__action-chevron`,children:yr(He,{direction:"up"})}),f("general:moveUp")]}),l&&i<d-1&&Gi(Ie.Button,{className:`${Ro}__action`,onClick:()=>{a(i,i+1),h()},children:[yr("div",{className:`${Ro}__action-chevron`,children:yr(He,{})}),f("general:moveDown")]}),!s&&Gi(M$.Fragment,{children:[Gi(Ie.Button,{className:`${Ro}__action ${Ro}__add`,onClick:()=>{o(i+1),h()},children:[yr(tr,{}),f("general:addBelow")]}),Gi(Ie.Button,{className:`${Ro}__action ${Ro}__duplicate`,onClick:()=>{r(i),h()},children:[yr(Pi,{}),f("general:duplicate")]})]}),yr(Ie.Button,{className:`${Ro}__action ${Ro}__copy`,onClick:()=>{n(i),h()},children:yr(Ha,{isRow:!0})}),yr(Ie.Button,{className:`${Ro}__action ${Ro}__paste`,onClick:()=>{c(i),h()},children:yr(Ha,{isPaste:!0,isRow:!0})}),Gi(Ie.Button,{className:`${Ro}__action ${Ro}__remove`,onClick:()=>{u(i),h()},children:[yr(ht,{}),f("general:remove")]})]})},size:"medium"}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=a,e[7]=c,e[8]=u,e[9]=d,e[10]=f,e[11]=m):m=e[11],m};import{c as Y$}from"react/compiler-runtime";import{jsx as sn,jsxs as v1}from"react/jsx-runtime";import{useState as P3}from"react";import{jsx as ll,jsxs as O$}from"react/jsx-runtime";import"react";var nn=({className:t})=>O$("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[ll("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),ll("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),ll("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),ll("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),ll("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),ll("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]});import{jsx as D3}from"react/jsx-runtime";import Af,{useEffect as W$,useRef as b1}from"react";import{useEffect as V$,useMemo as G$,useRef as g1,useState as z$}from"react";var T3=({containerRef:t,contentRef:e,duration:o,open:n})=>{let r=G$(()=>typeof CSS<"u"&&CSS&&CSS.supports?CSS.supports("interpolate-size","allow-keywords"):!1,[]),s=g1(!1),i=g1(n),[l,a]=z$(!1),c=g1(null);return V$(()=>{let u=t.current,d=e.current;if(!u||!d||r)return;let f=h=>{u.style.height=h},m=()=>{u&&(u.style.transition="",u.style.height=n?"auto":"0px",a(!1))};return(()=>{if(!s.current&&n){f("auto"),a(!1);return}s.current=!0,i.current!==n&&f(n?"0px":`${d.scrollHeight}px`),u.offsetHeight,a(!0),u.style.transition=`height ${o}ms ease`,f(n?`${d.scrollHeight}px`:"0px");let h=()=>{m(),u.removeEventListener("transitionend",h)};u.addEventListener("transitionend",h)})(),i.current=n,c.current=new ResizeObserver(()=>{l&&(u.style.height=n?`${d.scrollHeight}px`:"0px")}),c.current.observe(d),()=>{u&&(u.style.transition="",u.style.height=""),c.current?.disconnect()}},[n,o,t,e,r]),{browserSupportsKeywordAnimation:r}};var Cr=({id:t,children:e,className:o,duration:n=300,height:r})=>{let[s,i]=Af.useState(()=>!!r),l=b1(s),[a,c]=Af.useState(()=>s?"":"none"),[u,d]=Af.useState(()=>s?"":"hidden"),[f,m]=Af.useState(!1),p=b1(null),h=b1(null);return W$(()=>{let g,b,y=!!r,v=l.current!==y;return l.current=y,v&&(m(!0),d("hidden"),y?c(""):g=window.setTimeout(()=>{c("none")},n),i(y),b=window.setTimeout(()=>{d(""),m(!1)},n)),()=>{g&&clearTimeout(g),b&&clearTimeout(b)}},[r,n]),T3({containerRef:p,contentRef:h,duration:n,open:s}),D3("div",{"aria-hidden":!s,className:[o,"rah-static",s&&r==="auto"&&"rah-static--height-auto",f&&`rah-animating--${s?"down":"up"}`,f&&r==="auto"&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:p,style:{overflow:u,transition:`height ${n}ms ease`},children:D3("div",{ref:h,...a?{style:{display:a}}:{},children:e})})};import{jsx as H$}from"react/jsx-runtime";import U$,{createContext as X$,use as Z$}from"react";var R3=X$({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),A3=({children:t,isCollapsed:e,isWithinCollapsible:o=!0,toggle:n})=>{let{isCollapsed:r,isVisible:s}=Xs(),i=U$.useMemo(()=>({isCollapsed:e,isVisible:s&&!r,isWithinCollapsible:o,toggle:n}),[e,o,n,r,s]);return H$(R3,{value:i,children:t})},Xs=()=>Z$(R3);var ko="collapsible";var zi=t=>{let e=Y$(25),{actions:o,AfterCollapsible:n,children:r,className:s,collapsibleStyle:i,disableHeaderToggle:l,disableToggleIndicator:a,dragHandleProps:c,header:u,initCollapsed:d,isCollapsed:f,onToggle:m}=t,p=i===void 0?"default":i,h=l===void 0?!1:l,g=a===void 0?!1:a,[b,y]=P3(!!d),[v,C]=P3(!1),{isWithinCollapsible:w}=Xs(),{t:S}=E(),x=typeof f=="boolean"?f:b,F;e[0]!==x||e[1]!==m?(F=()=>{typeof m=="function"&&m(!x),y(!x)},e[0]=x,e[1]=m,e[2]=F):F=e[2];let I=F,R=c&&`${ko}--has-drag-handle`,D=x&&`${ko}--collapsed`,_=w&&`${ko}--nested`,T=v&&!h&&`${ko}--hovered`,A=`${ko}--style-${p}`,$;e[3]!==s||e[4]!==R||e[5]!==D||e[6]!==_||e[7]!==T||e[8]!==A?($=[ko,s,R,D,_,T,A].filter(Boolean),e[3]=s,e[4]=R,e[5]=D,e[6]=_,e[7]=T,e[8]=A,e[9]=$):$=e[9];let P=$.join(" "),j=`${ko}__toggle-wrap${h?" toggle-disabled":""}`,B,N;e[10]===Symbol.for("react.memo_cache_sentinel")?(B=()=>C(!0),N=()=>C(!1),e[10]=B,e[11]=N):(B=e[10],N=e[11]);let L;return e[12]!==n||e[13]!==o||e[14]!==r||e[15]!==h||e[16]!==g||e[17]!==c||e[18]!==u||e[19]!==x||e[20]!==S||e[21]!==P||e[22]!==j||e[23]!==I?(L=sn("div",{className:P,children:v1(A3,{isCollapsed:x,toggle:I,children:[v1("div",{className:j,onMouseEnter:B,onMouseLeave:N,children:[!h&&sn("button",{className:[`${ko}__toggle`,`${ko}__toggle--${x?"collapsed":"open"}`].filter(Boolean).join(" "),onClick:I,type:"button",children:sn("span",{children:S("fields:toggleBlock")})}),c&&sn("div",{className:`${ko}__drag`,...c.attributes,...c.listeners,children:sn(nn,{})}),u?sn("div",{className:[`${ko}__header-wrap`,c&&`${ko}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:u}):null,v1("div",{className:`${ko}__actions-wrap`,children:[o?sn("div",{className:`${ko}__actions`,children:o}):null,!g&&sn("div",{className:`${ko}__indicator`,children:sn(He,{direction:x?void 0:"up"})})]})]}),sn(Cr,{height:x?0:"auto",children:sn("div",{className:`${ko}__content`,children:r})}),n]})}),e[12]=n,e[13]=o,e[14]=r,e[15]=h,e[16]=g,e[17]=c,e[18]=u,e[19]=x,e[20]=S,e[21]=P,e[22]=j,e[23]=I,e[24]=L):L=e[24],L};import{c as zW}from"react/compiler-runtime";import{jsx as G0}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as WW,getFieldPaths as HW,getFieldPermissions as UW}from"payload/shared";import"react";import{c as J$}from"react/compiler-runtime";import{jsx as q$}from"react/jsx-runtime";import E3 from"react";var N3=t=>{let e=J$(9),{children:o,className:n,forceRender:r}=t,[s,i]=E3.useState(!!r),l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={rootMargin:"1000px"},e[0]=l):l=e[0];let[a,c]=ts(l,!!r),u=!!c?.isIntersecting,d=c?.boundingClientRect?.top<0,f=r||u||d,m,p;e[1]!==s||e[2]!==f?(m=()=>{f&&!s&&i(!0)},p=[f,s],e[1]=s,e[2]=f,e[3]=m,e[4]=p):(m=e[3],p=e[4]),E3.useEffect(m,p);let h=s?o:null,g;return e[5]!==n||e[6]!==a||e[7]!==h?(g=q$("div",{className:n,ref:a,children:h}),e[5]=n,e[6]=a,e[7]=h,e[8]=g):g=e[8],g};import{c as GW}from"react/compiler-runtime";import{jsx as Gt}from"react/jsx-runtime";import"react";import{jsx as Zt,jsxs as ms}from"react/jsx-runtime";import{getTranslation as S1}from"@payloadcms/translations";import yk,{Fragment as K3,useCallback as An,useMemo as eS}from"react";import{c as gk}from"react/compiler-runtime";import{jsx as ln,jsxs as q3,Fragment as bk}from"react/jsx-runtime";import{getTranslation as vk}from"@payloadcms/translations";import"react";import{c as Q$}from"react/compiler-runtime";import{jsx as Kc,jsxs as K$}from"react/jsx-runtime";import"react";var Or="pill",ek=t=>{let e=Q$(12),{id:o,className:n}=t,r;e[0]!==o?(r={id:o},e[0]=o,e[1]=r):r=e[1];let{attributes:s,isDragging:i,listeners:l,setNodeRef:a,transform:c}=Ya(r),u=i&&`${Or}--is-dragging`,d;e[2]!==n||e[3]!==u?(d=[u,n].filter(Boolean),e[2]=n,e[3]=u,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==s||e[6]!==l||e[7]!==t||e[8]!==a||e[9]!==f||e[10]!==c?(m=Kc(L3,{...t,className:f,elementProps:{...l,...s,ref:a,style:{transform:c}}}),e[5]=s,e[6]=l,e[7]=t,e[8]=a,e[9]=f,e[10]=c,e[11]=m):m=e[11],m},L3=t=>{let{id:e,alignIcon:o="right","aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,children:l,className:a,draggable:c,elementProps:u,icon:d,onClick:f,pillStyle:m="light",rounded:p,size:h="medium",to:g}=t,b=[Or,`${Or}--style-${m}`,`${Or}--size-${h}`,a&&a,g&&`${Or}--has-link`,(g||f)&&`${Or}--has-action`,d&&`${Or}--has-icon`,d&&`${Or}--align-icon-${o}`,c&&`${Or}--draggable`,p&&`${Or}--rounded`].filter(Boolean).join(" "),y="div";return f&&!g&&(y="button"),g&&(y=Xt),K$(y,{...u,"aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,className:b,href:g||null,id:e,onClick:f,type:y==="button"?"button":void 0,children:[Kc("span",{className:`${Or}__label`,children:l}),!!d&&Kc("span",{className:`${Or}__icon`,children:d})]})},it=t=>{let{draggable:e}=t;return e?Kc(ek,{...t}):Kc(L3,{...t})};import{useEffect as tk,useState as ok}from"react";function Pf(t,e){let[o,n]=ok(t);return tk(()=>{let r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),o}import{c as fk}from"react/compiler-runtime";import{jsx as U3,jsxs as pk}from"react/jsx-runtime";import X3 from"react";import{jsx as Rn,jsxs as z3}from"react/jsx-runtime";import{getTranslation as Lf}from"@payloadcms/translations";import{useEffect as W3,useMemo as dk,useState as H3}from"react";import{c as rk}from"react/compiler-runtime";import{jsx as $3,jsxs as nk}from"react/jsx-runtime";import"react";var eu="thumbnail-card",k3=t=>{let e=rk(13),{alignLabel:o,className:n,collection:r,doc:s,label:i,onClick:l,thumbnail:a}=t,{config:c}=W(),{i18n:u}=E(),d=typeof l=="function"&&`${eu}--has-on-click`,f=o&&`${eu}--align-label-${o}`,m;e[0]!==n||e[1]!==d||e[2]!==f?(m=[eu,n,d,f].filter(Boolean),e[0]=n,e[1]=d,e[2]=f,e[3]=m):m=e[3];let p=m.join(" "),h;if(e[4]!==p||e[5]!==r||e[6]!==c||e[7]!==s||e[8]!==u||e[9]!==i||e[10]!==l||e[11]!==a){let g=i;g||(g=Wo({collectionConfig:r,data:s,dateFormat:c.admin.dateFormat,fallback:s?.filename,i18n:u})),h=nk("button",{className:p,onClick:l,title:g,type:"button",children:[$3("div",{className:`${eu}__thumbnail`,children:a}),$3("div",{className:`${eu}__label`,children:g})]}),e[4]=p,e[5]=r,e[6]=c,e[7]=s,e[8]=u,e[9]=i,e[10]=l,e[11]=a,e[12]=h}else h=e[12];return h};import{jsx as ds,jsxs as B3}from"react/jsx-runtime";import{useState as lk}from"react";var Ao=[];for(Ef=0;Ef<256;++Ef)Ao.push((Ef+256).toString(16).slice(1));var Ef;function j3(t,e=0){return(Ao[t[e+0]]+Ao[t[e+1]]+Ao[t[e+2]]+Ao[t[e+3]]+"-"+Ao[t[e+4]]+Ao[t[e+5]]+"-"+Ao[t[e+6]]+Ao[t[e+7]]+"-"+Ao[t[e+8]]+Ao[t[e+9]]+"-"+Ao[t[e+10]]+Ao[t[e+11]]+Ao[t[e+12]]+Ao[t[e+13]]+Ao[t[e+14]]+Ao[t[e+15]]).toLowerCase()}var Nf,sk=new Uint8Array(16);function y1(){if(!Nf&&(Nf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nf(sk)}var ik=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C1={randomUUID:ik};function ak(t,e,o){if(C1.randomUUID&&!e&&!t)return C1.randomUUID();t=t||{};var n=t.random||(t.rng||y1)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=n[r];return e}return j3(n)}var an=ak;var x1=()=>{let[t]=lk(()=>`pattern${an()}`);return B3("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[B3("g",{clipPath:`url(#${t})`,children:[ds("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),ds("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),ds("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),ds("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),ds("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),ds("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),ds("defs",{children:ds("clipPath",{id:`${t}`,children:ds("rect",{fill:"white",height:"151",width:"231"})})})]})};import{c as ck}from"react/compiler-runtime";import{jsx as O3,jsxs as uk}from"react/jsx-runtime";import"react";import{jsx as M3}from"react/jsx-runtime";import"react";var tu=()=>M3("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:M3("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})});var V3="block-search",G3=t=>{let e=ck(5),{setSearchTerm:o}=t,{t:n}=E(),r;e[0]!==o?(r=l=>{o(l.target.value)},e[0]=o,e[1]=r):r=e[1];let s=r,i;return e[2]!==s||e[3]!==n?(i=uk("div",{className:V3,children:[O3("input",{className:`${V3}__input`,onChange:s,placeholder:n("fields:searchForBlock")}),O3(tu,{})]}),e[2]=s,e[3]=n,e[4]=i):i=e[4],i};var Zs="blocks-drawer",mk=(t,e)=>typeof t.labels.singular=="string"?t.labels.singular.toLowerCase():typeof t.labels.singular=="object"?Lf(t.labels.singular,e).toLowerCase():"",ou=t=>{let{addRow:e,addRowIndex:o,blocks:n,drawerSlug:r,labels:s}=t,[i,l]=H3(""),[a,c]=H3(n),{closeModal:u,isModalOpen:d}=ae(),{i18n:f,t:m}=E(),{config:p}=W(),h=dk(()=>{let g={_none:[]};return a.forEach(b=>{if(typeof b=="object"&&b.admin?.group){let y=b.admin.group,v=typeof y=="string"?y:Lf(y,f);Object.hasOwn(g,v)?g[v].push(b):g[v]=[b]}else g._none.push(b)}),g},[a,f]);return W3(()=>{d(r)||l("")},[d,r]),W3(()=>{let g=i.toLowerCase(),b=n?.reduce((y,v)=>{let C=typeof v=="string"?p.blocksMap[v]:v;return mk(C,f).includes(g)&&y.push(C),y},[]);c(b)},[i,n,f,p.blocksMap]),z3(Tt,{slug:r,title:m("fields:addLabel",{label:Lf(s.singular,f)}),children:[Rn(G3,{setSearchTerm:l}),Rn("div",{className:`${Zs}__blocks-wrapper`,children:Rn("ul",{className:`${Zs}__block-groups`,children:Object.entries(h).map(([g,b])=>b.length?z3("li",{className:[`${Zs}__block-group`,g==="_none"&&`${Zs}__block-group-none`].filter(Boolean).join(" "),children:[g!=="_none"&&Rn("h3",{className:`${Zs}__block-group-label`,children:g}),Rn("ul",{className:`${Zs}__blocks`,children:b.map((y,v)=>{let C=typeof y=="string"?p.blocksMap[y]:y,{slug:w,imageAltText:S,imageURL:x,labels:F}=C;return Rn("li",{className:`${Zs}__block`,children:Rn(k3,{alignLabel:"center",label:Lf(F?.singular,f),onClick:()=>{e(o,w),u(r)},thumbnail:Rn("div",{className:`${Zs}__default-image`,children:x?Rn("img",{alt:S,src:x}):Rn(x1,{})})})},v)})})]},g):null)})})]})};var Z3=t=>{let e=fk(28),{addRow:o,blocks:n,blockType:r,copyRow:s,duplicateRow:i,hasMaxRows:l,isSortable:a,labels:c,moveRow:u,pasteRow:d,removeRow:f,rowCount:m,rowIndex:p}=t,{closeModal:h,openModal:g}=ae(),b=Oc("blocks-drawer"),[y,v]=X3.useState(null),C;e[0]!==o||e[1]!==h||e[2]!==b||e[3]!==y?(C=(S,x)=>{typeof o=="function"&&o(y,x),h(b)},e[0]=o,e[1]=h,e[2]=b,e[3]=y,e[4]=C):C=e[4];let w;if(e[5]!==r||e[6]!==n||e[7]!==s||e[8]!==b||e[9]!==i||e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==u||e[14]!==g||e[15]!==d||e[16]!==f||e[17]!==m||e[18]!==p||e[19]!==C){let S;e[21]!==b||e[22]!==g?(S=F=>{v(F),g(b)},e[21]=b,e[22]=g,e[23]=S):S=e[23];let x;e[24]!==r||e[25]!==i||e[26]!==p?(x=()=>i(p,r),e[24]=r,e[25]=i,e[26]=p,e[27]=x):x=e[27],w=pk(X3.Fragment,{children:[U3(ou,{addRow:C,addRowIndex:p,blocks:n,drawerSlug:b,labels:c}),U3(Rf,{addRow:S,copyRow:s,duplicateRow:x,hasMaxRows:l,index:p,isSortable:a,moveRow:u,pasteRow:d,removeRow:f,rowCount:m})]}),e[5]=r,e[6]=n,e[7]=s,e[8]=b,e[9]=i,e[10]=l,e[11]=a,e[12]=c,e[13]=u,e[14]=g,e[15]=d,e[16]=f,e[17]=m,e[18]=p,e[19]=C,e[20]=w}else w=e[20];return w};import{c as hk}from"react/compiler-runtime";import{jsx as Y3}from"react/jsx-runtime";import"react";var J3="section-title",w1=t=>{let e=hk(14),{customOnChange:o,customValue:n,path:r,readOnly:s}=t,i;e[0]!==r?(i={path:r},e[0]=r,e[1]=i):i=e[1];let{setValue:l,value:a}=$e(i),{t:c}=E(),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[J3].filter(Boolean),e[2]=u):u=e[2];let d=u.join(" "),f;e[3]!==o||e[4]!==l?(f=o||(g=>{g.stopPropagation(),g.preventDefault(),l(g.target.value)}),e[3]=o,e[4]=l,e[5]=f):f=e[5];let m=f,p=n||a,h;return e[6]!==n||e[7]!==m||e[8]!==r||e[9]!==s||e[10]!==c||e[11]!==p||e[12]!==a?(h=Y3("div",{className:d,"data-value":p,children:Y3("input",{className:`${J3}__input`,id:r,name:r,onChange:m,placeholder:c("general:untitled"),readOnly:s,type:"text",value:n||a||""})}),e[6]=n,e[7]=m,e[8]=r,e[9]=s,e[10]=c,e[11]=p,e[12]=a,e[13]=h):h=e[13],h};var Ys="blocks-field",Q3=t=>{let e=gk(42),{addRow:o,attributes:n,block:r,blocks:s,copyRow:i,duplicateRow:l,errorCount:a,fields:c,hasMaxRows:u,isLoading:d,isSortable:f,Label:m,labels:p,listeners:h,moveRow:g,parentPath:b,pasteRow:y,path:v,permissions:C,readOnly:w,removeRow:S,row:x,rowCount:F,rowIndex:I,schemaPath:R,setCollapse:D,setNodeRef:_,transform:T}=t,A=Pf(d,500),{i18n:$}=E(),j=ao()&&a>0,B=!r.admin?.disableBlockName,N=j?`${Ys}__row--has-errors`:`${Ys}__row--no-errors`,L;e[0]!==N?(L=[`${Ys}__row`,N].filter(Boolean),e[0]=N,e[1]=L):L=e[1];let M=L.join(" "),k;if(e[2]!==m||e[3]!==o||e[4]!==n||e[5]!==r.fields||e[6]!==r.labels||e[7]!==r.slug||e[8]!==s||e[9]!==M||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==j||e[14]!==c||e[15]!==u||e[16]!==$||e[17]!==A||e[18]!==f||e[19]!==p||e[20]!==h||e[21]!==g||e[22]!==b||e[23]!==y||e[24]!==v||e[25]!==C||e[26]!==w||e[27]!==S||e[28]!==x.blockType||e[29]!==x.collapsed||e[30]!==x.id||e[31]!==F||e[32]!==I||e[33]!==R||e[34]!==D||e[35]!==_||e[36]!==B||e[37]!==T){let O;if(C===!0)O=!0;else{let G=C?.blocks?.[r.slug]||C?.blocks;if(G===!0)O=!0;else if(G?.fields)O=G.fields;else if(typeof C=="object"&&C&&!G){let H=C.read===!0,z=!C.create||!C.update;H&&(z||typeof C=="object"&&Object.keys(C).length===1&&C.read)?O={read:!0}:O=G?.fields}else O=G?.fields}let V;e[39]!==x.id||e[40]!==D?(V=G=>D(x.id,G),e[39]=x.id,e[40]=D,e[41]=V):V=e[41],k=ln("div",{id:`${b?.split(".").join("-")}-row-${I}`,ref:_,style:{transform:T},children:ln(zi,{actions:w?void 0:ln(Z3,{addRow:o,blocks:s,blockType:x.blockType,copyRow:i,duplicateRow:l,fields:r.fields,hasMaxRows:u,isSortable:f,labels:p,moveRow:g,pasteRow:y,removeRow:S,rowCount:F,rowIndex:I}),className:M,collapsibleStyle:j?"error":"default",dragHandleProps:f?{id:x.id,attributes:n,listeners:h}:void 0,header:A?ln(It,{height:"1rem",width:"8rem"}):q3("div",{className:`${Ys}__block-header`,children:[ln(es,{CustomComponent:m,label:q3(bk,{children:[ln("span",{className:`${Ys}__block-number`,children:String(I+1).padStart(2,"0")}),ln(it,{className:`${Ys}__block-pill ${Ys}__block-pill-${x.blockType}`,pillStyle:"white",size:"small",children:vk(r.labels.singular,$)}),B&&ln(w1,{path:`${v}.blockName`,readOnly:w})]}),path:v,rowNumber:I}),j&&ln(xo,{count:a,i18n:$,withMessage:!0})]}),isCollapsed:x.collapsed,onToggle:V,children:A?ln(It,{}):ln(Po,{className:`${Ys}__fields`,fields:c,margins:"small",parentIndexPath:"",parentPath:v,parentSchemaPath:R,permissions:O,readOnly:w})},x.id)},`${b}-row-${I}`),e[2]=m,e[3]=o,e[4]=n,e[5]=r.fields,e[6]=r.labels,e[7]=r.slug,e[8]=s,e[9]=M,e[10]=i,e[11]=l,e[12]=a,e[13]=j,e[14]=c,e[15]=u,e[16]=$,e[17]=A,e[18]=f,e[19]=p,e[20]=h,e[21]=g,e[22]=b,e[23]=y,e[24]=v,e[25]=C,e[26]=w,e[27]=S,e[28]=x.blockType,e[29]=x.collapsed,e[30]=x.id,e[31]=F,e[32]=I,e[33]=R,e[34]=D,e[35]=_,e[36]=B,e[37]=T,e[38]=k}else k=e[38];return k};var Vr="blocks-field",Ck=t=>{let{i18n:e,t:o}=E(),{field:n,field:{name:r,type:s,admin:{className:i,description:l,isSortable:a=!0}={},blockReferences:c,blocks:u,label:d,labels:f,localized:m,maxRows:p,minRows:h,required:g},path:b,permissions:y,readOnly:v,schemaPath:C,validate:w}=t,S=C??r,x=h??g?1:0,{setDocFieldPreferences:F}=Ne(),{addFieldRow:I,dispatchFields:R,getFields:D,moveFieldRow:_,removeFieldRow:T,replaceState:A,setModified:$}=Ge(),{code:P}=xe(),{config:{localization:j},config:B}=W(),N=Oc("blocks-drawer"),L=ao(),M={plural:o("fields:blocks"),singular:o("fields:block"),...f},k=(()=>{if(j&&j.fallback){let pe=j.defaultLocale;return P===pe}return!0})(),O=An((pe,be)=>{if(!k&&pe===null)return!0;if(typeof w=="function")return w(pe,{...be,maxRows:p,minRows:x,required:g})},[p,x,g,w,k]),{blocksFilterOptions:V,customComponents:{AfterInput:G,BeforeInput:H,Description:z,Error:Q,Label:J}={},disabled:X,errorPaths:ie,path:U,rows:re=[],showError:ce,valid:ge,value:de}=$e({hasRows:!0,potentiallyStalePath:b,validate:O}),{clientBlocks:me,clientBlocksAfterFilter:Oe}=eS(()=>{let pe=[];if(!c)pe=u;else for(let be of c){let Ce=typeof be=="string"?B.blocksMap[be]:be;Ce&&pe.push(Ce)}if(Array.isArray(V)){let be=pe.filter(Ce=>{let Re=typeof Ce=="string"?Ce:Ce.slug;return V.includes(Re)});return{clientBlocks:pe,clientBlocksAfterFilter:be}}return{clientBlocks:pe,clientBlocksAfterFilter:pe}},[c,u,V,B.blocksMap]),Te=An((pe,be)=>{I({blockType:be,path:U,rowIndex:pe,schemaPath:S}),setTimeout(()=>{al(`${U}-row-${pe+1}`)},0)},[I,U,S]),he=An(pe=>{R({type:"DUPLICATE_ROW",path:U,rowIndex:pe}),$(!0),setTimeout(()=>{al(`${U}-row-${pe+1}`)},0)},[R,U,$]),we=An(pe=>{T({path:U,rowIndex:pe})},[U,T]),K=An((pe,be)=>{_({moveFromIndex:pe,moveToIndex:be,path:U})},[_,U]),Pe=An(pe=>{let{collapsedIDs:be,updatedRows:Ce}=yf({collapsed:pe,rows:re});R({type:"SET_ALL_ROWS_COLLAPSED",path:U,updatedRows:Ce}),F(U,{collapsed:be})},[R,U,re,F]),qe=An((pe,be)=>{let{collapsedIDs:Ce,updatedRows:Re}=vf({collapsed:be,rowID:pe,rows:re});R({type:"SET_ROW_COLLAPSED",path:U,updatedRows:Re}),F(U,{collapsed:Ce})},[R,U,re,F]),Z=An(pe=>{let be=za({type:s,blocks:me,getDataToCopy:()=>Xa({formState:{...D()},path:U,rowIndex:pe}),path:U,rowIndex:pe,t:o});typeof be=="string"?oe.error(be):oe.success(o("general:copied"))},[me,U,o,s,D]),Y=An(pe=>{let Ce=Wa({onPaste:Re=>{let Je={...D()},tt=Za({dataFromClipboard:Re,formState:Je,path:U,rowIndex:pe});A(tt),$(!0)},path:U,schemaBlocks:me,t:o});typeof Ce=="string"&&oe.error(Ce)},[me,D,U,A,$,o]),q=An(pe=>{let be={...D()},Ce=Za({dataFromClipboard:pe,formState:be,path:U});A(Ce),$(!0)},[D,U,A,$]),ne=p&&re.length>=p,fe=ie.length,ee=L&&fe+(ge?0:1)>0,le=re.length<x||g&&re.length===0,ve=v&&re.length===0,Ee=eS(()=>Ke(n),[n]);return ms("div",{className:[ke,Vr,i,ee?`${Vr}--has-error`:`${Vr}--has-no-error`].filter(Boolean).join(" "),id:`field-${U?.replace(/\./g,"__")}`,style:Ee,children:[ce&&Zt(ue,{CustomComponent:Q,Fallback:Zt(Ye,{path:U,showError:ce})}),ms("header",{className:`${Vr}__header`,children:[ms("div",{className:`${Vr}__header-wrap`,children:[ms("div",{className:`${Vr}__heading-with-error`,children:[Zt("h3",{children:Zt(ue,{CustomComponent:J,Fallback:Zt(Fe,{as:"span",label:d,localized:m,path:U,required:g})})}),ee&&fe>0&&Zt(xo,{count:fe,i18n:e,withMessage:!0})]}),ms("ul",{className:`${Vr}__header-actions`,children:[re.length>0&&ms(K3,{children:[Zt("li",{children:Zt("button",{className:`${Vr}__header-action`,onClick:()=>Pe(!0),type:"button",children:o("fields:collapseAll")})}),Zt("li",{children:Zt("button",{className:`${Vr}__header-action`,onClick:()=>Pe(!1),type:"button",children:o("fields:showAll")})})]}),Zt("li",{children:Zt(Um,{allowCopy:re?.length>0,allowPaste:!v,blocks:me,className:`${Vr}__header-action`,disabled:X,getDataToCopy:()=>Xa({formState:{...D()},path:U}),onPaste:q,path:U,type:s})})]})]}),Zt(ue,{CustomComponent:z,Fallback:Zt(Ue,{description:l,path:U})})]}),H,Zt(Qc,{fieldValue:de,localized:m,path:U,readOnly:v}),(re.length>0||!ge&&(ve||le))&&ms(kr,{className:`${Vr}__rows`,ids:re.map(pe=>pe.id),onDragEnd:({moveFromIndex:pe,moveToIndex:be})=>K(pe,be),children:[re.map((pe,be)=>{let{blockType:Ce,isLoading:Re}=pe,Je=B.blocksMap[Ce]??me.find(tt=>tt.slug===Ce);if(Je){let tt=`${U}.${be}`,io=ie.filter(Mt=>Mt.startsWith(tt+".")).length;return Zt(Fn,{disabled:v||X||!a,id:pe.id,children:Mt=>Zt(Q3,{...Mt,addRow:Te,block:Je,blocks:me,copyRow:Z,duplicateRow:he,errorCount:io,fields:Je.fields,hasMaxRows:ne,isLoading:Re,isSortable:a,Label:re?.[be]?.customComponents?.RowLabel,labels:M,moveRow:K,parentPath:U,pasteRow:Y,path:tt,permissions:y,readOnly:v||X,removeRow:we,row:pe,rowCount:re.length,rowIndex:be,schemaPath:S+Je.slug,setCollapse:qe})},pe.id)}return null}),!k&&ms(yk.Fragment,{children:[le&&Zt(tn,{type:"error",children:o("validation:requiresAtLeast",{count:x,label:S1(x>1?M.plural:M.singular,e)||o(x>1?"general:row":"general:rows")})}),ve&&Zt(tn,{children:o("validation:fieldHasNo",{label:S1(M.plural,e)})})]})]}),!ne&&ms(K3,{children:[Zt(as,{className:`${Vr}__drawer-toggler`,disabled:v||X,slug:N,children:Zt(te,{buttonStyle:"icon-label",disabled:v||X,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:o("fields:addLabel",{label:S1(M.singular,e)})})}),Zt(ou,{addRow:Te,addRowIndex:re?.length||0,blocks:Oe,drawerSlug:N,labels:M})]}),G]})},ru=We(Ck);import{jsx as Wi,jsxs as tS}from"react/jsx-runtime";import oS,{useCallback as rS,useEffect as Ik,useMemo as _k,useState as Fk}from"react";import{jsx as I1}from"react/jsx-runtime";import{lazy as xk,Suspense as wk}from"react";var Sk=xk(()=>import("./CodeEditor-IVFMKS4Z.js")),nu=t=>I1(wk,{fallback:I1(It,{}),children:I1(Sk,{...t})});var Tk={js:"javascript",ts:"typescript",tsx:"typescript"},Dk="code-field",Rk=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,editorProps:s,language:i="javascript"}={},label:l,localized:a,required:c},onMount:u,path:d,readOnly:f,validate:m}=t,p=oS.useRef("formState"),[h,g]=Fk(Date.now()),b=rS((P,j)=>{if(typeof m=="function")return m(P,{...j,required:c})},[m,c]),{customComponents:{AfterInput:y,BeforeInput:v,Description:C,Error:w,Label:S}={},disabled:x,initialValue:F,path:I,setValue:R,showError:D,value:_}=$e({potentiallyStalePath:d,validate:b}),T=oS.useRef((_||F)!==void 0?_??F:void 0),A=rS(P=>{if(!(f||x)){p.current="internalEditor";try{R(P||null),T.current=P}catch{R(P||null),T.current=P}}},[f,x,R]);Ik(()=>{p.current==="formState"&&(T.current=(_||F)!==void 0?_??F:void 0,g(Date.now())),p.current="formState"},[F,I,_]);let $=_k(()=>Ke(e),[e]);return tS("div",{className:[ke,Dk,o,D&&"error",(f||x)&&"read-only"].filter(Boolean).join(" "),style:$,children:[Wi(ue,{CustomComponent:S,Fallback:Wi(Fe,{label:l,localized:a,path:I,required:c})}),tS("div",{className:`${ke}__wrap`,children:[Wi(ue,{CustomComponent:w,Fallback:Wi(Ye,{path:I,showError:D})}),v,Wi(nu,{defaultLanguage:Tk[i]||i,onChange:A,onMount:u,options:r,readOnly:f||x,recalculatedHeightAt:h,value:T.current,wrapperProps:{id:`field-${I?.replace(/\./g,"__")}`},...s||{}}),y]}),Wi(ue,{CustomComponent:C,Fallback:Wi(Ue,{description:n,path:I})})]})},su=We(Rk);import{jsx as Ui,jsxs as _1}from"react/jsx-runtime";import{getTranslation as Pk}from"@payloadcms/translations";import{Fragment as Ek,useCallback as Nk,useEffect as Lk,useMemo as $k,useState as sS}from"react";import{c as Ak}from"react/compiler-runtime";import{fieldAffectsData as nS}from"payload/shared";var $f=t=>t.reduce((e,o)=>{let n="fields"in o?o.fields:void 0;return n?nS(o)?e.push(`${o.name}.`):e.push(...$f(n)):o.type==="tabs"?"tabs"in o&&o.tabs?.forEach(r=>{"name"in r?e.push(`${r.name}.`):e.push(...$f(r.fields))}):nS(o)&&e.push(o.name),e},[]);var Hi=t=>{let e=Ak(12),{fields:o,path:n,setErrorCount:r}=t,[s]=Vs(),i=ao(),l;e[0]!==o?(l=$f(o),e[0]=o,e[1]=l):l=e[1];let a=l,c;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==a||e[6]!==r?(c=()=>{if(i){let d=0;Object.entries(s).forEach(f=>{let[m]=f;if(a?.some(h=>{let g=[...n,h].join(".");return g.endsWith(".")?m.startsWith(g):m===g})){let h=s[m];"valid"in h&&!h.valid&&(d=d+1)}}),r(d)}},e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=r,e[7]=c):c=e[7];let u;return e[8]!==o||e[9]!==s||e[10]!==i?(u=[s,i,o],e[8]=o,e[9]=s,e[10]=i,e[11]=u):u=e[11],Bi(c,250,u),null};var iu="collapsible-field",kk=t=>{let{field:e,field:{admin:{className:o,description:n,initCollapsed:r=!1}={},fields:s,label:i}={},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f}=t,{i18n:m}=E(),{getPreference:p,setPreference:h}=Ot(),{preferencesKey:g}=Ne(),[b,y]=sS(),v=`collapsible-${u?.replace(/\./g,"__")}`,[C,w]=sS(0),S=C>0,{customComponents:{AfterInput:x,BeforeInput:F,Description:I,Label:R}={},disabled:D}=$e({path:u}),_=Nk(async A=>{let $=await p(g);g&&h(g,{...$,...u?{fields:{...$?.fields||{},[u]:{...$?.fields?.[u],collapsed:A}}}:{fields:{...$?.fields||{},[v]:{...$?.fields?.[v],collapsed:A}}}})},[g,v,p,h,u]);Lk(()=>{(async()=>{if(g){let $=await p(g),P=u?$?.fields?.[u]?.collapsed:$?.fields?.[v]?.collapsed;y(P!==void 0?!!P:typeof r=="boolean"?r:!1)}else y(typeof r=="boolean"?r:!1)})()},[p,g,v,r,u]);let T=$k(()=>Ke(e),[e]);return typeof b!="boolean"?null:_1(Ek,{children:[Ui(Hi,{fields:s,path:u.split(".").slice(0,-1),setErrorCount:w}),_1("div",{className:[ke,iu,o,S?`${iu}--has-error`:`${iu}--has-no-error`].filter(Boolean).join(" "),id:`field-${v}`,style:T,children:[F,Ui(zi,{className:`${iu}__collapsible`,collapsibleStyle:S?"error":"default",header:_1("div",{className:`${iu}__row-label-wrap`,children:[Ui(es,{CustomComponent:R,label:Pk(i,m),path:u}),S&&Ui(xo,{count:C,i18n:m,withMessage:!0})]}),initCollapsed:b,onToggle:_,children:Ui(Po,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f||D})}),x,Ui(ue,{CustomComponent:I,Fallback:Ui(Ue,{description:n,path:u})})]})]})},au=We(kk);import{jsx as Ks,jsxs as J_}from"react/jsx-runtime";import{getTranslation as LM}from"@payloadcms/translations";import{useCallback as pv,useMemo as hv}from"react";import{jsx as F1}from"react/jsx-runtime";import{lazy as jk,Suspense as Bk}from"react";var Mk=jk(()=>import("./DatePicker-F432AIH3.js")),cl=t=>F1(Bk,{fallback:F1(It,{height:50}),children:F1(Mk,{...t})});import{jsx as Y_,jsxs as EM}from"react/jsx-runtime";import{useMemo as NM}from"react";import{jsx as qi}from"react/jsx-runtime";import{getTranslation as U_}from"@payloadcms/translations";import X_,{useEffect as DM,useId as RM}from"react";function cn(t){"@babel/helpers - typeof";return cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(t)}function iS(t,e){if(cn(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(cn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kf(t){var e=iS(t,"string");return cn(e)=="symbol"?e:e+""}function Xi(t,e,o){return(e=kf(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function aS(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Be(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(o),!0).forEach(function(n){Xi(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):aS(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function lS(t){if(Array.isArray(t))return t}function cS(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var n,r,s,i,l=[],a=!0,c=!1;try{if(s=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(n=s.call(o)).done)&&(l.push(n.value),l.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{if(!a&&o.return!=null&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}function lu(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function jf(t,e){if(t){if(typeof t=="string")return lu(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?lu(t,e):void 0}}function uS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(t,e){return lS(t)||cS(t,e)||jf(t,e)||uS()}function rr(t,e){if(t==null)return{};var o,n,r=Ja(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)o=s[n],e.includes(o)||{}.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}import{useState as T1,useCallback as Bf}from"react";var Ok=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Mf(t){var e=t.defaultInputValue,o=e===void 0?"":e,n=t.defaultMenuIsOpen,r=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,a=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,p=rr(t,Ok),h=T1(l!==void 0?l:o),g=un(h,2),b=g[0],y=g[1],v=T1(a!==void 0?a:r),C=un(v,2),w=C[0],S=C[1],x=T1(m!==void 0?m:i),F=un(x,2),I=F[0],R=F[1],D=Bf(function(B,N){typeof c=="function"&&c(B,N),R(B)},[c]),_=Bf(function(B,N){var L;typeof u=="function"&&(L=u(B,N)),y(L!==void 0?L:B)},[u]),T=Bf(function(){typeof f=="function"&&f(),S(!0)},[f]),A=Bf(function(){typeof d=="function"&&d(),S(!1)},[d]),$=l!==void 0?l:b,P=a!==void 0?a:w,j=m!==void 0?m:I;return Be(Be({},p),{},{inputValue:$,menuIsOpen:P,onChange:D,onInputChange:_,onMenuClose:A,onMenuOpen:T,value:j})}import*as __ from"react";import{forwardRef as uM,useMemo as D1e}from"react";function dS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mS(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kf(n.key),n)}}function fS(t,e,o){return e&&mS(t.prototype,e),o&&mS(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function pS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qa(t,e)}function cu(t){return cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cu(t)}function D1(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D1=function(){return!!t})()}function hS(t,e){if(e&&(cn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(t)}function gS(t){var e=D1();return function(){var o,n=cu(t);if(e){var r=cu(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return hS(this,o)}}function bS(t){if(Array.isArray(t))return lu(t)}function vS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Js(t){return bS(t)||vS(t)||jf(t)||yS()}import*as gt from"react";import{useMemo as vu,Fragment as q1,useRef as Sl,useCallback as Qs,useEffect as p_,Component as FB}from"react";import*as zr from"react";import{useContext as vj,forwardRef as yj}from"react";var Vk=!1;function Gk(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function zk(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CS=function(){function t(o){var n=this;this._insertTag=function(r){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,s),n.tags.push(r)},this.isSpeedy=o.speedy===void 0?!Vk:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(zk(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Gk(r);try{s.insertRule(n,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}();var Eo="-ms-",uu="-moz-",dt="-webkit-",Of="comm",ul="rule",dl="decl";var xS="@import";var Vf="@keyframes";var wS="@layer";var SS=Math.abs,Zi=String.fromCharCode,IS=Object.assign;function _S(t,e){return ro(t,0)^45?(((e<<2^ro(t,0))<<2^ro(t,1))<<2^ro(t,2))<<2^ro(t,3):0}function Gf(t){return t.trim()}function R1(t,e){return(t=e.exec(t))?t[0]:t}function at(t,e,o){return t.replace(e,o)}function du(t,e){return t.indexOf(e)}function ro(t,e){return t.charCodeAt(e)|0}function qs(t,e,o){return t.slice(e,o)}function Ho(t){return t.length}function ml(t){return t.length}function fl(t,e){return e.push(t),t}function A1(t,e){return t.map(e).join("")}var zf=1,pl=1,FS=0,Uo=0,mo=0,gl="";function mu(t,e,o,n,r,s,i){return{value:t,root:e,parent:o,type:n,props:r,children:s,line:zf,column:pl,length:i,return:""}}function bl(t,e){return IS(mu("",null,null,"",null,null,0),t,{length:-t.length},e)}function TS(){return mo}function DS(){return mo=Uo>0?ro(gl,--Uo):0,pl--,mo===10&&(pl=1,zf--),mo}function Xo(){return mo=Uo<FS?ro(gl,Uo++):0,pl++,mo===10&&(pl=1,zf++),mo}function Gr(){return ro(gl,Uo)}function fu(){return Uo}function vl(t,e){return qs(gl,t,e)}function hl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Wf(t){return zf=pl=1,FS=Ho(gl=t),Uo=0,[]}function Hf(t){return gl="",t}function yl(t){return Gf(vl(Uo-1,P1(t===91?t+2:t===40?t+1:t)))}function RS(t){for(;(mo=Gr())&&mo<33;)Xo();return hl(t)>2||hl(mo)>3?"":" "}function AS(t,e){for(;--e&&Xo()&&!(mo<48||mo>102||mo>57&&mo<65||mo>70&&mo<97););return vl(t,fu()+(e<6&&Gr()==32&&Xo()==32))}function P1(t){for(;Xo();)switch(mo){case t:return Uo;case 34:case 39:t!==34&&t!==39&&P1(mo);break;case 40:t===41&&P1(t);break;case 92:Xo();break}return Uo}function PS(t,e){for(;Xo()&&t+mo!==57;)if(t+mo===84&&Gr()===47)break;return"/*"+vl(e,Uo-1)+"*"+Zi(t===47?t:Xo())}function ES(t){for(;!hl(Gr());)Xo();return vl(t,Uo)}function $S(t){return Hf(Uf("",null,null,null,[""],t=Wf(t),0,[0],t))}function Uf(t,e,o,n,r,s,i,l,a){for(var c=0,u=0,d=i,f=0,m=0,p=0,h=1,g=1,b=1,y=0,v="",C=r,w=s,S=n,x=v;g;)switch(p=y,y=Xo()){case 40:if(p!=108&&ro(x,d-1)==58){du(x+=at(yl(y),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:x+=yl(y);break;case 9:case 10:case 13:case 32:x+=RS(p);break;case 92:x+=AS(fu()-1,7);continue;case 47:switch(Gr()){case 42:case 47:fl(Wk(PS(Xo(),fu()),e,o),a);break;default:x+="/"}break;case 123*h:l[c++]=Ho(x)*b;case 125*h:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:b==-1&&(x=at(x,/\f/g,"")),m>0&&Ho(x)-d&&fl(m>32?LS(x+";",n,o,d-1):LS(at(x," ","")+";",n,o,d-2),a);break;case 59:x+=";";default:if(fl(S=NS(x,e,o,c,u,r,l,v,C=[],w=[],d),s),y===123)if(u===0)Uf(x,e,S,S,C,s,d,l,w);else switch(f===99&&ro(x,3)===110?100:f){case 100:case 108:case 109:case 115:Uf(t,S,S,n&&fl(NS(t,S,S,0,0,r,l,v,r,C=[],d),w),r,w,d,l,n?C:w);break;default:Uf(x,S,S,S,[""],w,0,l,w)}}c=u=m=0,h=b=1,v=x="",d=i;break;case 58:d=1+Ho(x),m=p;default:if(h<1){if(y==123)--h;else if(y==125&&h++==0&&DS()==125)continue}switch(x+=Zi(y),y*h){case 38:b=u>0?1:(x+="\f",-1);break;case 44:l[c++]=(Ho(x)-1)*b,b=1;break;case 64:Gr()===45&&(x+=yl(Xo())),f=Gr(),u=d=Ho(v=x+=ES(fu())),y++;break;case 45:p===45&&Ho(x)==2&&(h=0)}}return s}function NS(t,e,o,n,r,s,i,l,a,c,u){for(var d=r-1,f=r===0?s:[""],m=ml(f),p=0,h=0,g=0;p<n;++p)for(var b=0,y=qs(t,d+1,d=SS(h=i[p])),v=t;b<m;++b)(v=Gf(h>0?f[b]+" "+y:at(y,/&\f/g,f[b])))&&(a[g++]=v);return mu(t,e,o,r===0?ul:l,a,c,u)}function Wk(t,e,o){return mu(t,e,o,Of,Zi(TS()),qs(t,2,-2),0)}function LS(t,e,o,n){return mu(t,e,o,dl,qs(t,0,n),qs(t,n+1,-1),n)}function Yi(t,e){for(var o="",n=ml(t),r=0;r<n;r++)o+=e(t[r],r,t,e)||"";return o}function kS(t,e,o,n){switch(t.type){case wS:if(t.children.length)break;case xS:case dl:return t.return=t.return||t.value;case Of:return"";case Vf:return t.return=t.value+"{"+Yi(t.children,n)+"}";case ul:t.value=t.props.join(",")}return Ho(o=Yi(t.children,n))?t.return=t.value+"{"+o+"}":""}function jS(t){var e=ml(t);return function(o,n,r,s){for(var i="",l=0;l<e;l++)i+=t[l](o,n,r,s)||"";return i}}function BS(t){return function(e){e.root||(e=e.return)&&t(e)}}function MS(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var Hk=function(e,o,n){for(var r=0,s=0;r=s,s=Gr(),r===38&&s===12&&(o[n]=1),!hl(s);)Xo();return vl(e,Uo)},Uk=function(e,o){var n=-1,r=44;do switch(hl(r)){case 0:r===38&&Gr()===12&&(o[n]=1),e[n]+=Hk(Uo-1,o,n);break;case 2:e[n]+=yl(r);break;case 4:if(r===44){e[++n]=Gr()===58?"&\f":"",o[n]=e[n].length;break}default:e[n]+=Zi(r)}while(r=Xo());return e},Xk=function(e,o){return Hf(Uk(Wf(e),o))},OS=new WeakMap,Zk=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!OS.get(n))&&!r){OS.set(e,!0);for(var s=[],i=Xk(o,s),l=n.props,a=0,c=0;a<i.length;a++)for(var u=0;u<l.length;u++,c++)e.props[c]=s[a]?i[a].replace(/&\f/g,l[u]):l[u]+" "+i[a]}}},Yk=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function VS(t,e){switch(_S(t,e)){case 5103:return dt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+t+uu+t+Eo+t+t;case 6828:case 4268:return dt+t+Eo+t+t;case 6165:return dt+t+Eo+"flex-"+t+t;case 5187:return dt+t+at(t,/(\w+).+(:[^]+)/,dt+"box-$1$2"+Eo+"flex-$1$2")+t;case 5443:return dt+t+Eo+"flex-item-"+at(t,/flex-|-self/,"")+t;case 4675:return dt+t+Eo+"flex-line-pack"+at(t,/align-content|flex-|-self/,"")+t;case 5548:return dt+t+Eo+at(t,"shrink","negative")+t;case 5292:return dt+t+Eo+at(t,"basis","preferred-size")+t;case 6060:return dt+"box-"+at(t,"-grow","")+dt+t+Eo+at(t,"grow","positive")+t;case 4554:return dt+at(t,/([^-])(transform)/g,"$1"+dt+"$2")+t;case 6187:return at(at(at(t,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),t,"")+t;case 5495:case 3959:return at(t,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return at(at(t,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+Eo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+t+t;case 4095:case 3583:case 4068:case 2532:return at(t,/(.+)-inline(.+)/,dt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ho(t)-1-e>6)switch(ro(t,e+1)){case 109:if(ro(t,e+4)!==45)break;case 102:return at(t,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+uu+(ro(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~du(t,"stretch")?VS(at(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ro(t,e+1)!==115)break;case 6444:switch(ro(t,Ho(t)-3-(~du(t,"!important")&&10))){case 107:return at(t,":",":"+dt)+t;case 101:return at(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dt+(ro(t,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+Eo+"$2box$3")+t}break;case 5936:switch(ro(t,e+11)){case 114:return dt+t+Eo+at(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return dt+t+Eo+at(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return dt+t+Eo+at(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return dt+t+Eo+t+t}return t}var Jk=function(e,o,n,r){if(e.length>-1&&!e.return)switch(e.type){case dl:e.return=VS(e.value,e.length);break;case Vf:return Yi([bl(e,{value:at(e.value,"@","@"+dt)})],r);case ul:if(e.length)return A1(e.props,function(s){switch(R1(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Yi([bl(e,{props:[at(s,/:(read-\w+)/,":"+uu+"$1")]})],r);case"::placeholder":return Yi([bl(e,{props:[at(s,/:(plac\w+)/,":"+dt+"input-$1")]}),bl(e,{props:[at(s,/:(plac\w+)/,":"+uu+"$1")]}),bl(e,{props:[at(s,/:(plac\w+)/,Eo+"input-$1")]})],r)}return""})}},qk=[Jk],E1=function(e){var o=e.key;if(o==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(h){var g=h.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var r=e.stylisPlugins||qk,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(h){for(var g=h.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;l.push(h)});var a,c=[Zk,Yk];{var u,d=[kS,BS(function(h){u.insert(h)})],f=jS(c.concat(r,d)),m=function(g){return Yi($S(g),f)};a=function(g,b,y,v){u=y,m(g?g+"{"+b.styles+"}":b.styles),v&&(p.inserted[b.name]=!0)}}var p={key:o,sheet:new CS({key:o,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(l),p};var uj=!0;function B1(t,e,o){var n="";return o.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(n+=r+" ")}),n}var rp=function(e,o,n){var r=e.key+"-"+o.name;(n===!1||uj===!1)&&e.registered[r]===void 0&&(e.registered[r]=o.styles)},M1=function(e,o,n){rp(e,o,n);var r=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var s=o;do e.insert(o===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function KS(t){for(var e=0,o,n=0,r=t.length;r>=4;++n,r-=4)o=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var dj=!1,mj=/[A-Z]|^ms/g,fj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nI=function(e){return e.charCodeAt(1)===45},tI=function(e){return e!=null&&typeof e!="boolean"},O1=MS(function(t){return nI(t)?t:t.replace(mj,"-$&").toLowerCase()}),oI=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace(fj,function(n,r,s){return Pn={name:r,styles:s,next:Pn},r})}return eI[e]!==1&&!nI(e)&&typeof o=="number"&&o!==0?o+"px":o},pj="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function pu(t,e,o){if(o==null)return"";var n=o;if(n.__emotion_styles!==void 0)return n;switch(typeof o){case"boolean":return"";case"object":{var r=o;if(r.anim===1)return Pn={name:r.name,styles:r.styles,next:Pn},r.name;var s=o;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Pn={name:i.name,styles:i.styles,next:Pn},i=i.next;var l=s.styles+";";return l}return hj(t,e,o)}case"function":{if(t!==void 0){var a=Pn,c=o(t);return Pn=a,pu(t,e,c)}break}}var u=o;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function hj(t,e,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=pu(t,e,o[r])+";";else for(var s in o){var i=o[s];if(typeof i!="object"){var l=i;e!=null&&e[l]!==void 0?n+=s+"{"+e[l]+"}":tI(l)&&(n+=O1(s)+":"+oI(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&dj)throw new Error(pj);if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var a=0;a<i.length;a++)tI(i[a])&&(n+=O1(s)+":"+oI(s,i[a])+";");else{var c=pu(t,e,i);switch(s){case"animation":case"animationName":{n+=O1(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}}return n}var rI=/label:\s*([^\s;{]+)\s*(;|$)/g,Pn;function np(t,e,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";Pn=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,r+=pu(o,e,s);else{var i=s;r+=i[0]}for(var l=1;l<t.length;l++)if(r+=pu(o,e,t[l]),n){var a=s;r+=a[l]}rI.lastIndex=0;for(var c="",u;(u=rI.exec(r))!==null;)c+="-"+u[1];var d=KS(r)+c;return{name:d,styles:r,next:Pn}}import*as sp from"react";var gj=function(e){return e()},bj=sp.useInsertionEffect?sp.useInsertionEffect:!1,V1=bj||gj;var sI=!1,iI=zr.createContext(typeof HTMLElement<"u"?E1({key:"css"}):null),$be=iI.Provider;var aI=function(e){return yj(function(o,n){var r=vj(iI);return e(o,r,n)})},lI=zr.createContext({});var ip={}.hasOwnProperty,G1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cI=function(e,o){var n={};for(var r in o)ip.call(o,r)&&(n[r]=o[r]);return n[G1]=e,n},Cj=function(e){var o=e.cache,n=e.serialized,r=e.isStringTag;return rp(o,n,r),V1(function(){return M1(o,n,r)}),null},xj=aI(function(t,e,o){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=t[G1],s=[n],i="";typeof t.className=="string"?i=B1(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=np(s,void 0,zr.useContext(lI));i+=e.key+"-"+l.name;var a={};for(var c in t)ip.call(t,c)&&c!=="css"&&c!==G1&&!sI&&(a[c]=t[c]);return a.className=i,o&&(a.ref=o),zr.createElement(zr.Fragment,null,zr.createElement(Cj,{cache:e,serialized:l,isStringTag:typeof r=="string"}),zr.createElement(r,a))}),uI=xj;import*as Cl from"react";var Hbe=_i(QS()),Me=function(e,o){var n=arguments;if(o==null||!ip.call(o,"css"))return Cl.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=uI,s[1]=cI(e,o);for(var i=2;i<r;i++)s[i]=n[i];return Cl.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Me||(Me={}));function hu(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return np(e)}function dI(){var t=hu.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function mI(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}Q5();import{useContext as Sj,useRef as H1,useState as up,useMemo as Ij,useCallback as z1,createContext as _j}from"react";import{createPortal as Fj}from"react-dom";import{useLayoutEffect as wj}from"react";var ap=wj;var Tj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],gu=function(){};function Dj(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function pI(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(Dj(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var xl=function(e){return Lj(e)?e.filter(Boolean):cn(e)==="object"&&e!==null?[e]:[]},hI=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var o=rr(e,Tj);return Be({},o)},Yt=function(e,o,n){var r=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(o,e),className:r(n??{},i(o,e),l)}};function bu(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Rj(t){return bu(t)?window.innerHeight:t.clientHeight}function gI(t){return bu(t)?window.pageYOffset:t.scrollTop}function dp(t,e){if(bu(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Aj(t){var e=getComputedStyle(t),o=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(o&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function Pj(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}function lp(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gu,r=gI(t),s=e-r,i=10,l=0;function a(){l+=i;var c=Pj(l,r,s,o);dp(t,c),l<o?window.requestAnimationFrame(a):n(t)}a()}function U1(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=e.offsetHeight/3;n.bottom+r>o.bottom?dp(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):n.top-r<o.top&&dp(t,Math.max(e.offsetTop-r,0))}function Ej(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function X1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function bI(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var vI=!1,Nj={get passive(){return vI=!0}},cp=typeof window<"u"?window:{};cp.addEventListener&&cp.removeEventListener&&(cp.addEventListener("p",gu,Nj),cp.removeEventListener("p",gu,!1));var yI=vI;function CI(t){return t!=null}function Lj(t){return Array.isArray(t)}function Ji(t,e,o){return t?e:o}var xI=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter(function(i){var l=un(i,1),a=l[0];return!n.includes(a)});return s.reduce(function(i,l){var a=un(l,2),c=a[0],u=a[1];return i[c]=u,i},{})},$j=["children","innerProps"],kj=["children","innerProps"];function jj(t){var e=t.maxHeight,o=t.menuEl,n=t.minHeight,r=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,a=Aj(o),c={placement:"bottom",maxHeight:e};if(!o||!o.offsetParent)return c;var u=a.getBoundingClientRect(),d=u.height,f=o.getBoundingClientRect(),m=f.bottom,p=f.height,h=f.top,g=o.offsetParent.getBoundingClientRect(),b=g.top,y=i?window.innerHeight:Rj(a),v=gI(a),C=parseInt(getComputedStyle(o).marginBottom,10),w=parseInt(getComputedStyle(o).marginTop,10),S=b-w,x=y-h,F=S+v,I=d-v-h,R=m-y+v+C,D=v+h-w,_=160;switch(r){case"auto":case"bottom":if(x>=p)return{placement:"bottom",maxHeight:e};if(I>=p&&!i)return s&&lp(a,R,_),{placement:"bottom",maxHeight:e};if(!i&&I>=n||i&&x>=n){s&&lp(a,R,_);var T=i?x-C:I-C;return{placement:"bottom",maxHeight:T}}if(r==="auto"||i){var A=e,$=i?S:F;return $>=n&&(A=Math.min($-C-l,e)),{placement:"top",maxHeight:A}}if(r==="bottom")return s&&dp(a,R),{placement:"bottom",maxHeight:e};break;case"top":if(S>=p)return{placement:"top",maxHeight:e};if(F>=p&&!i)return s&&lp(a,D,_),{placement:"top",maxHeight:e};if(!i&&F>=n||i&&S>=n){var P=e;return(!i&&F>=n||i&&S>=n)&&(P=i?S-w:F-w),s&&lp(a,D,_),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function Bj(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var wI=function(e){return e==="auto"?"bottom":e},SI=function(e,o){var n,r=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,a=s.colors;return Be((n={label:"menu"},Xi(n,Bj(r),"100%"),Xi(n,"position","absolute"),Xi(n,"width","100%"),Xi(n,"zIndex",1),n),o?{}:{backgroundColor:a.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},II=_j(null),_I=function(e){var o=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=Sj(II)||{},u=c.setPortalPlacement,d=H1(null),f=up(r),m=un(f,2),p=m[0],h=m[1],g=up(null),b=un(g,2),y=b[0],v=b[1],C=a.spacing.controlHeight;return ap(function(){var w=d.current;if(w){var S=i==="fixed",x=l&&!S,F=jj({maxHeight:r,menuEl:w,minHeight:n,placement:s,shouldScroll:x,isFixedPosition:S,controlHeight:C});h(F.maxHeight),v(F.placement),u?.(F.placement)}},[r,s,i,l,n,u,C]),o({ref:d,placerProps:Be(Be({},e),{},{placement:y||wI(s),maxHeight:p})})},Mj=function(e){var o=e.children,n=e.innerRef,r=e.innerProps;return Me("div",je({},Yt(e,"menu",{menu:!0}),{ref:n},r),o)},Oj=Mj,FI=function(e,o){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Be({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:r,paddingTop:r})},Vj=function(e){var o=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return Me("div",je({},Yt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),o)},TI=function(e,o){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return Be({textAlign:"center"},o?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},DI=TI,RI=TI,Gj=function(e){var o=e.children,n=o===void 0?"No options":o,r=e.innerProps,s=rr(e,$j);return Me("div",je({},Yt(Be(Be({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},zj=function(e){var o=e.children,n=o===void 0?"Loading...":o,r=e.innerProps,s=rr(e,kj);return Me("div",je({},Yt(Be(Be({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},AI=function(e){var o=e.rect,n=e.offset,r=e.position;return{left:o.left,position:r,top:n,width:o.width,zIndex:1}},Wj=function(e){var o=e.appendTo,n=e.children,r=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,a=H1(null),c=H1(null),u=up(wI(i)),d=un(u,2),f=d[0],m=d[1],p=Ij(function(){return{setPortalPlacement:m}},[]),h=up(null),g=un(h,2),b=g[0],y=g[1],v=z1(function(){if(r){var x=Ej(r),F=l==="fixed"?0:window.pageYOffset,I=x[f]+F;(I!==b?.offset||x.left!==b?.rect.left||x.width!==b?.rect.width)&&y({offset:I,rect:x})}},[r,l,f,b?.offset,b?.rect.left,b?.rect.width]);ap(function(){v()},[v]);var C=z1(function(){typeof c.current=="function"&&(c.current(),c.current=null),r&&a.current&&(c.current=_x(r,a.current,v,{elementResize:"ResizeObserver"in window}))},[r,v]);ap(function(){C()},[C]);var w=z1(function(x){a.current=x,C()},[C]);if(!o&&l!=="fixed"||!b)return null;var S=Me("div",je({ref:w},Yt(Be(Be({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Me(II.Provider,{value:p},o?Fj(S,o):S)},PI=function(e){var o=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},Hj=function(e){var o=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return Me("div",je({},Yt(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),o)},EI=function(e,o){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Be({alignItems:"center",display:r&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Uj=function(e){var o=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return Me("div",je({},Yt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),o)},NI=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Xj=function(e){var o=e.children,n=e.innerProps;return Me("div",je({},Yt(e,"indicatorsContainer",{indicators:!0}),n),o)},fI,Zj=["size"],Yj=["innerProps","isRtl","size"];var Jj={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},LI=function(e){var o=e.size,n=rr(e,Zj);return Me("svg",je({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Jj},n))},Z1=function(e){return Me(LI,je({size:20},e),Me("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$I=function(e){return Me(LI,je({size:20},e),Me("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},kI=function(e,o){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Be({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},jI=kI,qj=function(e){var o=e.children,n=e.innerProps;return Me("div",je({},Yt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),o||Me($I,null))},BI=kI,Qj=function(e){var o=e.children,n=e.innerProps;return Me("div",je({},Yt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),o||Me(Z1,null))},MI=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Be({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},Kj=function(e){var o=e.innerProps;return Me("span",je({},o,Yt(e,"indicatorSeparator",{"indicator-separator":!0})))},eB=dI(fI||(fI=mI([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),OI=function(e,o){var n=e.isFocused,r=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Be({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},o?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},W1=function(e){var o=e.delay,n=e.offset;return Me("span",{css:hu({animation:"".concat(eB," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},tB=function(e){var o=e.innerProps,n=e.isRtl,r=e.size,s=r===void 0?4:r,i=rr(e,Yj);return Me("div",je({},Yt(Be(Be({},i),{},{innerProps:o,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),Me(W1,{delay:0,offset:n}),Me(W1,{delay:160,offset:!0}),Me(W1,{delay:320,offset:!n}))},VI=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,a=s.spacing;return Be({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},oB=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return Me("div",je({ref:s},Yt(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),o)},rB=oB,nB=["data"],GI=function(e,o){var n=e.theme.spacing;return o?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},sB=function(e){var o=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return Me("div",je({},Yt(e,"group",{group:!0}),a),Me(i,je({},l,{selectProps:d,theme:u,getStyles:r,getClassNames:s,cx:n}),c),Me("div",null,o))},zI=function(e,o){var n=e.theme,r=n.colors,s=n.spacing;return Be({label:"group",cursor:"default",display:"block"},o?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},iB=function(e){var o=hI(e);o.data;var n=rr(o,nB);return Me("div",je({},Yt(e,"groupHeading",{"group-heading":!0}),n))},aB=sB,lB=["innerRef","isDisabled","isHidden","inputClassName"],WI=function(e,o){var n=e.isDisabled,r=e.value,s=e.theme,i=s.spacing,l=s.colors;return Be(Be({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},cB),o?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},HI={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},cB={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Be({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},HI)},uB=function(e){return Be({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},HI)},dB=function(e){var o=e.cx,n=e.value,r=hI(e),s=r.innerRef,i=r.isDisabled,l=r.isHidden,a=r.inputClassName,c=rr(r,lB);return Me("div",je({},Yt(e,"input",{"input-container":!0}),{"data-value":n||""}),Me("input",je({className:o({input:!0},a),ref:s,style:uB(l),disabled:i},c)))},mB=dB,UI=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors;return Be({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},XI=function(e,o){var n=e.theme,r=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Be({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ZI=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Be({alignItems:"center",display:"flex"},o?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},YI=function(e){var o=e.children,n=e.innerProps;return Me("div",n,o)},fB=YI,pB=YI;function hB(t){var e=t.children,o=t.innerProps;return Me("div",je({role:"button"},o),e||Me(Z1,{size:14}))}var gB=function(e){var o=e.children,n=e.components,r=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,a=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return Me(c,{data:r,innerProps:Be(Be({},Yt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:a},Me(u,{data:r,innerProps:Be({},Yt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},o),Me(d,{data:r,innerProps:Be(Be({},Yt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},l),selectProps:a}))},bB=gB,JI=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,a=i.colors;return Be({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:s?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?a.primary:a.primary50}})},vB=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return Me("div",je({},Yt(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),o)},yB=vB,qI=function(e,o){var n=e.theme,r=n.spacing,s=n.colors;return Be({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},CB=function(e){var o=e.children,n=e.innerProps;return Me("div",je({},Yt(e,"placeholder",{placeholder:!0}),n),o)},xB=CB,QI=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing,i=r.colors;return Be({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},wB=function(e){var o=e.children,n=e.isDisabled,r=e.innerProps;return Me("div",je({},Yt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),o)},SB=wB,Io={ClearIndicator:Qj,Control:rB,DropdownIndicator:qj,DownChevron:$I,CrossIcon:Z1,Group:aB,GroupHeading:iB,IndicatorsContainer:Xj,IndicatorSeparator:Kj,Input:mB,LoadingIndicator:tB,Menu:Oj,MenuList:Vj,MenuPortal:Wj,LoadingMessage:zj,NoOptionsMessage:Gj,MultiValue:bB,MultiValueContainer:fB,MultiValueLabel:pB,MultiValueRemove:hB,Option:yB,Placeholder:xB,SelectContainer:Hj,SingleValue:SB,ValueContainer:Uj},KI=function(e){return Be(Be({},Io),e.components)};var e_=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IB(t,e){return!!(t===e||e_(t)&&e_(e))}function _B(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!IB(t[o],e[o]))return!1;return!0}function t_(t,e){e===void 0&&(e=_B);var o=null;function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(o&&o.lastThis===this&&e(r,o.lastArgs))return o.lastResult;var i=t.apply(this,r);return o={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){o=null},n}var TB={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},DB=function(e){return Me("span",je({css:TB},e))},o_=DB,RB={guidance:function(e){var o=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var o=e.action,n=e.label,r=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var o=e.context,n=e.focused,r=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(h,g){return h&&h.length?"".concat(h.indexOf(g)+1," of ").concat(h.length):""};if(o==="value"&&l)return"value ".concat(i," focused, ").concat(d(l,n),".");if(o==="menu"&&u){var f=a?" disabled":"",m="".concat(c?" selected":"").concat(f);return"".concat(i).concat(m,", ").concat(d(r,n),".")}return""},onFilter:function(e){var o=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(o?" for search term "+o:"",".")}},AB=function(e){var o=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,u=e.isAppleDevice,d=a.ariaLiveMessages,f=a.getOptionLabel,m=a.inputValue,p=a.isMulti,h=a.isOptionDisabled,g=a.isSearchable,b=a.menuIsOpen,y=a.options,v=a.screenReaderStatus,C=a.tabSelectsValue,w=a.isLoading,S=a["aria-label"],x=a["aria-live"],F=vu(function(){return Be(Be({},RB),d||{})},[d]),I=vu(function(){var $="";if(o&&F.onChange){var P=o.option,j=o.options,B=o.removedValue,N=o.removedValues,L=o.value,M=function(Q){return Array.isArray(Q)?null:Q},k=B||P||M(L),O=k?f(k):"",V=j||N||void 0,G=V?V.map(f):[],H=Be({isDisabled:k&&h(k,l),label:O,labels:G},o);$=F.onChange(H)}return $},[o,F,h,l,f]),R=vu(function(){var $="",P=n||r,j=!!(n&&l&&l.includes(n));if(P&&F.onFocus){var B={focused:P,label:f(P),isDisabled:h(P,l),isSelected:j,options:s,context:P===n?"menu":"value",selectValue:l,isAppleDevice:u};$=F.onFocus(B)}return $},[n,r,f,h,F,s,l,u]),D=vu(function(){var $="";if(b&&y.length&&!w&&F.onFilter){var P=v({count:s.length});$=F.onFilter({inputValue:m,resultsMessage:P})}return $},[s,m,b,F,y,v,w]),_=o?.action==="initial-input-focus",T=vu(function(){var $="";if(F.guidance){var P=r?"value":b?"menu":"input";$=F.guidance({"aria-label":S,context:P,isDisabled:n&&h(n,l),isMulti:p,isSearchable:g,tabSelectsValue:C,isInitialFocus:_})}return $},[S,n,r,p,h,g,b,F,l,C,_]),A=Me(q1,null,Me("span",{id:"aria-selection"},I),Me("span",{id:"aria-focused"},R),Me("span",{id:"aria-results"},D),Me("span",{id:"aria-guidance"},T));return Me(q1,null,Me(o_,{id:c},_&&A),Me(o_,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!_&&A))},PB=AB,Q1=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],EB=new RegExp("["+Q1.map(function(t){return t.letters}).join("")+"]","g"),h_={};for(mp=0;mp<Q1.length;mp++)for(fp=Q1[mp],pp=0;pp<fp.letters.length;pp++)h_[fp.letters[pp]]=fp.base;var fp,pp,mp,g_=function(e){return e.replace(EB,function(o){return h_[o]})},NB=t_(g_),r_=function(e){return e.replace(/^\s+|\s+$/g,"")},LB=function(e){return"".concat(e.label," ").concat(e.value)},$B=function(e){return function(o,n){if(o.data.__isNew__)return!0;var r=Be({ignoreCase:!0,ignoreAccents:!0,stringify:LB,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,i=r.ignoreAccents,l=r.stringify,a=r.trim,c=r.matchFrom,u=a?r_(n):n,d=a?r_(l(o)):l(o);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),i&&(u=NB(u),d=g_(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},kB=["innerRef"];function jB(t){var e=t.innerRef,o=rr(t,kB),n=xI(o,"onExited","in","enter","exit","appear");return Me("input",je({ref:e},n,{css:hu({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var BB=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function MB(t){var e=t.isEnabled,o=t.onBottomArrive,n=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,i=Sl(!1),l=Sl(!1),a=Sl(0),c=Sl(null),u=Qs(function(g,b){if(c.current!==null){var y=c.current,v=y.scrollTop,C=y.scrollHeight,w=y.clientHeight,S=c.current,x=b>0,F=C-w-v,I=!1;F>b&&i.current&&(n&&n(g),i.current=!1),x&&l.current&&(s&&s(g),l.current=!1),x&&b>F?(o&&!i.current&&o(g),S.scrollTop=C,I=!0,i.current=!0):!x&&-b>v&&(r&&!l.current&&r(g),S.scrollTop=0,I=!0,l.current=!0),I&&BB(g)}},[o,n,r,s]),d=Qs(function(g){u(g,g.deltaY)},[u]),f=Qs(function(g){a.current=g.changedTouches[0].clientY},[]),m=Qs(function(g){var b=a.current-g.changedTouches[0].clientY;u(g,b)},[u]),p=Qs(function(g){if(g){var b=yI?{passive:!1}:!1;g.addEventListener("wheel",d,b),g.addEventListener("touchstart",f,b),g.addEventListener("touchmove",m,b)}},[m,f,d]),h=Qs(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",f,!1),g.removeEventListener("touchmove",m,!1))},[m,f,d]);return p_(function(){if(e){var g=c.current;return p(g),function(){h(g)}}},[e,p,h]),function(g){c.current=g}}var n_=["boxSizing","height","overflow","paddingRight","position"],s_={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function i_(t){t.cancelable&&t.preventDefault()}function a_(t){t.stopPropagation()}function l_(){var t=this.scrollTop,e=this.scrollHeight,o=t+this.offsetHeight;t===0?this.scrollTop=1:o===e&&(this.scrollTop=t-1)}function c_(){return"ontouchstart"in window||navigator.maxTouchPoints}var u_=!!(typeof window<"u"&&window.document&&window.document.createElement),yu=0,wl={capture:!1,passive:!1};function OB(t){var e=t.isEnabled,o=t.accountForScrollbars,n=o===void 0?!0:o,r=Sl({}),s=Sl(null),i=Qs(function(a){if(u_){var c=document.body,u=c&&c.style;if(n&&n_.forEach(function(p){var h=u&&u[p];r.current[p]=h}),n&&yu<1){var d=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(s_).forEach(function(p){var h=s_[p];u&&(u[p]=h)}),u&&(u.paddingRight="".concat(m,"px"))}c&&c_()&&(c.addEventListener("touchmove",i_,wl),a&&(a.addEventListener("touchstart",l_,wl),a.addEventListener("touchmove",a_,wl))),yu+=1}},[n]),l=Qs(function(a){if(u_){var c=document.body,u=c&&c.style;yu=Math.max(yu-1,0),n&&yu<1&&n_.forEach(function(d){var f=r.current[d];u&&(u[d]=f)}),c&&c_()&&(c.removeEventListener("touchmove",i_,wl),a&&(a.removeEventListener("touchstart",l_,wl),a.removeEventListener("touchmove",a_,wl)))}},[n]);return p_(function(){if(e){var a=s.current;return i(a),function(){l(a)}}},[e,i,l]),function(a){s.current=a}}var VB=function(e){var o=e.target;return o.ownerDocument.activeElement&&o.ownerDocument.activeElement.blur()},GB={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zB(t){var e=t.children,o=t.lockEnabled,n=t.captureEnabled,r=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,c=MB({isEnabled:r,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:a}),u=OB({isEnabled:o}),d=function(m){c(m),u(m)};return Me(q1,null,o&&Me("div",{onClick:VB,css:GB}),e(d))}var WB={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},HB=function(e){var o=e.name,n=e.onFocus;return Me("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:WB,value:"",onChange:function(){}})},UB=HB;function K1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function XB(){return K1(/^iPhone/i)}function b_(){return K1(/^Mac/i)}function ZB(){return K1(/^iPad/i)||b_()&&navigator.maxTouchPoints>1}function YB(){return XB()||ZB()}function JB(){return b_()||YB()}var qB=function(e){return e.label},ev=function(e){return e.label},tv=function(e){return e.value},QB=function(e){return!!e.isDisabled},KB={clearIndicator:BI,container:PI,control:VI,dropdownIndicator:jI,group:GI,groupHeading:zI,indicatorsContainer:NI,indicatorSeparator:MI,input:WI,loadingIndicator:OI,loadingMessage:RI,menu:SI,menuList:FI,menuPortal:AI,multiValue:UI,multiValueLabel:XI,multiValueRemove:ZI,noOptionsMessage:DI,option:JI,placeholder:qI,singleValue:QI,valueContainer:EI};var eM={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},tM=4,v_=4,oM=38,rM=v_*2,nM={baseUnit:v_,controlHeight:oM,menuGutter:rM},Y1={borderRadius:tM,colors:eM,spacing:nM},sM={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:X1(),captureMenuScroll:!X1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:$B(),formatGroupLabel:qB,getOptionLabel:ev,getOptionValue:tv,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:QB,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!bI(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var o=e.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function d_(t,e,o,n){var r=x_(t,e,o),s=w_(t,e,o),i=C_(t,e),l=gp(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:i,value:l,index:n}}function hp(t,e){return t.options.map(function(o,n){if("options"in o){var r=o.options.map(function(i,l){return d_(t,i,e,l)}).filter(function(i){return f_(t,i)});return r.length>0?{type:"group",data:o,options:r,index:n}:void 0}var s=d_(t,o,e,n);return f_(t,s)?s:void 0}).filter(CI)}function y_(t){return t.reduce(function(e,o){return o.type==="group"?e.push.apply(e,Js(o.options.map(function(n){return n.data}))):e.push(o.data),e},[])}function m_(t,e){return t.reduce(function(o,n){return n.type==="group"?o.push.apply(o,Js(n.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(n.index,"-").concat(r.index)}}))):o.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),o},[])}function iM(t,e){return y_(hp(t,e))}function f_(t,e){var o=t.inputValue,n=o===void 0?"":o,r=e.data,s=e.isSelected,i=e.label,l=e.value;return(!I_(t)||!s)&&S_(t,{label:i,value:l,data:r},n)}function aM(t,e){var o=t.focusedValue,n=t.selectValue,r=n.indexOf(o);if(r>-1){var s=e.indexOf(o);if(s>-1)return o;if(r<e.length)return e[r]}return null}function lM(t,e){var o=t.focusedOption;return o&&e.indexOf(o)>-1?o:e[0]}var J1=function(e,o){var n,r=(n=e.find(function(s){return s.data===o}))===null||n===void 0?void 0:n.id;return r||null},C_=function(e,o){return e.getOptionLabel(o)},gp=function(e,o){return e.getOptionValue(o)};function x_(t,e,o){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,o):!1}function w_(t,e,o){if(o.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,o);var n=gp(t,e);return o.some(function(r){return gp(t,r)===n})}function S_(t,e,o){return t.filterOption?t.filterOption(e,o):!0}var I_=function(e){var o=e.hideSelectedOptions,n=e.isMulti;return o===void 0?n:o},cM=1,Cu=function(t){pS(o,t);var e=gS(o);function o(n){var r;if(dS(this,o),r=e.call(this,n),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=JB(),r.controlRef=null,r.getControlRef=function(a){r.controlRef=a},r.focusedOptionRef=null,r.getFocusedOptionRef=function(a){r.focusedOptionRef=a},r.menuListRef=null,r.getMenuListRef=function(a){r.menuListRef=a},r.inputRef=null,r.getInputRef=function(a){r.inputRef=a},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(a,c){var u=r.props,d=u.onChange,f=u.name;c.name=f,r.ariaOnChange(a,c),d(a,c)},r.setValue=function(a,c,u){var d=r.props,f=d.closeMenuOnSelect,m=d.isMulti,p=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:p}),f&&(r.setState({inputIsHiddenAfterUpdate:!m}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(a,{action:c,option:u})},r.selectOption=function(a){var c=r.props,u=c.blurInputOnSelect,d=c.isMulti,f=c.name,m=r.state.selectValue,p=d&&r.isOptionSelected(a,m),h=r.isOptionDisabled(a,m);if(p){var g=r.getOptionValue(a);r.setValue(m.filter(function(b){return r.getOptionValue(b)!==g}),"deselect-option",a)}else if(!h)d?r.setValue([].concat(Js(m),[a]),"select-option",a):r.setValue(a,"select-option");else{r.ariaOnChange(a,{action:"select-option",option:a,name:f});return}u&&r.blurInput()},r.removeValue=function(a){var c=r.props.isMulti,u=r.state.selectValue,d=r.getOptionValue(a),f=u.filter(function(p){return r.getOptionValue(p)!==d}),m=Ji(c,f,f[0]||null);r.onChange(m,{action:"remove-value",removedValue:a}),r.focusInput()},r.clearValue=function(){var a=r.state.selectValue;r.onChange(Ji(r.props.isMulti,[],null),{action:"clear",removedValues:a})},r.popValue=function(){var a=r.props.isMulti,c=r.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),f=Ji(a,d,d[0]||null);u&&r.onChange(f,{action:"pop-value",removedValue:u})},r.getFocusedOptionId=function(a){return J1(r.state.focusableOptionsWithIds,a)},r.getFocusableOptionsWithIds=function(){return m_(hp(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return pI.apply(void 0,[r.props.classNamePrefix].concat(c))},r.getOptionLabel=function(a){return C_(r.props,a)},r.getOptionValue=function(a){return gp(r.props,a)},r.getStyles=function(a,c){var u=r.props.unstyled,d=KB[a](c,u);d.boxSizing="border-box";var f=r.props.styles[a];return f?f(d,c):d},r.getClassNames=function(a,c){var u,d;return(u=(d=r.props.classNames)[a])===null||u===void 0?void 0:u.call(d,c)},r.getElementId=function(a){return"".concat(r.state.instancePrefix,"-").concat(a)},r.getComponents=function(){return KI(r.props)},r.buildCategorizedOptions=function(){return hp(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return y_(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(a,c){r.setState({ariaSelection:Be({value:a},c)})},r.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(a){r.blockOptionHover=!1},r.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&r.onMenuClose():c&&r.openMenu("first"):(c&&(r.openAfterFocus=!0),r.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},r.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!r.props.isDisabled){var c=r.props,u=c.isMulti,d=c.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),a.preventDefault()}},r.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(r.clearValue(),a.preventDefault(),r.openAfterFocus=!1,a.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(a){typeof r.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&bu(a.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(a)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(a){var c=a.touches,u=c&&c.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(a){var c=a.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-r.initialTouchX),f=Math.abs(u.clientY-r.initialTouchY),m=5;r.userIsDragging=d>m||f>m}},r.onTouchEnd=function(a){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(a.target)&&r.menuListRef&&!r.menuListRef.contains(a.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(a){r.userIsDragging||r.onControlMouseDown(a)},r.onClearIndicatorTouchEnd=function(a){r.userIsDragging||r.onClearIndicatorMouseDown(a)},r.onDropdownIndicatorTouchEnd=function(a){r.userIsDragging||r.onDropdownIndicatorMouseDown(a)},r.handleInputChange=function(a){var c=r.props.inputValue,u=a.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:c}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(a){r.props.onFocus&&r.props.onFocus(a),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(a){var c=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(a),r.onInputChange("",{action:"input-blur",prevInputValue:c}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(a){if(!(r.blockOptionHover||r.state.focusedOption===a)){var c=r.getFocusableOptions(),u=c.indexOf(a);r.setState({focusedOption:a,focusedOptionId:u>-1?r.getFocusedOptionId(a):null})}},r.shouldHideSelectedOptions=function(){return I_(r.props)},r.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),r.focus()},r.onKeyDown=function(a){var c=r.props,u=c.isMulti,d=c.backspaceRemovesValue,f=c.escapeClearsValue,m=c.inputValue,p=c.isClearable,h=c.isDisabled,g=c.menuIsOpen,b=c.onKeyDown,y=c.tabSelectsValue,v=c.openMenuOnFocus,C=r.state,w=C.focusedOption,S=C.focusedValue,x=C.selectValue;if(!h&&!(typeof b=="function"&&(b(a),a.defaultPrevented))){switch(r.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||m)return;r.focusValue("previous");break;case"ArrowRight":if(!u||m)return;r.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(S)r.removeValue(S);else{if(!d)return;u?r.popValue():p&&r.clearValue()}break;case"Tab":if(r.isComposing||a.shiftKey||!g||!y||!w||v&&r.isOptionSelected(w,x))return;r.selectOption(w);break;case"Enter":if(a.keyCode===229)break;if(g){if(!w||r.isComposing)return;r.selectOption(w);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:m}),r.onMenuClose()):p&&f&&r.clearValue();break;case" ":if(m)return;if(!g){r.openMenu("first");break}if(!w)return;r.selectOption(w);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}a.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++cM),r.state.selectValue=xl(n.value),n.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),l=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=i[l],r.state.focusedOptionId=J1(s,i[l])}return r}return fS(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&U1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!i&&r.isDisabled||a&&l&&!r.menuIsOpen)&&this.focusInput(),a&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(U1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,i=this.state,l=i.selectValue,a=i.isFocused,c=this.buildFocusableOptions(),u=r==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(l[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=i.indexOf(l);l||(a=-1);var c=i.length-1,u=-1;if(i.length){switch(r){case"previous":a===0?u=0:a===-1?u=c:u=a-1;break;case"next":a>-1&&a<c&&(u=a+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(i);i||(c=-1),r==="up"?a=c>0?c-1:l.length-1:r==="down"?a=(c+1)%l.length:r==="pageup"?(a=c-s,a<0&&(a=0)):r==="pagedown"?(a=c+s,a>l.length-1&&(a=l.length-1)):r==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Y1):Be(Be({},Y1),this.props.theme):Y1}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,p=d.options,h=this.hasValue();return{clearValue:r,cx:s,getStyles:i,getClassNames:l,getValue:a,hasValue:h,isMulti:f,isRtl:m,options:p,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,i=r.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(r,s){return x_(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return w_(this.props,r,s)}},{key:"filterOption",value:function(r,s){return S_(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,i=r.isSearchable,l=r.inputId,a=r.inputValue,c=r.tabIndex,u=r.form,d=r.menuIsOpen,f=r.required,m=this.getComponents(),p=m.Input,h=this.state,g=h.inputIsHidden,b=h.ariaSelection,y=this.commonProps,v=l||this.getElementId("input"),C=Be(Be(Be({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?gt.createElement(p,je({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:a},C)):gt.createElement(jB,je({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:gu,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,f=this.commonProps,m=this.props,p=m.controlShouldRenderValue,h=m.isDisabled,g=m.isMulti,b=m.inputValue,y=m.placeholder,v=this.state,C=v.selectValue,w=v.focusedValue,S=v.isFocused;if(!this.hasValue()||!p)return b?null:gt.createElement(d,je({},f,{key:"placeholder",isDisabled:h,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return C.map(function(F,I){var R=F===w,D="".concat(r.getOptionLabel(F),"-").concat(r.getOptionValue(F));return gt.createElement(i,je({},f,{components:{Container:l,Label:a,Remove:c},isFocused:R,isDisabled:h,key:D,index:I,removeProps:{onClick:function(){return r.removeValue(F)},onTouchEnd:function(){return r.removeValue(F)},onMouseDown:function(T){T.preventDefault()}},data:F}),r.formatOptionLabel(F,"value"))});if(b)return null;var x=C[0];return gt.createElement(u,je({},f,{data:x,isDisabled:h}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return gt.createElement(s,je({},i,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return gt.createElement(s,je({},i,{innerProps:d,isDisabled:a,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,i=r.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return gt.createElement(i,je({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return gt.createElement(s,je({},i,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,a=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,p=this.commonProps,h=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,y=g.inputValue,v=g.isLoading,C=g.loadingMessage,w=g.minMenuHeight,S=g.maxMenuHeight,x=g.menuIsOpen,F=g.menuPlacement,I=g.menuPosition,R=g.menuPortalTarget,D=g.menuShouldBlockScroll,_=g.menuShouldScrollIntoView,T=g.noOptionsMessage,A=g.onMenuScrollToTop,$=g.onMenuScrollToBottom;if(!x)return null;var P=function(O,V){var G=O.type,H=O.data,z=O.isDisabled,Q=O.isSelected,J=O.label,X=O.value,ie=h===H,U=z?void 0:function(){return r.onOptionHover(H)},re=z?void 0:function(){return r.selectOption(H)},ce="".concat(r.getElementId("option"),"-").concat(V),ge={id:ce,onClick:re,onMouseMove:U,onMouseOver:U,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:Q};return gt.createElement(m,je({},p,{innerProps:ge,data:H,isDisabled:z,isSelected:Q,key:ce,label:J,type:G,value:X,isFocused:ie,innerRef:ie?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(O.data,"menu"))},j;if(this.hasOptions())j=this.getCategorizedOptions().map(function(k){if(k.type==="group"){var O=k.data,V=k.options,G=k.index,H="".concat(r.getElementId("group"),"-").concat(G),z="".concat(H,"-heading");return gt.createElement(i,je({},p,{key:H,data:O,options:V,Heading:l,headingProps:{id:z,data:k.data},label:r.formatGroupLabel(k.data)}),k.options.map(function(Q){return P(Q,"".concat(G,"-").concat(Q.index))}))}else if(k.type==="option")return P(k,"".concat(k.index))});else if(v){var B=C({inputValue:y});if(B===null)return null;j=gt.createElement(d,p,B)}else{var N=T({inputValue:y});if(N===null)return null;j=gt.createElement(f,p,N)}var L={minMenuHeight:w,maxMenuHeight:S,menuPlacement:F,menuPosition:I,menuShouldScrollIntoView:_},M=gt.createElement(_I,je({},p,L),function(k){var O=k.ref,V=k.placerProps,G=V.placement,H=V.maxHeight;return gt.createElement(a,je({},p,L,{innerRef:O,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:v,placement:G}),gt.createElement(zB,{captureEnabled:b,onTopArrive:A,onBottomArrive:$,lockEnabled:D},function(z){return gt.createElement(c,je({},p,{innerRef:function(J){r.getMenuListRef(J),z(J)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:r.getElementId("listbox")},isLoading:v,maxHeight:H,focusedOption:h}),j)}))});return R||I==="fixed"?gt.createElement(u,je({},p,{appendTo:R,controlElement:this.controlRef,menuPlacement:F,menuPosition:I}),M):M}},{key:"renderFormField",value:function(){var r=this,s=this.props,i=s.delimiter,l=s.isDisabled,a=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!l)return gt.createElement(UB,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(i){var f=d.map(function(h){return r.getOptionValue(h)}).join(i);return gt.createElement("input",{name:c,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(h,g){return gt.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:r.getOptionValue(h)})}):gt.createElement("input",{name:c,type:"hidden",value:""});return gt.createElement("div",null,m)}else{var p=d[0]?this.getOptionValue(d[0]):"";return gt.createElement("input",{name:c,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return gt.createElement(PB,je({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:a,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,i=r.IndicatorsContainer,l=r.SelectContainer,a=r.ValueContainer,c=this.props,u=c.className,d=c.id,f=c.isDisabled,m=c.menuIsOpen,p=this.state.isFocused,h=this.commonProps=this.getCommonProps();return gt.createElement(l,je({},h,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:p}),this.renderLiveRegion(),gt.createElement(s,je({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:p,menuIsOpen:m}),gt.createElement(a,je({},h,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),gt.createElement(i,je({},h,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,f=s.instancePrefix,m=r.options,p=r.value,h=r.menuIsOpen,g=r.inputValue,b=r.isMulti,y=xl(p),v={};if(i&&(p!==i.value||m!==i.options||h!==i.menuIsOpen||g!==i.inputValue)){var C=h?iM(r,y):[],w=h?m_(hp(r,y),"".concat(f,"-option")):[],S=l?aM(s,y):null,x=lM(s,C),F=J1(w,x);v={selectValue:y,focusedOption:x,focusedOptionId:F,focusableOptionsWithIds:w,focusedValue:S,clearFocusValueOnUpdate:!1}}var I=a!=null&&r!==i?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},R=c,D=u&&d;return u&&!D&&(R={value:Ji(b,y,y[0]||null),options:y,action:"initial-input-focus"},D=!d),c?.action==="initial-input-focus"&&(R=null),Be(Be(Be({},v),I),{},{prevProps:r,ariaSelection:R,prevWasFocused:D})}}]),o}(FB);Cu.defaultProps=sM;import"react-dom";var dM=uM(function(t,e){var o=Mf(t);return __.createElement(Cu,je({ref:e},o))}),F_=dM;import*as A_ from"react";import{forwardRef as pM}from"react";import{useMemo as T_,useCallback as mM}from"react";var fM=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],D_=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),s=String(n.getOptionValue(o)).toLowerCase(),i=String(n.getOptionLabel(o)).toLowerCase();return s===r||i===r},ov={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,o,n,r){return!(!e||o.some(function(s){return D_(e,s,r)})||n.some(function(s){return D_(e,s,r)}))},getNewOptionData:function(e,o){return{label:o,value:e,__isNew__:!0}}};function R_(t){var e=t.allowCreateWhileLoading,o=e===void 0?!1:e,n=t.createOptionPosition,r=n===void 0?"last":n,s=t.formatCreateLabel,i=s===void 0?ov.formatCreateLabel:s,l=t.isValidNewOption,a=l===void 0?ov.isValidNewOption:l,c=t.getNewOptionData,u=c===void 0?ov.getNewOptionData:c,d=t.onCreateOption,f=t.options,m=f===void 0?[]:f,p=t.onChange,h=rr(t,fM),g=h.getOptionValue,b=g===void 0?tv:g,y=h.getOptionLabel,v=y===void 0?ev:y,C=h.inputValue,w=h.isLoading,S=h.isMulti,x=h.value,F=h.name,I=T_(function(){return a(C,xl(x),m,{getOptionValue:b,getOptionLabel:v})?u(C,i(C)):void 0},[i,u,v,b,C,a,m,x]),R=T_(function(){return(o||!w)&&I?r==="first"?[I].concat(Js(m)):[].concat(Js(m),[I]):m},[o,r,w,I,m]),D=mM(function(_,T){if(T.action!=="select-option")return p(_,T);var A=Array.isArray(_)?_:[_];if(A[A.length-1]===I){if(d)d(C);else{var $=u(C,C),P={action:"create-option",name:F,option:$};p(Ji(S,[].concat(Js(xl(x)),[$]),$),P)}return}p(_,T)},[u,C,S,F,I,d,p,x]);return Be(Be({},h),{},{options:R,onChange:D})}import"react-dom";var hM=pM(function(t,e){var o=Mf(t),n=R_(o);return A_.createElement(Cu,je({ref:e},n))}),P_=hM;import{jsx as E_}from"react/jsx-runtime";import"react";var N_="clear-indicator",rv=t=>{let{clearValue:e,innerProps:{ref:o,...n}}=t;return E_("div",{className:N_,ref:typeof o=="string"?null:o,...n,onKeyDown:r=>{r.key==="Enter"&&(e(),r.stopPropagation())},role:"button",tabIndex:0,children:E_(ht,{className:`${N_}__icon`})})};import{jsx as L_}from"react/jsx-runtime";import gM from"react";var nv=t=>{let{children:e,innerProps:o,selectProps:{customProps:{disableKeyDown:n,disableMouseDown:r}={}}={}}=t;return L_(gM.Fragment,{children:L_(Io.Control,{...t,innerProps:{...o,onKeyDown:s=>{if(n){s.stopPropagation();let i=new CustomEvent("bypassKeyDown",{detail:s});document.dispatchEvent(i)}},onMouseDown:s=>{r||o.onMouseDown(s)}},children:e})})};import{jsx as $_}from"react/jsx-runtime";import"react";var k_="dropdown-indicator",sv=t=>{let{innerProps:{ref:e,...o}}=t;return $_("button",{className:k_,ref:e,...o,onKeyDown:n=>{n.key==="Enter"&&(n.key=" ")},type:"button",children:$_(He,{className:`${k_}__icon`})})};import{jsx as j_}from"react/jsx-runtime";import bM from"react";var iv=t=>j_(bM.Fragment,{children:j_(Io.Input,{...t,"aria-activedescendant":void 0})});import{c as vM}from"react/compiler-runtime";import{jsx as B_}from"react/jsx-runtime";import yM from"react";var M_="multi-value";function av(t,e){return typeof e=="function"?e(t):t?.value}var lv=t=>{let e=vM(26),{className:o,data:n,innerProps:r,isDisabled:s,selectProps:i}=t,l;e[0]!==i?(l=i===void 0?{}:i,e[0]=i,e[1]=l):l=e[1];let{customProps:a,getOptionValue:c,isSortable:u}=l,d;e[2]!==a?(d=a===void 0?{}:a,e[2]=a,e[3]=d):d=e[3];let{disableMouseDown:f}=d,m;e[4]!==n||e[5]!==c?(m=av(n,c),e[4]=n,e[5]=c,e[6]=m):m=e[6];let p=m,h=!u,g;e[7]!==p||e[8]!==h?(g={id:p,disabled:h},e[7]=p,e[8]=h,e[9]=g):g=e[9];let{attributes:b,isDragging:y,listeners:v,setNodeRef:C,transform:w}=Ya(g),S=!s&&u&&"draggable",x=y&&`${M_}--is-dragging`,F;e[10]!==o||e[11]!==S||e[12]!==x?(F=[M_,o,S,x].filter(Boolean),e[10]=o,e[11]=S,e[12]=x,e[13]=F):F=e[13];let I=F.join(" "),R;if(e[14]!==b||e[15]!==I||e[16]!==f||e[17]!==r||e[18]!==u||e[19]!==v||e[20]!==t||e[21]!==C||e[22]!==w){let D;e[24]!==f?(D=_=>{f||_.stopPropagation()},e[24]=f,e[25]=D):D=e[25],R=B_(yM.Fragment,{children:B_(Io.MultiValue,{...t,className:I,innerProps:{...u?{...b,...v}:{},...r,onMouseDown:D,ref:C,style:u?{transform:w,...b?.style}:{}}})}),e[14]=b,e[15]=I,e[16]=f,e[17]=r,e[18]=u,e[19]=v,e[20]=t,e[21]=C,e[22]=w,e[23]=R}else R=e[23];return R};import{jsx as O_}from"react/jsx-runtime";import"react";var V_="multi-value-label",cv=t=>{let{data:e,selectProps:{customProps:{draggableProps:o,editableProps:n}={}}={}}=t,r=`${V_}__text`;return O_("div",{className:V_,children:O_(Io.MultiValueLabel,{...t,innerProps:{className:r,...n&&n(e,r,t.selectProps)||{},...o||{}}})})};import{c as CM}from"react/compiler-runtime";import{jsx as G_,jsxs as xM}from"react/jsx-runtime";import wM from"react";var uv="multi-value-remove",dv=t=>{let e=CM(12),{innerProps:o}=t,{className:n,onClick:r,onTouchEnd:s}=o,[i,l]=wM.useState(!1),{t:a}=E(),c;if(e[0]!==n||e[1]!==r||e[2]!==s||e[3]!==i||e[4]!==a){let u=a("general:remove"),d;e[6]!==n?(d=[uv,n].filter(Boolean),e[6]=n,e[7]=d):d=e[7];let f;e[8]!==r?(f=h=>{l(!1),r(h)},e[8]=r,e[9]=f):f=e[9];let m,p;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=()=>l(!0),p=()=>l(!1),e[10]=m,e[11]=p):(m=e[10],p=e[11]),c=xM("button",{"aria-label":u,className:d.join(" "),onClick:f,onKeyDown:SM,onMouseDown:IM,onMouseEnter:m,onMouseLeave:p,onTouchEnd:s,type:"button",children:[G_(To,{className:`${uv}__tooltip`,show:i,children:a("general:remove")}),G_(ht,{className:`${uv}__icon`})]}),e[0]=n,e[1]=r,e[2]=s,e[3]=i,e[4]=a,e[5]=c}else c=e[5];return c};function SM(t){t.key==="Enter"&&t.stopPropagation()}function IM(t){return t.stopPropagation()}import{jsx as z_}from"react/jsx-runtime";import _M from"react";var FM="react-select--single-value",mv=t=>{let{children:e,className:o}=t;return z_(_M.Fragment,{children:z_(Io.SingleValue,{...t,className:[FM,o].filter(Boolean).join(" "),children:e})})};import{jsx as W_,jsxs as TM}from"react/jsx-runtime";import"react";var H_="value-container",fv=t=>{let{selectProps:{customProps:e}={}}=t;return TM("div",{className:H_,ref:e?.droppableRef,children:[e?.valueContainerLabel&&W_("span",{className:`${H_}__label`,children:e?.valueContainerLabel}),W_(Io.ValueContainer,{...t})]})};var AM=t=>({label:t,value:t}),Z_=t=>{let{i18n:e,t:o}=E(),[n,r]=X_.useState(""),s=RM(),[i,l]=X_.useState(!1);DM(()=>{l(!0)},[]);let{className:a,components:c,customProps:u,disabled:d=!1,filterOption:f=void 0,getOptionValue:m,isClearable:p=!0,isCreatable:h,isLoading:g,isSearchable:b=!0,noOptionsMessage:y=()=>o("general:noOptions"),numberOnly:v=!1,onChange:C,onMenuClose:w,onMenuOpen:S,options:x,placeholder:F=o("general:selectValue"),showError:I,value:R}=t,D=()=>o("general:loading")+"...",_=[a,"react-select",I&&"react-select--error"].filter(Boolean).join(" "),T={menu:$=>({...$,zIndex:void 0})};if(!i)return qi(It,{height:"calc(var(--base) * 2 + 2px)"});if(!h)return qi(F_,{captureMenuScroll:!0,customProps:u,isLoading:g,...t,className:_,classNamePrefix:"rs",components:{ClearIndicator:rv,Control:nv,DropdownIndicator:sv,Input:iv,MultiValue:lv,MultiValueLabel:cv,MultiValueRemove:dv,SingleValue:mv,ValueContainer:fv,...c},filterOption:f,getOptionValue:m,instanceId:s,isClearable:p,isDisabled:d,isSearchable:b,loadingMessage:D,menuPlacement:"auto",noOptionsMessage:y,onChange:C,onMenuClose:w,onMenuOpen:S,options:x,placeholder:U_(F,e),styles:T,unstyled:!0,value:R});let A=$=>{if(v===!0){let P=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],j=!/\D/.test($.key),B=P.includes($.key);if(!j&&!B){$.preventDefault();return}}if(!(!R||!n||n.trim()==="")&&!(f&&!f(null,n)))switch($.key){case"Enter":case"Tab":C([...R,AM(n)]),r(""),$.preventDefault();break;default:break}};return qi(P_,{captureMenuScroll:!0,isLoading:g,...t,className:_,classNamePrefix:"rs",components:{ClearIndicator:rv,Control:nv,DropdownIndicator:sv,Input:iv,MultiValue:lv,MultiValueLabel:cv,MultiValueRemove:dv,SingleValue:mv,ValueContainer:fv,...c},filterOption:f,inputValue:n,instanceId:s,isClearable:p,isDisabled:d,isSearchable:b,loadingMessage:D,menuPlacement:"auto",noOptionsMessage:y,onChange:C,onInputChange:$=>r($),onKeyDown:A,onMenuClose:w,onMenuOpen:S,options:x,placeholder:U_(F,e),styles:T,unstyled:!0,value:R})},PM=t=>{let{getOptionValue:e,onChange:o,value:n}=t,r=[];return n&&(r=(Array.isArray(n)?n:[n]).map(s=>av(s,e))),qi(kr,{className:"react-select-container",ids:r,onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{let l=n;n&&Array.isArray(n)&&(l=qm(n,s,i)),o(l)},children:qi(Z_,{...t})})},ft=t=>{let{isMulti:e,isSortable:o}=t;return e&&o?qi(PM,{...t}):qi(Z_,{...t})};var xu=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e});var wu=t=>{let{id:e,onChange:o,options:n,readOnly:r,required:s,selectedTimezone:i}=t,{t:l}=E(),a=xu(n),c=NM(()=>a.find(d=>(typeof d=="string"?d:d.value)===(i||"UTC")),[a,i]),u=!!r||a.length===1;return EM("div",{className:"timezone-picker-wrapper",children:[Y_(Fe,{htmlFor:e,label:`${l("general:timezone")} ${s?"*":""}`,required:s,unstyled:!0}),Y_(ft,{className:"timezone-picker",disabled:u,inputId:e,isClearable:!s,isCreatable:!1,onChange:d=>{o&&o(d?.value||"")},options:a,value:c})]})};var q_="date-time-field",$M=t=>{let{field:e,field:{admin:{className:o,date:n,description:r,placeholder:s}={},label:i,localized:l,required:a,timezone:c},path:u,readOnly:d,validate:f}=t,m=n?.pickerAppearance||"default",p=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:h}=W(),{i18n:g}=E(),{dispatchFields:b,setModified:y}=Ge(),v=pv((V,G)=>{if(typeof f=="function")return f(V,{...G,required:a})},[f,a]),{customComponents:{AfterInput:C,BeforeInput:w,Description:S,Error:x,Label:F}={},disabled:I,path:R,setValue:D,showError:_,value:T}=$e({potentiallyStalePath:u,validate:v}),A=R+"_tz",$=Et(([V,G])=>V?.[A]),P=hv(()=>c&&typeof c=="object"&&c.supportedTimezones?c.supportedTimezones:h.admin.timezones.supportedTimezones,[h.admin.timezones.supportedTimezones,c]),j=["dayOnly","default","monthOnly"].includes(m),B=$?.value,N=a||c&&typeof c=="object"&&c.required,L=hv(()=>{if(c&&B&&p&&T){let V=oo.tz(B),G=oo.tz(p),H=new oo(T).withTimeZone(B),z=rn(H,V);return rn(z,G).toISOString()}return T},[c,B,T,p]),M=hv(()=>Ke(e),[e]),k=pv(V=>{if(!(d||I))if(c&&B&&V){let G=oo.tz(B);if(j){let H=V.getTimezoneOffset()/60,z=V.getHours()+H;V.setHours(z);let Q=rn(V,G);D(Q.toISOString()||null)}else{let H=new oo(V),z=rn(H,G);D(z.toISOString()||null)}}else D(V?.toISOString()||null)},[d,I,c,B,j,D]),O=pv(V=>{A&&(b({type:"UPDATE",path:A,value:V}),y(!0))},[b,y,A]);return J_("div",{className:[ke,q_,o,_&&`${q_}--has-error`,(d||I)&&"read-only"].filter(Boolean).join(" "),style:M,children:[Ks(ue,{CustomComponent:F,Fallback:Ks(Fe,{label:i,localized:l,path:R,required:a})}),J_("div",{className:`${ke}__wrap`,id:`field-${R.replace(/\./g,"__")}`,children:[Ks(ue,{CustomComponent:x,Fallback:Ks(Ye,{path:R,showError:_})}),w,Ks(cl,{...n,onChange:k,overrides:{...n?.overrides},placeholder:LM(s,g),readOnly:d||I,value:L}),c&&P.length>0&&Ks(wu,{id:`${R}-timezone-picker`,onChange:O,options:P,readOnly:d||I,required:N,selectedTimezone:B}),C]}),Ks(ue,{CustomComponent:S,Fallback:Ks(Ue,{description:r,path:R})})]})},Su=We($M);import{jsx as Qi,jsxs as Q_}from"react/jsx-runtime";import{getTranslation as kM}from"@payloadcms/translations";import{useCallback as jM,useMemo as BM}from"react";var MM=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s}={},label:i,localized:l,required:a}={},path:c,readOnly:u,validate:d}=t,{i18n:f}=E(),m=jM((I,R)=>{if(typeof d=="function")return d(I,{...R,required:a})},[d,a]),{customComponents:{AfterInput:p,BeforeInput:h,Description:g,Error:b,Label:y}={},disabled:v,path:C,setValue:w,showError:S,value:x}=$e({potentiallyStalePath:c,validate:m}),F=BM(()=>Ke(e),[e]);return Q_("div",{className:[ke,"email",n,S&&"error",(u||v)&&"read-only"].filter(Boolean).join(" "),style:F,children:[Qi(ue,{CustomComponent:y,Fallback:Qi(Fe,{label:i,localized:l,path:C,required:a})}),Q_("div",{className:`${ke}__wrap`,children:[Qi(ue,{CustomComponent:b,Fallback:Qi(Ye,{path:C,showError:S})}),h,Qi("input",{autoComplete:o,disabled:u||v,id:`field-${C.replace(/\./g,"__")}`,name:C,onChange:w,placeholder:kM(s,f),required:a,type:"email",value:x||""}),p]}),Qi(ue,{CustomComponent:g,Fallback:Qi(Ue,{description:r,path:C})})]})},Ki=We(MM);import{jsx as fs,jsxs as bp}from"react/jsx-runtime";import{getTranslation as YM}from"@payloadcms/translations";import{groupHasName as aF}from"payload/shared";import{useMemo as JM}from"react";import{jsx as OM}from"react/jsx-runtime";import{createContext as VM,use as GM}from"react";var K_=VM(!1),eF=({children:t,withinRow:e=!0})=>OM(K_,{value:e,children:t}),tF=()=>GM(K_);import{jsx as zM}from"react/jsx-runtime";import{createContext as WM,use as HM}from"react";var oF=WM(!1),gv=({children:t,withinTab:e=!0})=>zM(oF,{value:e,children:t}),rF=()=>HM(oF);import{jsx as UM}from"react/jsx-runtime";import{createContext as XM,use as ZM}from"react";var nF=XM(!1),sF=({children:t,withinGroup:e=!0})=>UM(nF,{value:e,children:t}),iF=()=>ZM(nF);var dn="group-field",qM=t=>{let{field:e,field:{admin:{className:o,description:n,hideGutter:r}={},fields:s,label:i},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f,schemaPath:m}=t,p=m??(e.type==="group"&&aF(e)?e.name:u),{i18n:h}=E(),{isWithinCollapsible:g}=Xs(),b=iF(),y=tF(),v=rF(),{customComponents:{AfterInput:C,BeforeInput:w,Description:S,Label:x}={},errorPaths:F}=$e({path:u}),I=ao(),R=F.length,D=I&&R>0,_=!(g||b||y),T=JM(()=>Ke(e),[e]);return bp("div",{className:[ke,dn,_&&`${dn}--top-level`,g&&`${dn}--within-collapsible`,b&&`${dn}--within-group`,y&&`${dn}--within-row`,v&&`${dn}--within-tab`,!r&&b&&`${dn}--gutter`,D&&`${dn}--has-error`,o].filter(Boolean).join(" "),id:`field-${u?.replace(/\./g,"__")}`,style:T,children:[fs(sF,{children:bp("div",{className:`${dn}__wrap`,children:[!!(x||S||i||D)&&bp("div",{className:`${dn}__header`,children:[!!(x||S||i)&&bp("header",{children:[fs(ue,{CustomComponent:x,Fallback:fs("h3",{className:`${dn}__title`,children:fs(Fe,{as:"span",label:YM(i,h),localized:!1,path:u,required:!1})})}),fs(ue,{CustomComponent:S,Fallback:fs(Ue,{description:n,path:u})})]}),D&&fs(xo,{count:R,i18n:h,withMessage:!0})]}),w,aF(e)?fs(Po,{fields:s,margins:"small",parentIndexPath:"",parentPath:u,parentSchemaPath:p,permissions:d===!0?d:d?.fields,readOnly:f}):fs(Po,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f})]})}),C]})};var Iu=We(qM);import{c as QM}from"react/compiler-runtime";import{jsx as KM}from"react/jsx-runtime";import{useEffect as eO}from"react";var tO=t=>{let e=QM(13),{disableModifyingForm:o,path:n,value:r}=t,s=o===void 0?!0:o,i;e[0]!==n?(i={potentiallyStalePath:n},e[0]=n,e[1]=i):i=e[1];let{formInitializing:l,path:a,setValue:c,value:u}=$e(i),d,f;e[2]!==s||e[3]!==l||e[4]!==c||e[5]!==r?(d=()=>{r!==void 0&&!l&&c(r,s)},f=[r,c,s,l],e[2]=s,e[3]=l,e[4]=c,e[5]=r,e[6]=d,e[7]=f):(d=e[6],f=e[7]),eO(d,f);let m=`field-${a?.replace(/\./g,"__")}`,p=u||"",h;return e[8]!==a||e[9]!==c||e[10]!==m||e[11]!==p?(h=KM("input",{id:m,name:a,onChange:c,type:"hidden",value:p}),e[8]=a,e[9]=c,e[10]=m,e[11]=p,e[12]=h):h=e[12],h},_u=We(tO);var $p=_i(vv(),1);import{jsx as ta,jsxs as Q7}from"react/jsx-runtime";import{fieldAffectsData as K7,flattenTopLevelFields as e8}from"payload/shared";import{useMemo as hT}from"react";import{jsx as sr,jsxs as Rl}from"react/jsx-runtime";import{getTranslation as fT}from"@payloadcms/translations";import{hoistQueryParamsToAnd as Z7,transformColumnsToPreferences as pT}from"payload/shared";import Y7,{Fragment as J7,useCallback as Lp,useEffect as $u,useRef as q7,useState as hs}from"react";import{jsx as yF}from"react/jsx-runtime";import{useRouter as cO,useSearchParams as uO}from"next/navigation.js";import*as wv from"qs-esm";import dO,{useCallback as Tu,useEffect as mO,useMemo as fO,useRef as pO,useState as CF}from"react";import{jsx as sO}from"react/jsx-runtime";import{createContext as iO,use as aO}from"react";var pF=iO({}),yv=({children:t,...e})=>sO(pF,{value:{isInDrawer:!!e.drawerSlug,...e},children:t}),wr=()=>{let t=aO(pF);if(!t)throw new Error("useListDrawerContext must be used within a ListDrawerContextProvider");return t};import*as hF from"qs-esm";function Vt(t){let e=t.toString();return hF.parse(e,{depth:10,ignoreQueryPrefix:!0})}import{createContext as gF,use as lO}from"react";var Cv=gF({}),lt=()=>lO(Cv),bF=gF(!1);var vF=(t,e,o)=>{let n="page"in e?e.page:t?.page;["where","search","groupBy"].some(a=>a in e&&!["limit","page"].includes(a))&&(n=1);let s=["where","search","page","limit","groupBy","sort"].some(a=>a in e),i;return s||(i={...t?.queryByGroup||{},...e.queryByGroup?Object.fromEntries(Object.entries(e.queryByGroup).map(([a,c])=>[a,{...t?.queryByGroup?.[a]||{},...c}])):{}}),{...t,...e,columns:"columns"in e?e.columns:t.columns,groupBy:"groupBy"in e?e.groupBy:t?.groupBy??o?.defaults?.groupBy,limit:"limit"in e?e.limit:t?.limit??o?.defaults?.limit,page:n,preset:"preset"in e?e.preset:t?.preset,queryByGroup:i,search:"search"in e?e.search:t?.search,sort:"sort"in e?e.sort:t?.sort??o?.defaults?.sort,where:"where"in e?e.where:t?.where}};var xv=t=>{let e={...t};return Object.entries(e).forEach(([o,n])=>{if(o==="columns"&&(n==="[]"||Array.isArray(e[o])&&e[o].length===0)&&delete e[o],o==="where"&&typeof n=="object"&&!Object.keys(n).length&&delete e[o],(o==="limit"||o==="page")&&typeof n=="string"){let r=parseInt(n,10);e[o]=Number.isNaN(r)?void 0:r}o==="page"&&n===0&&delete e[o],n===""&&delete e[o]}),e};var Sv=({children:t,collectionSlug:e,data:o,modifySearchParams:n,onQueryChange:r,orderableFieldName:s,query:i})=>{"use no memo";let l=cO(),a=uO(),{startRouteTransition:c}=Ze(),[u,d]=CF(!1),{getEntityConfig:f}=W(),m=f({collectionSlug:e}),p=fO(()=>xv(Vt(a)),[a]),h=pO({});h.current.modified=u;let{onQueryChange:g}=wr(),[b,y]=CF(()=>n?p:{limit:i.limit,sort:i.sort}),v=Tu(async(R,D)=>{d(D!==void 0?D:!0);let _=vF(b,R,{defaults:{limit:i.limit,sort:i.sort}});n?c(()=>l.replace(`${wv.stringify({..._,columns:JSON.stringify(_.columns),queryByGroup:JSON.stringify(_.queryByGroup)},{addQueryPrefix:!0})}`)):(typeof g=="function"||typeof r=="function")&&(g||r)(_),y(_)},[b,i.limit,i.sort,n,g,r,c,l]),C=Tu(async R=>{await v({page:R})},[v]),w=dO.useCallback(async R=>{await v({limit:R,page:1})},[v]),S=Tu(async R=>{await v({search:R===""?void 0:R})},[v]),x=Tu(async R=>{await v({sort:R})},[v]),F=Tu(async R=>{await v({where:R})},[v]),I=vt(()=>{let R=xv({...b||{},...i||{}}),D=`?${wv.stringify({...R,columns:JSON.stringify(R.columns),queryByGroup:JSON.stringify(R.queryByGroup)})}`;window.location.search!==D&&(y(R),window.history.replaceState(null,"",D))});return mO(()=>{n&&I()},[n,i]),yF(Cv,{value:{collectionSlug:e,data:o,handlePageChange:C,handlePerPageChange:w,handleSearchChange:S,handleSortChange:x,handleWhereChange:F,isGroupingBy:!!(m?.admin?.groupBy&&b?.groupBy),orderableFieldName:s,query:b,refineListData:v,setModified:d,...h.current},children:yF(bF,{value:u,children:t})})};import{jsx as hO}from"react/jsx-runtime";import gO,{createContext as bO,useCallback as ei}from"react";var Iv=bO(void 0),Nt=()=>{let t=gO.use(Iv);if(t===void 0)throw new Error("useServerFunctions must be used within a ServerFunctionsProvider");return t},_v=({children:t,serverFunction:e})=>{if(!e)throw new Error("ServerFunctionsProvider requires a serverFunction prop");let o=ei(async u=>await e({name:"render-document-slots",args:u}),[e]),n=ei(async u=>{let{signal:d,...f}=u;try{if(!d?.aborted){let p=await e({name:"schedule-publish",args:{...f}});if(!d?.aborted)return p}}catch(p){console.error(p)}let m=`Error scheduling ${f.type}`;return f.doc&&(m+=` for document with ID ${f.doc.value} in collection ${f.doc.relationTo}`),{error:m}},[e]),r=ei(async u=>{let{signal:d,...f}=u||{};try{if(!d?.aborted){let m=await e({name:"form-state",args:{fallbackLocale:!1,...f}});if(!d?.aborted)return m}}catch(m){console.error(m)}return{state:null}},[e]),s=ei(async u=>{let{signal:d,...f}=u||{};try{if(!d?.aborted){let m=await e({name:"table-state",args:{fallbackLocale:!1,...f}});if(!d?.aborted)return m}}catch(m){console.error(m)}},[e]),i=ei(async u=>{let{signal:d,...f}=u||{};try{return await e({name:"render-document",args:{fallbackLocale:!1,...f}})}catch(m){console.error(m)}},[e]),l=ei(async u=>{let{signal:d,...f}=u||{};try{let m=await e({name:"copy-data-from-locale",args:f});if(!d?.aborted)return m}catch(m){console.error(m)}},[e]),a=ei(async u=>{let{signal:d,...f}=u||{};try{let m=await e({name:"get-folder-results-component-and-data",args:f});if(!d?.aborted)return m}catch(m){console.error(m)}},[e]),c=ei(async u=>{try{return await e({name:"render-field",args:u})}catch(d){console.error(d)}},[e]);return hO(Iv,{value:{_internal_renderField:c,copyDataFromLocale:l,getDocumentSlots:o,getFolderResultsComponentAndData:a,getFormState:r,getTableState:s,renderDocument:i,schedulePublish:n,serverFunction:e},children:t})};import{jsx as CO}from"react/jsx-runtime";import{transformColumnsToSearchParams as xF}from"payload/shared";import wF,{startTransition as SF,useCallback as Tv,useRef as xO}from"react";import{createContext as vO,use as yO}from"react";var Fv=vO({}),Il=()=>yO(Fv);var Du=({children:t,collectionSlug:e,columnState:o,LinkedCellOverride:n})=>{let{getEntityConfig:r}=W(),{query:s,refineListData:i}=lt(),{admin:{defaultColumns:l}={}}=r({collectionSlug:e}),[a,c]=wF.useOptimistic(o,(h,g)=>g),u=xO({}),d=Tv(async h=>{let g=(a||[]).map(b=>b.accessor===h?{...b,active:!b.active}:b);SF(()=>{c(g)}),await i({columns:xF(g)})},[i,a,c]),f=Tv(async h=>{let{fromIndex:g,toIndex:b}=h,y=[...a||[]],[v]=y.splice(g,1);y.splice(b,0,v),SF(()=>{c(y)}),await i({columns:xF(y)})},[a,i,c]),m=Tv(async h=>{let g=s.columns;h.forEach(b=>{let y=g.findIndex(v=>b===v);y!==void 0&&g[y][0]==="-"&&(g[y]=b.slice(1))}),await i({columns:g})},[s,i]),p=wF.useCallback(async()=>{await i({columns:l||[]})},[l,i]);return CO(Fv,{value:{columns:a,LinkedCellOverride:n,moveColumn:f,resetColumnsState:p,setActiveColumns:m,toggleColumn:d,...u.current},children:t})};import{jsx as IF}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as SO,fieldIsID as IO}from"payload/shared";import{useId as _O,useMemo as _F}from"react";import{jsx as _l}from"react/jsx-runtime";import wO from"react";var Ru="pill-selector",Dv=({draggable:t,onClick:e,pills:o})=>{let n=wO.useMemo(()=>o.map((r,s)=>_l(it,{alignIcon:"left","aria-checked":r.selected,className:[`${Ru}__pill`,r.selected&&`${Ru}__pill--selected`].filter(Boolean).join(" "),draggable:!!t,icon:r.selected?_l(ht,{}):_l(tr,{}),id:r.name,onClick:()=>{e&&e({pill:r})},size:"small",children:r.Label??_l("span",{className:`${Ru}__pill-label`,children:r.name})},r.key??`${r.name}-${s}`)),[o,e,t]);return t?_l(kr,{className:Ru,ids:o.map(r=>r.name),onDragEnd:({moveFromIndex:r,moveToIndex:s})=>{t.onDragEnd({moveFromIndex:r,moveToIndex:s})},children:n}):_l("div",{className:Ru,children:n})};var yp=({collectionSlug:t})=>{let{columns:e,moveColumn:o,toggleColumn:n}=Il(),r=_O(),s=ut(),i=_F(()=>e?.filter(a=>!(SO(a.field)&&!IO(a.field))&&!a?.field?.admin?.disableListColumn),[e]),l=_F(()=>i?i.map((a,c)=>{let{accessor:u,active:d,field:f}=a,m="labelWithPrefix"in f&&f.labelWithPrefix!==void 0?f.labelWithPrefix:"label"in f&&f.label!==void 0?f.label:"name"in f&&f.name!==void 0?f.name:void 0;return{name:u,key:`${t}-${u}-${c}${s?`-${s}-`:""}${r}`,Label:IF(Fe,{label:m,unstyled:!0}),selected:d}}):null,[t,s,i,r]);return l?IF(Dv,{draggable:{onDragEnd:({moveFromIndex:a,moveToIndex:c})=>{o({fromIndex:a,toIndex:c})}},onClick:({pill:a})=>{n(a.name)},pills:l}):null};import{c as jF}from"react/compiler-runtime";import{jsx as wp}from"react/jsx-runtime";import{createElement as OO}from"react";import{useEffect as VO,useId as GO,useState as zO}from"react";import{c as FO}from"react/compiler-runtime";import{useState as TO}from"react";var Cp=t=>{let e=FO(3),{getEntityConfig:o}=W(),n;e[0]!==o||e[1]!==t?(n=()=>t?(typeof t=="string"?[t]:t).map(i=>o({collectionSlug:i})):[],e[0]=o,e[1]=t,e[2]=n):n=e[2];let[r]=TO(n);return r};import{jsx as LF}from"react/jsx-runtime";import BO,{useCallback as Pu,useEffect as $F,useRef as MO,useState as Nv}from"react";import{c as Ev}from"react/compiler-runtime";import{jsx as ea,jsxs as AF}from"react/jsx-runtime";import{getTranslation as EO}from"@payloadcms/translations";import NO from"react";import{jsx as RO,jsxs as AO}from"react/jsx-runtime";import Pv,{createContext as PO}from"react";import{c as DO}from"react/compiler-runtime";import*as ti from"react";var Rv=t=>{let e=DO(13),{delayBeforeShow:o,inTimeout:n,minShowTime:r,outTimeout:s,show:i}=t,l=n+r+s,[a,c]=Xg(o),[u,d]=ti.useState(!1),[f,m]=ti.useState(!1),p=ti.useRef(0),h=ti.useRef(void 0),g;e[0]!==s?(g=()=>{m(!0),h.current=setTimeout(()=>{d(!1),m(!1)},s)},e[0]=s,e[1]=g):g=e[1];let b=g,y,v;e[2]!==a||e[3]!==u||e[4]!==i||e[5]!==l||e[6]!==b?(y=()=>{let w=a&&!u&&i,S=u&&!i;if(w)p.current=Date.now(),d(!0);else if(S){let x=Date.now()-p.current,F=l-x;clearTimeout(h.current),h.current=setTimeout(b,Math.max(0,F))}},v=[u,i,b,l,a],e[2]=a,e[3]=u,e[4]=i,e[5]=l,e[6]=b,e[7]=y,e[8]=v):(y=e[7],v=e[8]),ti.useEffect(y,v);let C;return e[9]!==u||e[10]!==f||e[11]!==c?(C={isMounted:u,isUnmounting:f,triggerDelayedRender:c},e[9]=u,e[10]=f,e[11]=c,e[12]=C):C=e[12],C};var FF={isLoading:!1,loaders:[],loadingText:"",overlayType:null},TF=(t,e)=>{let o=[...t.loaders],{type:n="fullscreen",key:r="user",loadingText:s}=e.payload;if(e.type==="add")o.push({type:n,key:r,loadingText:s});else if(e.type==="remove"){let l=o.findIndex(a=>a.key===r&&a.type===n);o.splice(l,1)}let i=o?.length>0?o[o.length-1]:null;return{isLoading:!!i,loaders:o,loadingText:i?.loadingText||t?.loadingText,overlayType:i?.type||t?.overlayType}};var Av=250,DF=PO({isOnScreen:!1,toggleLoadingOverlay:void 0}),RF=({children:t})=>{let{t:e}=E(),o=e("general:loading"),[n,r]=Pv.useReducer(TF,FF),{isMounted:s,isUnmounting:i,triggerDelayedRender:l}=Rv({delayBeforeShow:1e3,inTimeout:Av,minShowTime:500,outTimeout:Av,show:n.isLoading}),a=Pv.useCallback(({type:c,isLoading:u,key:d,loadingText:f=o})=>{u?(l(),r({type:"add",payload:{type:c,key:d,loadingText:f}})):r({type:"remove",payload:{type:c,key:d}})},[l,o]);return AO(DF,{value:{isOnScreen:s,toggleLoadingOverlay:a},children:[s&&RO(mn,{animationDuration:`${Av}ms`,loadingText:n.loadingText||o,overlayType:n.overlayType,show:!i}),t]})},xp=()=>{let t=Pv.use(DF);if(t===void 0)throw new Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return t};var fn="loading-overlay",mn=t=>{let e=Ev(8),{animationDuration:o,loadingText:n,overlayType:r,show:s}=t,i=s===void 0?!0:s,{t:l}=E(),a=i?`${fn}--entering`:`${fn}--exiting`,c=r?`${fn}--${r}`:"",u;e[0]!==a||e[1]!==c?(u=[fn,a,c].filter(Boolean),e[0]=a,e[1]=c,e[2]=u):u=e[2];let d=u.join(" "),f=o||"500ms",m;return e[3]!==n||e[4]!==l||e[5]!==d||e[6]!==f?(m=AF("div",{className:d,style:{animationDuration:f},children:[AF("div",{className:`${fn}__bars`,children:[ea("div",{className:`${fn}__bar`}),ea("div",{className:`${fn}__bar`}),ea("div",{className:`${fn}__bar`}),ea("div",{className:`${fn}__bar`}),ea("div",{className:`${fn}__bar`})]}),ea("span",{className:`${fn}__text`,children:n||l("general:loading")})]}),e[3]=n,e[4]=l,e[5]=d,e[6]=f,e[7]=m):m=e[7],m},PF=t=>{let e=Ev(7),{name:o,type:n,loadingText:r,show:s}=t,i=n===void 0?"fullscreen":n,{toggleLoadingOverlay:l}=xp(),a,c;return e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==l||e[4]!==i?(a=()=>(l({type:i,isLoading:s,key:o,loadingText:r||void 0}),()=>{l({type:i,isLoading:!1,key:o})}),c=[s,l,o,i,r],e[0]=o,e[1]=r,e[2]=s,e[3]=l,e[4]=i,e[5]=a,e[6]=c):(a=e[5],c=e[6]),NO.useEffect(a,c),null},LO=t=>{let e=Ev(6),{name:o,type:n,action:r,formIsLoading:s,loadingSuffix:i}=t,l=n===void 0?"fullscreen":n,a=s===void 0?!1:s,c=$r(),{i18n:u,t:d}=E(),m=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[r]} ${i?EO(i,u):""}`,p;return e[0]!==a||e[1]!==c||e[2]!==o||e[3]!==m||e[4]!==l?(p=ea(PF,{loadingText:m.trim(),name:o,show:a||c,type:l}),e[0]=a,e[1]=c,e[2]=o,e[3]=m,e[4]=l,e[5]=p):p=e[5],p};function Sr(t){if(t)try{t.abort()}catch{}}function Ir(t){let e=new AbortController;if(t.current)try{t.current.abort()}catch{}return t.current=e,e}import{jsx as $O}from"react/jsx-runtime";import{createContext as kO,use as jO}from"react";var EF=kO({}),NF=({children:t,...e})=>$O(EF,{value:e,children:t}),Au=()=>{let t=jO(EF);if(!t)throw new Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return t};var kF=({id:t,collectionSlug:e,disableActions:o,drawerSlug:n,initialData:r,onDelete:s,onDuplicate:i,onSave:l,overrideEntityVisibility:a=!0,redirectAfterCreate:c,redirectAfterDelete:u,redirectAfterDuplicate:d,redirectAfterRestore:f})=>{let{getEntityConfig:m}=W(),p=xe(),[h]=Nv(()=>m({collectionSlug:e})),g=BO.useRef(null),{closeModal:b}=ae(),{t:y}=E(),{renderDocument:v}=Nt(),[C,w]=Nv(void 0),[S,x]=Nv(!0),F=MO(!1),I=Pu((A,$=!1)=>{let P=Ir(g);(async()=>{$&&x(!0);try{let B=await v({collectionSlug:e,disableActions:o,docID:A,drawerSlug:n,initialData:r,locale:p,overrideEntityVisibility:a,redirectAfterCreate:c,redirectAfterDelete:u!==void 0?u:!1,redirectAfterDuplicate:d!==void 0?d:!1,redirectAfterRestore:f!==void 0?f:!1,signal:P.signal});B?.Document&&(w(B.Document),x(!1))}catch(B){oe.error(B?.message||y("error:unspecific")),b(n)}g.current=null})()},[e,o,n,r,u,d,f,v,c,b,a,y,p]),R=Pu(A=>{A.operation==="create"&&I(A.doc.id),typeof l=="function"&&l({...A,collectionConfig:h})},[l,h,I]),D=Pu(A=>{I(A.doc.id),typeof i=="function"&&i({...A,collectionConfig:h})},[i,h,I]),_=Pu(A=>{typeof s=="function"&&s({...A,collectionConfig:h}),b(n)},[s,b,n,h]),T=Pu(()=>{I(void 0,!0)},[I]);return $F(()=>{!C&&!F.current&&(I(t,!0),F.current=!0)},[C,I,t]),$F(()=>{let A=g.current;return()=>{Sr(A)}},[]),S?LF(mn,{}):LF(NF,{clearDoc:T,drawerSlug:n,onDelete:_,onDuplicate:D,onSave:R,children:C})};var ps="doc-drawer",WO=({id:t,collectionSlug:e,depth:o,uuid:n})=>`doc-drawer_${e}_${o}${t?`_${t}`:""}_${n}`,HO=t=>{let e=jF(2),{children:o,className:n,collectionSlug:r,disabled:s,drawerSlug:i,onClick:l,operation:a,...c}=t,{t:u}=E(),[d]=Cp(r),f=u(a==="create"?"fields:addNewLabel":"general:editLabel",{label:d?.labels.singular}),m;return e[0]!==n?(m=[n,`${ps}__toggler`].filter(Boolean),e[0]=n,e[1]=m):m=e[1],wp(as,{"aria-label":f,className:m.join(" "),disabled:s,onClick:l,slug:i,...c,children:o})},Lv=t=>{let{drawerSlug:e}=t;return wp(Tt,{className:ps,gutter:!1,Header:null,slug:e,children:wp(kF,{...t})})},Dt=t=>{let e=jF(38),{id:o,collectionSlug:n,overrideEntityVisibility:r}=t,s=ut(),i=GO(),{closeModal:l,modalState:a,openModal:c,toggleModal:u}=ae(),[d,f]=zO(!1),m;e[0]!==n||e[1]!==s||e[2]!==o||e[3]!==i?(m=WO({id:o,collectionSlug:n,depth:s,uuid:i}),e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=m):m=e[4];let p=m,h,g;e[5]!==p||e[6]!==a?(h=()=>{f(!!a[p]?.isOpen)},g=[a,p],e[5]=p,e[6]=a,e[7]=h,e[8]=g):(h=e[7],g=e[8]),VO(h,g);let b;e[9]!==p||e[10]!==u?(b=()=>{u(p)},e[9]=p,e[10]=u,e[11]=b):b=e[11];let y=b,v;e[12]!==l||e[13]!==p?(v=()=>{l(p)},e[12]=l,e[13]=p,e[14]=v):v=e[14];let C=v,w;e[15]!==p||e[16]!==c?(w=()=>{c(p)},e[15]=p,e[16]=c,e[17]=w):w=e[17];let S=w,x;e[18]!==n||e[19]!==p||e[20]!==o||e[21]!==r?(x=A=>OO(Lv,{...A,collectionSlug:n,drawerSlug:p,id:o,key:p,overrideEntityVisibility:r}),e[18]=n,e[19]=p,e[20]=o,e[21]=r,e[22]=x):x=e[22];let F=x,I;e[23]!==n||e[24]!==p||e[25]!==o?(I=A=>wp(HO,{...A,collectionSlug:n,drawerSlug:p,operation:o?"update":"create"}),e[23]=n,e[24]=p,e[25]=o,e[26]=I):I=e[26];let R=I,D;e[27]!==C||e[28]!==p||e[29]!==s||e[30]!==d||e[31]!==S||e[32]!==y?(D={closeDrawer:C,drawerDepth:s,drawerSlug:p,isDrawerOpen:d,openDrawer:S,toggleDrawer:y},e[27]=C,e[28]=p,e[29]=s,e[30]=d,e[31]=S,e[32]=y,e[33]=D):D=e[33];let _=D,T;return e[34]!==F||e[35]!==_||e[36]!==R?(T=[F,R,_],e[34]=F,e[35]=_,e[36]=R,e[37]=T):T=e[37],T};import{c as YO}from"react/compiler-runtime";import{jsx as JO}from"react/jsx-runtime";import{appendUploadSelectFields as qO}from"payload/shared";import*as MF from"qs-esm";import{createContext as QO,use as KO,useEffect as e7,useReducer as t7,useRef as o7}from"react";import{c as UO}from"react/compiler-runtime";import{useEffect as XO,useState as ZO}from"react";function pn(t,e){let o=UO(4),[n,r]=ZO(t),s,i;return o[0]!==e||o[1]!==t?(s=()=>{let l=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(l)}},i=[t,e],o[0]=e,o[1]=t,o[2]=s,o[3]=i):(s=o[2],i=o[3]),XO(s,i),n}function BF(t,e){switch(e.type){case"ADD_LOADED":{let o={...t};typeof o[e.relationTo]!="object"&&(o[e.relationTo]={});let n=[...e.idsToLoad];return Array.isArray(e.docs)&&e.docs.forEach(r=>{n.splice(n.indexOf(r.id),1),o[e.relationTo][r.id]=r}),n.forEach(r=>{o[e.relationTo][r]=!1}),o}case"REQUEST":{let o={...t};return e.docs.forEach(({relationTo:n,value:r})=>{typeof o[n]!="object"&&(o[n]={}),o[n][r]=null}),o}default:return t}}var OF=QO({}),Eu=t=>{let e=YO(16),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=t7(BF,n),i=pn(r,100),{config:l}=W(),{collections:a,routes:c,serverURL:u}=l,{api:d}=c,{i18n:f}=E(),{code:m}=xe(),p=o7(m),h;e[1]!==d||e[2]!==a||e[3]!==i||e[4]!==f||e[5]!==m||e[6]!==u?(h=S=>{let x=S===void 0?!1:S;Object.entries(i).forEach(async F=>{let[I,R]=F,D=[];if(Object.entries(R).forEach(_=>{let[T,A]=_;(A===null||x)&&D.push(T)}),D.length>0){let _=`${u}${d}/${I}`,T=new URLSearchParams,A={};T.append("depth","0"),T.append("limit","250");let $=a.find(N=>N.slug===I);if($.admin.enableListViewSelectAPI){let N=$.admin.useAsTitle??"id";A[N]=!0,$.upload&&qO({collectionConfig:$,select:A})}m&&T.append("locale",m);let P=D.map(r7);T.append("where[id][in]",P.join(","));let j=`?${T.toString()}&${MF.stringify({select:A})}`,B=await fetch(`${_}${j}`,{credentials:"include",headers:{"Accept-Language":f.language}});if(B.ok){let N=await B.json();N.docs&&s({type:"ADD_LOADED",docs:N.docs,idsToLoad:D,relationTo:I})}else s({type:"ADD_LOADED",docs:[],idsToLoad:D,relationTo:I})}})},e[1]=d,e[2]=a,e[3]=i,e[4]=f,e[5]=m,e[6]=u,e[7]=h):h=e[7];let g=h,b,y;e[8]!==g||e[9]!==m?(b=()=>{g(m&&p.current!==m),p.current=m},y=[m,g],e[8]=g,e[9]=m,e[10]=b,e[11]=y):(b=e[10],y=e[11]),e7(b,y);let v;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=S=>{s({type:"REQUEST",docs:S})},e[12]=v):v=e[12];let C=v,w;return e[13]!==o||e[14]!==r?(w=JO(OF,{value:{documents:r,getRelationships:C},children:o}),e[13]=o,e[14]=r,e[15]=w):w=e[15],w},$v=()=>KO(OF);function r7(t){return String(t)}import{jsx as Fl}from"react/jsx-runtime";import{getTranslation as n7}from"@payloadcms/translations";var kv=({allowCreate:t,baseClass:e,buttonStyle:o,className:n,collections:r,i18n:s,icon:i,label:l,onClick:a,permissions:c,relationTo:u})=>t?Array.isArray(u)?Fl("div",{className:`${e}__add-new-polymorphic-wrapper`,children:Fl(nt,{button:Fl(te,{buttonStyle:o,className:n,icon:i,children:l}),buttonType:"custom",horizontalAlign:"center",render:({close:f})=>Fl(Ie.ButtonGroup,{children:u.map(m=>c.collections[m]?.create?Fl(Ie.Button,{className:`${e}__relation-button--${m}`,onClick:()=>{f(),a(m)},children:n7(r.find(p=>p.slug===m).labels.singular,s)},m):null)}),size:"medium"})}):Fl(te,{buttonStyle:o,className:n,onClick:()=>a(),children:l}):null;import{c as O7}from"react/compiler-runtime";import{jsx as zv,jsxs as V7}from"react/jsx-runtime";import"react";import{c as j7}from"react/compiler-runtime";import{jsx as sT}from"react/jsx-runtime";import iT from"react";import{c as P7}from"react/compiler-runtime";import{jsx as Dl,jsxs as E7}from"react/jsx-runtime";import{getTranslation as N7}from"@payloadcms/translations";import{fieldAffectsData as L7,fieldIsID as $7}from"payload/shared";import"react";import{formatAdminURL as Sp}from"payload/shared";import{getTranslation as a7}from"@payloadcms/translations";import s7 from"react";var i7=Symbol.for("react.lazy");function Ip(t){return s7.isValidElement(t)||t?.$$typeof===i7}var VF=(t,e,o)=>{if((e?.type==="select"||e?.type==="radio")&&Array.isArray(e.options)){let n=e.options.find(r=>typeof r=="object"?r.value===t:r===t);if(n)return typeof n=="object"&&"label"in n?Ip(n.label)?n.label:a7(n.label,o)||n.value:n}return t};import{jsx as GF}from"react/jsx-runtime";import"react";var _p=({cellData:t,nowrap:e})=>{let o=t?.length>100?`${t.substring(0,100)}\u2026`:t;return GF("code",{className:"code-cell",style:e?{whiteSpace:"nowrap"}:{},children:GF("span",{children:o})})};import{c as l7}from"react/compiler-runtime";import{jsx as c7}from"react/jsx-runtime";import{getTranslation as zF}from"@payloadcms/translations";import"react";var WF=t=>{let e=l7(2),{cellData:o,field:n}=t,{labels:r}=n,{i18n:s}=E(),i=o??[],l=i.length===1?`${i.length} ${zF(r?.singular||s.t("general:rows"),s)}`:`${i.length} ${zF(r?.plural||s.t("general:rows"),s)}`,a;return e[0]!==l?(a=c7("span",{children:l}),e[0]=l,e[1]=a):a=e[1],a};import{c as u7}from"react/compiler-runtime";import{jsx as d7}from"react/jsx-runtime";import{getTranslation as Fp}from"@payloadcms/translations";import"react";var HF=t=>{let e=u7(2),{cellData:o,field:n}=t,{blockReferences:r,blocks:s,labels:i}=n,{i18n:l}=E(),{config:a}=W(),c=Array.isArray(o)?o.map(m7):[],u=(r??s)?.map(p=>{let h=typeof p=="string"?a.blocksMap[p]:p;return{slug:h.slug,label:Fp(h.labels.singular,l)}}),d=`0 ${Fp(i?.plural,l)}`,f=p=>p.map(h=>u.filter(b=>b.slug===h)?.[0]?.label).join(", ");if(c.length>5){let p=c.length-5;d=`${c.length} ${Fp(i?.plural,l)} - ${l.t("fields:itemsAndMore",{count:p,items:f(c.slice(0,5))})}`}else c.length>0&&(d=`${c.length} ${Fp(c.length===1?i?.singular:i?.plural,l)} - ${f(c)}`);let m;return e[0]!==d?(m=d7("span",{children:d}),e[0]=d,e[1]=m):m=e[1],m};function m7(t){let{blockType:e}=t;return e}import{c as f7}from"react/compiler-runtime";import{jsx as UF}from"react/jsx-runtime";import"react";var XF=t=>{let e=f7(3),{cellData:o}=t,{t:n}=E(),r=`general:${o}`,s;return e[0]!==n||e[1]!==r?(s=UF("code",{className:"bool-cell",children:UF("span",{children:n(r).toLowerCase()})}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};import{jsx as p7}from"react/jsx-runtime";import{getObjectDotNotation as h7}from"payload/shared";import"react";var jv=t=>{let{cellData:e,field:o,rowData:n}=t,{name:r,accessor:s,admin:i,timezone:l}=o,{date:a}=i===void 0?{}:i,{config:c}=W(),{admin:u}=c,{dateFormat:d}=u,{i18n:f}=E(),p=`${s||r}_tz`,h=l&&n?h7(n,p,void 0):void 0,g=a?.displayFormat||d;return p7("span",{children:!!e&&Br({date:e,i18n:f,pattern:g,timezone:h})})};import{jsx as Bv,jsxs as b7,Fragment as v7}from"react/jsx-runtime";import{getBestFitFromSizes as y7,isImage as C7}from"payload/shared";import"react";import{c as YF}from"react/compiler-runtime";import{jsx as Tl,jsxs as JF}from"react/jsx-runtime";import Dp from"react";import{jsx as ZF,jsxs as g7}from"react/jsx-runtime";import"react";var Tp=()=>g7("svg",{height:"150",style:{backgroundColor:"#333333"},viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[ZF("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),ZF("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]});var Rp="thumbnail",_r=t=>{let e=YF(6),{className:o,doc:n,fileSrc:r,height:s,imageCacheTag:i,size:l,width:a}=t,c=o===void 0?"":o,{filename:u}=n===void 0?{}:n,[d,f]=Dp.useState(void 0),m=`${Rp}--size-${l||"medium"}`,p;e[0]!==c||e[1]!==m?(p=[Rp,m,c],e[0]=c,e[1]=m,e[2]=p):p=e[2];let h=p.join(" "),g,b;e[3]!==r?(g=()=>{if(!r){f(!1);return}f(void 0);let v=new Image;v.src=r,v.onload=()=>{f(!0)},v.onerror=()=>{f(!1)}},b=[r],e[3]=r,e[4]=g,e[5]=b):(g=e[4],b=e[5]),Dp.useEffect(g,b);let y=null;if(r){let v=r?.includes("?")?"&":"?";y=i?`${r}${v}${encodeURIComponent(i)}`:r}return JF("div",{className:h,children:[d===void 0&&Tl(It,{height:"100%"}),d&&Tl("img",{alt:u,height:s,src:y,width:a}),d===!1&&Tl(Tp,{})]})};function qF(t){let e=YF(12),{alt:o,className:n,filename:r,fileSrc:s,imageCacheTag:i,size:l}=t,a=n===void 0?"":n,[c,u]=Dp.useState(void 0),d=`${Rp}--size-${l||"medium"}`,f;e[0]!==a||e[1]!==d?(f=[Rp,d,a],e[0]=a,e[1]=d,e[2]=f):f=e[2];let m=f.join(" "),p,h;e[3]!==s?(p=()=>{if(!s){u(!1);return}u(void 0);let y=new Image;y.src=s,y.onload=()=>{u(!0)},y.onerror=()=>{u(!1)}},h=[s],e[3]=s,e[4]=p,e[5]=h):(p=e[4],h=e[5]),Dp.useEffect(p,h);let g="";if(s){let y=s?.includes("?")?"&":"?";g=i?`${s}${y}${encodeURIComponent(i)}`:s}let b;return e[6]!==o||e[7]!==m||e[8]!==c||e[9]!==r||e[10]!==g?(b=JF("div",{className:m,children:[c===void 0&&Tl(It,{height:"100%"}),c&&Tl("img",{alt:o||r,src:g}),c===!1&&Tl(Tp,{})]}),e[6]=o,e[7]=m,e[8]=c,e[9]=r,e[10]=g,e[11]=b):b=e[11],b}var Mv="file",Ap=({cellData:t,collectionConfig:e,field:o,rowData:n})=>{if(("displayPreview"in o?o.displayPreview:void 0)??e.upload?.displayPreview??!0){let i=C7(n?.mimeType),l=i?n?.thumbnailURL||n?.url:n?.thumbnailURL;return i&&(l=y7({sizes:n?.sizes,thumbnailURL:n?.thumbnailURL,url:n?.url,width:n?.width})),b7("div",{className:Mv,children:[Bv(_r,{className:`${Mv}__thumbnail`,collectionSlug:e?.slug,doc:{...n,filename:t},fileSrc:l,size:"small",uploadConfig:e?.upload}),Bv("span",{className:`${Mv}__filename`,children:String(t)})]})}else return Bv(v7,{children:String(t)})};import{jsx as QF}from"react/jsx-runtime";import"react";var KF=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return QF("code",{className:"json-cell",children:QF("span",{children:JSON.stringify(e)})})};import{c as x7}from"react/compiler-runtime";import{jsx as w7,jsxs as tT}from"react/jsx-runtime";import{getTranslation as S7}from"@payloadcms/translations";import I7,{useEffect as oT,useState as rT}from"react";var eT=!!(typeof window<"u"&&window.document&&window.document.createElement);var _7="relationship-cell",Pp=3,Ep=t=>{let e=x7(40),{cellData:o,customCellProps:n,field:r,field:s}=t,{label:i}=s,l="relationTo"in r&&r.relationTo||"collection"in r&&r.collection,a="collection"in r?o?.docs:o,{config:c,getEntityConfig:u}=W(),{collections:d,routes:f}=c,[m,p]=ts(),h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];let[g,b]=rT(h),{documents:y,getRelationships:v}=$v(),[C,w]=rT(!1),{i18n:S,t:x}=E(),F=eT?p?.boundingClientRect?.top<window.innerHeight:!1,I;e[1]!==a||e[2]!==v||e[3]!==C||e[4]!==F||e[5]!==l?(I=()=>{if((a||typeof a=="number")&&F&&!C){let A=[],$=Array.isArray(a)?a:[a];$.slice(0,$.length<Pp?$.length:Pp).forEach(P=>{typeof P=="object"&&"relationTo"in P&&"value"in P&&A.push(P),(typeof P=="number"||typeof P=="string")&&typeof l=="string"&&A.push({relationTo:l,value:P})}),v(A),w(!0),b(A)}},e[1]=a,e[2]=v,e[3]=C,e[4]=F,e[5]=l,e[6]=I):I=e[6];let R;e[7]!==a||e[8]!==d||e[9]!==v||e[10]!==C||e[11]!==F||e[12]!==l||e[13]!==f.api?(R=[a,l,d,F,f.api,C,v],e[7]=a,e[8]=d,e[9]=v,e[10]=C,e[11]=F,e[12]=l,e[13]=f.api,e[14]=R):R=e[14],oT(I,R);let D;e[15]!==C?(D=()=>{C&&w(!1)},e[15]=C,e[16]=D):D=e[16];let _;e[17]!==a?(_=[a],e[17]=a,e[18]=_):_=e[18],oT(D,_);let T;if(e[19]!==a||e[20]!==c.admin||e[21]!==n||e[22]!==y||e[23]!==r||e[24]!==u||e[25]!==S||e[26]!==m||e[27]!==i||e[28]!==x||e[29]!==g){let A;e[31]!==c.admin||e[32]!==n||e[33]!==y||e[34]!==r||e[35]!==u||e[36]!==S||e[37]!==x||e[38]!==g.length?(A=($,P)=>{let{relationTo:j,value:B}=$,N=y[j][B],L=u({collectionSlug:j}),M=Wo({collectionConfig:L,data:N||null,dateFormat:c.admin.dateFormat,fallback:`${x("general:untitled")} - ID: ${B}`,i18n:S}),k=null;return r.type==="upload"&&(("displayPreview"in r?r.displayPreview:void 0)??L.upload?.displayPreview??!0)&&N&&(k=w7(Ap,{cellData:M,collectionConfig:L,collectionSlug:L.slug,customCellProps:n,field:r,rowData:N})),tT(I7.Fragment,{children:[N===!1&&`${x("general:untitled")} - ID: ${B}`,N===null&&`${x("general:loading")}...`,N?k||M:null,g.length>P+1&&", "]},P)},e[31]=c.admin,e[32]=n,e[33]=y,e[34]=r,e[35]=u,e[36]=S,e[37]=x,e[38]=g.length,e[39]=A):A=e[39],T=tT("div",{className:_7,ref:m,children:[g.map(A),Array.isArray(a)&&a.length>Pp&&x("fields:itemsAndMore",{count:a.length-Pp,items:""}),g.length===0&&x("general:noLabel",{label:S7(i||"",S)})]}),e[19]=a,e[20]=c.admin,e[21]=n,e[22]=y,e[23]=r,e[24]=u,e[25]=S,e[26]=m,e[27]=i,e[28]=x,e[29]=g,e[30]=T}else T=e[30];return T};import{c as F7}from"react/compiler-runtime";import{jsx as T7}from"react/jsx-runtime";import{getTranslation as D7}from"@payloadcms/translations";import{optionsAreObjects as R7}from"payload/shared";import"react";var Ov=t=>{let e=F7(7),{cellData:o,field:n}=t,{options:r}=n,{i18n:s}=E(),i;e[0]!==s||e[1]!==r?(i=c=>c.map(u=>{let d=r.filter(f=>f.value===u)?.[0]?.label;return D7(d,s)}).join(", "),e[0]=s,e[1]=r,e[2]=i):i=e[2];let l=i,a;if(e[3]!==o||e[4]!==l||e[5]!==r){let c;R7(r)?c=Array.isArray(o)?l(o):l([o]):c=Array.isArray(o)?o.join(", "):o,a=T7("span",{children:c}),e[3]=o,e[4]=l,e[5]=r,e[6]=a}else a=e[6];return a};import{jsx as A7}from"react/jsx-runtime";import"react";var nT=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return A7("span",{children:e})};var Vv={array:WF,blocks:HF,checkbox:XF,code:_p,date:jv,File:Ap,join:Ep,json:KF,radio:Ov,relationship:Ep,select:Ov,textarea:nT,upload:Ep};var Nu=t=>{let e=P7(16),{cellData:o,className:n,collectionSlug:r,field:s,field:i,link:l,linkURL:a,onClick:c,rowData:u,viewType:d}=t,{admin:f}=i,{i18n:m}=E(),{config:p,getEntityConfig:h}=W(),{routes:g}=p,{admin:b}=g,y,v;if(e[0]!==f||e[1]!==b||e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==h||e[7]!==m||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==t||e[12]!==u||e[13]!==d){v=Symbol.for("react.early_return_sentinel");e:{let C=h({collectionSlug:r}),w=f&&"className"in f?f.className:void 0,S=n||(s.admin&&"className"in s.admin?s.admin.className:null)||w,x=c,F="span",I={className:S};if(l&&(I.prefetch=!1,F=Xt,a?I.href=a:I.href=C?.slug?Sp({adminRoute:b,path:`/collections/${C?.slug}${d==="trash"?"/trash":""}/${encodeURIComponent(u.id)}`}):""),typeof x=="function"&&(F="button",I.type="button",I.onClick=()=>{x({cellData:o,collectionSlug:C?.slug,rowData:u})}),$7(s)){v=Dl(F,{...I,children:Dl(_p,{cellData:`ID: ${o}`,collectionConfig:C,collectionSlug:r,field:{...s,type:"code"},nowrap:!0,rowData:u})});break e}let R=VF(o,s,m),D=typeof o<"u"&&Vv[s.type],_=null;if(Ip(R))_=R;else if(D)_=Dl(D,{cellData:o,rowData:u,...t});else if(!D)if(C?.upload&&L7(s)&&s.name==="filename"&&s.type==="text"){let T=Vv.File;_=Dl(T,{cellData:o,rowData:u,...t,collectionConfig:C,field:s})}else{v=E7(F,{...I,children:[(R===""||typeof R>"u"||R===null)&&m.t("general:noLabel",{label:N7(("label"in s?s.label:null)||"data",m)}),typeof R=="string"&&R,typeof R=="number"&&R,typeof R=="object"&&R!==null&&JSON.stringify(R)]});break e}if((s.type==="select"||s.type==="radio")&&s.options.length&&o){let T=Array.isArray(o)?o.map(k7).join(" "):`selected--${o}`,A=[I.className,T].filter(Boolean).join(" ");v=Dl(F,{...I,className:A,children:_});break e}y=Dl(F,{...I,children:_})}e[0]=f,e[1]=b,e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=h,e[7]=m,e[8]=l,e[9]=a,e[10]=c,e[11]=t,e[12]=u,e[13]=d,e[14]=y,e[15]=v}else y=e[14],v=e[15];return v!==Symbol.for("react.early_return_sentinel")?v:y};function k7(t){return`selected--${t}`}var B7="default-cell",aT=iT.createContext(null),Gv=()=>iT.use(aT),M7=t=>{let e=j7(9),{clientProps:o,columnIndex:n,isLinkedColumn:r}=t,{drawerSlug:s,onSelect:i}=wr(),{LinkedCellOverride:l}=Il(),a;if(e[0]!==l||e[1]!==o||e[2]!==n||e[3]!==s||e[4]!==r||e[5]!==i){let c={...o,columnIndex:n};if(r&&s){c.className=`${B7}__first-cell`,c.link=!1;let u;e[7]!==i?(u=d=>{let{collectionSlug:f,rowData:m}=d;typeof i=="function"&&i({collectionSlug:f,doc:m,docID:m.id})},e[7]=i,e[8]=u):u=e[8],c.onClick=u}a=sT(aT,{value:c,children:r&&l?l:sT(Nu,{...c})}),e[0]=l,e[1]=o,e[2]=n,e[3]=s,e[4]=r,e[5]=i,e[6]=a}else a=e[6];return a};var lT=t=>{let e=O7(3),{onDrawerOpen:o}=t,n=Gv(),r;return e[0]!==n||e[1]!==o?(r=V7("div",{className:"drawer-link",children:[zv(Nu,{...n,className:"drawer-link__cell",link:!1,onClick:null}),zv("button",{className:"drawer-link__doc-drawer-toggler",onClick:()=>{o(n.rowData.id)},type:"button",children:zv(hr,{})})]}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r};import{c as U7}from"react/compiler-runtime";import{jsx as X7}from"react/jsx-runtime";import"react";import{jsx as Uv}from"react/jsx-runtime";import"react";import{jsx as cT}from"react/jsx-runtime";import"react";var Wv="clickable-arrow",uT=t=>{let{direction:e="right",isDisabled:o=!1,updatePage:n}=t,r=[Wv,o&&`${Wv}--is-disabled`,e&&`${Wv}--${e}`].filter(Boolean).join(" ");return cT("button",{className:r,disabled:o,onClick:o?void 0:n,type:"button",children:cT(He,{})})};import{jsx as G7}from"react/jsx-runtime";import"react";var Np="paginator__page",Hv=({isCurrent:t,isFirstPage:e=!1,isLastPage:o=!1,page:n=1,updatePage:r})=>{let s=[Np,t&&`${Np}--is-current`,e&&`${Np}--is-first-page`,o&&`${Np}--is-last-page`].filter(Boolean).join(" ");return G7("button",{className:s,onClick:()=>r(n),type:"button",children:n})};import{jsx as z7}from"react/jsx-runtime";import"react";var dT=()=>z7("span",{className:"paginator__separator",children:"\u2014"});var W7={ClickableArrow:uT,Page:Hv,Separator:dT},H7="paginator",Lu=t=>{let{hasNextPage:e=!1,hasPrevPage:o=!1,nextPage:n=null,numberOfNeighbors:r=1,onChange:s,page:i,prevPage:l=null,totalPages:a=null}=t;if(!o&&!e)return null;let c=p=>{typeof s=="function"&&s(p)},u=Array.from({length:a},(p,h)=>h+1),d=i-1-r;d<=0&&(d=0);let f=i-1+r+1,m=u.slice(d,f);return i-r-1>=2&&m.unshift({type:"Separator"}),i>r+1&&m.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+r+1<a&&m.push({type:"Separator"}),f<a&&m.push({type:"Page",props:{isLastPage:!0,page:a,updatePage:c}}),m.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!e,updatePage:()=>c(n??i+1)}}),m.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!o,updatePage:()=>c(l??Math.max(1,i-1))}}),Uv("div",{className:H7,children:m.map((p,h)=>{if(typeof p=="number")return Uv(Hv,{isCurrent:i===p,page:p,updatePage:c},h);let g=W7[p.type];return Uv(g,{...p.props},h)})})};var mT=()=>{let t=U7(11),{data:e,handlePageChange:o}=lt(),n=e.nextPage||2,r;t[0]!==o?(r=a=>{o(a)},t[0]=o,t[1]=r):r=t[1];let s=e.page||1,i=e.prevPage||void 0,l;return t[2]!==e.hasNextPage||t[3]!==e.hasPrevPage||t[4]!==e.limit||t[5]!==e.totalPages||t[6]!==n||t[7]!==r||t[8]!==s||t[9]!==i?(l=X7(Lu,{hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,limit:e.limit,nextPage:n,numberOfNeighbors:1,onChange:r,page:s,prevPage:i,totalPages:e.totalPages}),t[2]=e.hasNextPage,t[3]=e.hasPrevPage,t[4]=e.limit,t[5]=e.totalPages,t[6]=n,t[7]=r,t[8]=s,t[9]=i,t[10]=l):l=t[10],l};var Fr="relationship-table",Xv=t=>{let{AfterInput:e,allowCreate:o=!0,BeforeInput:n,disableTable:r=!1,field:s,fieldPath:i,filterOptions:l,initialData:a,initialDrawerData:c,Label:u,parent:d,relationTo:f}=t,[m,p]=hs(null),{config:h,getEntityConfig:g}=W(),{i18n:b,t:y}=E(),[v,C]=hs(),[w,S]=hs(!1),[x]=hs(()=>g({collectionSlug:f})),F=Array.isArray(f),[I,R]=hs(F?void 0:f),{permissions:D}=_e(),_=q7(!1),[T,A]=hs(void 0),[$,,{closeDrawer:P,isDrawerOpen:j,openDrawer:B}]=Dt({id:T,collectionSlug:I}),[N,L]=hs(!r),[M,k]=hs(()=>a?{...a,docs:Array.isArray(a.docs)?a.docs.reduce((re,ce)=>typeof ce=="string"||typeof ce=="number"?[...re,{id:ce}]:[...re,ce],[]):[]}:void 0),[O,V]=hs(),{getTableState:G}=Nt(),H=Lp(async re=>{let ce={limit:s?.defaultLimit||x?.admin?.pagination?.defaultLimit,sort:s.defaultSort||x?.defaultSort,...v||{},where:{...v?.where||{}}};l&&(ce.where=Z7(ce.where,l));let ge=s.admin.defaultColumns?s.admin.defaultColumns.map(he=>({accessor:he,active:!0})):void 0,de=typeof s.admin.disableRowTypes=="boolean"?!s.admin.disableRowTypes:Array.isArray(f),{data:me,state:Oe,Table:Te}=await G({collectionSlug:f,columns:pT(v?.columns)||ge,data:re,enableRowSelections:!1,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,parent:d,query:ce,renderRowTypes:de,tableAppearance:"condensed"});k(me),p(Te),V(Oe),L(!1)},[s.defaultLimit,s.defaultSort,s.admin.defaultColumns,s.admin.disableRowTypes,s.collection,s.name,s.orderable,x?.admin?.pagination?.defaultLimit,x?.defaultSort,v,l,G,f,d]),z=vt((re,ce)=>{!ce&&(!m||re)&&H()});$u(()=>{z(v,r)},[v,r]);let Q=Lp(({doc:re,operation:ce})=>{ce==="create"&&P();let ge=M?.docs?.findIndex(me=>me.id===re.id),de={docs:[]};if(ge!==-1){let me=[...M.docs];me[ge]=re,de.docs=me}else de.docs=[re,...M.docs];H(de)},[M?.docs,H,P]),J=Lp(re=>{let ce=M.docs.filter(ge=>ge.id!==re.id);H({...M,docs:ce}),A(void 0)},[M,H]),X=Lp(re=>{_.current=!0,A(re||void 0)},[]);$u(()=>{_.current&&(_.current=!1,B())},[B]),$u(()=>{j||A(void 0)},[j]);let ie=o!==!1&&D?.collections?.[F?f[0]:f]?.create;$u(()=>{F&&I&&B()},[I,B,F]),$u(()=>{F&&!j&&I&&R(void 0)},[j]);let U=Y7.useMemo(()=>({columns:pT(O)?.map(({accessor:re})=>re),limit:s.defaultLimit??x?.admin?.pagination?.defaultLimit,sort:s.defaultSort??x?.defaultSort}),[O,s,x]);return Rl("div",{className:Fr,children:[Rl("div",{className:`${Fr}__header`,children:[u,Rl("div",{className:`${Fr}__actions`,children:[sr(kv,{allowCreate:o!==!1,baseClass:Fr,buttonStyle:"none",className:`${Fr}__add-new${F?"-polymorphic":" doc-drawer__toggler"}`,collections:h.collections,i18n:b,icon:F?"plus":void 0,label:b.t("fields:addNew"),onClick:F?R:B,permissions:D,relationTo:f}),sr(it,{"aria-controls":`${Fr}-columns`,"aria-expanded":w,className:`${Fr}__toggle-columns ${w?`${Fr}__buttons-active`:""}`,icon:sr(He,{direction:w?"up":"down"}),onClick:()=>S(!w),pillStyle:"light",size:"small",children:y("general:columns")})]})]}),n,N?sr("p",{children:y("general:loading")}):Rl(J7,{children:[M?.docs&&M.docs.length===0&&Rl("div",{className:`${Fr}__no-results`,children:[sr("p",{children:b.t("general:noResults",{label:F?b.t("general:documents"):fT(x?.labels?.plural,b)})}),sr(kv,{allowCreate:ie,baseClass:Fr,collections:h.collections,i18n:b,label:b.t("general:createNewLabel",{label:F?b.t("general:document"):fT(x?.labels?.singular,b)}),onClick:F?R:B,permissions:D,relationTo:f})]}),M?.docs&&M.docs.length>0&&sr(Eu,{children:sr(Sv,{data:M,modifySearchParams:!1,onQueryChange:C,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${i.replaceAll(".","_")}_order`,query:U,children:Rl(Du,{collectionSlug:F?f[0]:f,columnState:O,LinkedCellOverride:sr(lT,{currentDrawerID:T,onDrawerOpen:X}),children:[sr(Cr,{className:`${Fr}__columns`,height:w?"auto":0,id:`${Fr}-columns`,children:sr("div",{className:`${Fr}__columns-inner`,children:x&&sr(yp,{collectionSlug:x.slug})})}),m,sr(mT,{})]})})})]}),e,sr($,{initialData:c,onDelete:J,onSave:Q})]})};var gT="default"in $p.default?$p.default.default:$p.default,kp=({collectionSlug:t,config:e,docID:o,fields:n,segments:r})=>{let s=e8(n,{keepPresentationalFields:!0}),i=r[0],l=s.find(c=>c.name===i);if(!l)return null;if(l.type==="relationship"||l.type==="upload"){let c=o;return Array.isArray(l.relationTo)&&(c={relationTo:t,value:o}),{[l.name]:l.hasMany?[c]:c}}let a=r.slice(1,r.length);if(l.type==="tab"||l.type==="group"&&K7(l))return{[l.name]:kp({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a})};if(l.type==="array"){let c=kp({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a});return c.id=gT().toHexString(),{[l.name]:[c]}}if(l.type==="blocks")for(let c of l.blockReferences??l.blocks){let u=typeof c=="string"?e.blocksMap[c]:c,d=kp({collectionSlug:t,config:e,docID:o,fields:u.fields,segments:a});if(d)return d.id=gT().toHexString(),d.blockType=u.slug,{[l.name]:[d]}}},t8=t=>{let{field:e,field:{admin:{allowCreate:o,description:n},collection:r,label:s,localized:i,on:l,required:a},path:c}=t,{id:u,docConfig:d}=Ne(),{config:f,getEntityConfig:m}=W(),{customComponents:{AfterInput:p,BeforeInput:h,Description:g,Error:b,Label:y}={},path:v,showError:C,value:w}=$e({potentiallyStalePath:c}),S=hT(()=>{if(!u)return null;let F=u;Array.isArray(e.targetField.relationTo)&&(F={relationTo:d.slug,value:F});let I=Array.isArray(r)?{}:{[l]:{equals:F}};return e.where?{and:[I,e.where]}:I},[u,r,e.targetField.relationTo,e.where,l,d?.slug]),x=hT(()=>{let F=m({collectionSlug:Array.isArray(e.collection)?e.collection[0]:e.collection});return kp({collectionSlug:d?.slug,config:f,docID:u,fields:F?.fields,segments:e.on.split(".")})},[m,e.collection,e.on,d?.slug,u,f]);return d?Q7("div",{className:[ke,C&&"error","join"].filter(Boolean).join(" "),id:`field-${v?.replace(/\./g,"__")}`,children:[ta(ue,{CustomComponent:b,Fallback:ta(Ye,{path:v,showError:C})}),ta(Xv,{AfterInput:p,allowCreate:typeof u<"u"&&o,BeforeInput:h,disableTable:S===null,field:e,fieldPath:v,filterOptions:S,initialData:u&&w?w:{docs:[]},initialDrawerData:x,Label:ta("h4",{style:{margin:0},children:y||ta(Fe,{label:s,localized:i,path:v,required:a})}),parent:Array.isArray(r)?{id:u,collectionSlug:d.slug,joinPath:v}:void 0,relationTo:r}),ta(ue,{CustomComponent:g,Fallback:ta(Ue,{description:n,path:v})})]}):null},ku=We(t8);import{jsx as oa,jsxs as bT}from"react/jsx-runtime";import vT,{useCallback as jp,useEffect as o8,useMemo as r8,useState as yT}from"react";var n8="json-field",s8=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,maxHeight:s}={},jsonSchema:i,label:l,localized:a,required:c},path:u,readOnly:d,validate:f}=t,{insertSpaces:m=Yg.insertSpaces,tabSize:p=Yg.tabSize}=r||{},h=jp(M=>{if(M!==void 0)return M===null?"":m?JSON.stringify(M,null,p):JSON.stringify(M,null,"	")},[p,m]),[g,b]=yT(),y=vT.useRef("formState"),[v,C]=yT(Date.now()),w=jp((M,k)=>{if(typeof f=="function")return f(M,{...k,jsonError:g,required:c})},[f,c,g]),{customComponents:{AfterInput:S,BeforeInput:x,Description:F,Error:I,Label:R}={},disabled:D,initialValue:_,path:T,setValue:A,showError:$,value:P}=$e({potentiallyStalePath:u,validate:w}),j=vT.useRef(h(P??_)),B=jp((M,k)=>{if(!i)return;k.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...k.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let O=i.uri,V=O.includes("?")?`${O}&${crypto.randomUUID?crypto.randomUUID():an()}`:`${O}?${crypto.randomUUID?crypto.randomUUID():an()}`;M.setModel(k.editor.createModel(h(P)||"","json",k.Uri.parse(V)))},[i,h,P]),N=jp(M=>{if(!(d||D)){y.current="internalEditor";try{A(M?JSON.parse(M):null),j.current=M,b(void 0)}catch(k){A(M||null),j.current=M,b(k)}}},[d,D,A]);o8(()=>{if(y.current==="formState"){let M=h(P??_);M!==j.current&&(j.current=M,C(Date.now()))}y.current="formState"},[_,T,h,P]);let L=r8(()=>Ke(e),[e]);return bT("div",{className:[ke,n8,o,$&&"error",(d||D)&&"read-only"].filter(Boolean).join(" "),style:L,children:[oa(ue,{CustomComponent:R,Fallback:oa(Fe,{label:l,localized:a,path:T,required:c})}),bT("div",{className:`${ke}__wrap`,children:[oa(ue,{CustomComponent:I,Fallback:oa(Ye,{message:g,path:T,showError:$})}),x,oa(nu,{defaultLanguage:"json",maxHeight:s,onChange:N,onMount:B,options:r,readOnly:d||D,recalculatedHeightAt:v,value:j.current,wrapperProps:{id:`field-${T?.replace(/\./g,"__")}`}}),S]}),oa(ue,{CustomComponent:F,Fallback:oa(Ue,{description:n,path:T})})]})},ju=We(s8);import{jsx as gs,jsxs as CT}from"react/jsx-runtime";import{getTranslation as i8}from"@payloadcms/translations";import{isNumber as a8}from"payload/shared";import{useCallback as Zv,useEffect as l8,useMemo as c8,useState as u8}from"react";var d8=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s=1}={},hasMany:i=!1,label:l,localized:a,max:c=1/0,maxRows:u=1/0,min:d=-1/0,required:f},onChange:m,path:p,readOnly:h,validate:g}=t,{i18n:b,t:y}=E(),v=Zv((L,M)=>{if(typeof g=="function")return g(L,{...M,max:c,min:d,required:f})},[g,d,c,f]),{customComponents:{AfterInput:C,BeforeInput:w,Description:S,Error:x,Label:F}={},disabled:I,path:R,setValue:D,showError:_,value:T}=$e({potentiallyStalePath:p,validate:v}),A=Zv(L=>{let M=parseFloat(L.target.value),k=M;Number.isNaN(M)&&(k=null),typeof m=="function"&&m(k),D(k)},[m,D]),[$,P]=u8([]),j=Zv(L=>{if(!(h||I)){let M;L?Array.isArray(L)?M=L.map(k=>Number(k.value?.value||k.value)):M=[Number(L.value?.value||L.value)]:M=[],D(M)}},[h,I,D]);l8(()=>{i&&Array.isArray(T)&&P(T.map((L,M)=>({id:`${L}${M}`,label:`${L}`,value:{toString:()=>`${L}${M}`,value:L?.value||L}})))},[T,i]);let B=c8(()=>Ke(e),[e]),N=i8(r,b);return CT("div",{className:[ke,"number",o,_&&"error",(h||I)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:B,children:[gs(ue,{CustomComponent:F,Fallback:gs(Fe,{label:l,localized:a,path:R,required:f})}),CT("div",{className:`${ke}__wrap`,children:[gs(ue,{CustomComponent:x,Fallback:gs(Ye,{path:R,showError:_})}),w,i?gs(ft,{className:`field-${R.replace(/\./g,"__")}`,disabled:h||I,filterOption:(L,M)=>{let k=Array.isArray(T)&&T.length>=u;return a8(M)&&!k},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(T)&&T.length>=u?y("validation:limitReached",{max:u,value:T.length+1}):null,onChange:j,options:[],placeholder:N,showError:_,value:$}):gs("div",{children:gs("input",{disabled:h||I,id:`field-${R.replace(/\./g,"__")}`,max:c,min:d,name:R,onChange:A,onWheel:L=>{L.target.blur()},placeholder:N,step:s,type:"number",value:typeof T=="number"?T:""})}),C,gs(ue,{CustomComponent:S,Fallback:gs(Ue,{description:n,path:R})})]})]})},Bu=We(d8);import{jsx as En,jsxs as Al}from"react/jsx-runtime";import{getTranslation as Yv}from"@payloadcms/translations";import{useCallback as xT,useMemo as m8}from"react";var wT="point",f8=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s}={},label:i,localized:l,required:a},path:c,readOnly:u,validate:d}=t,{i18n:f,t:m}=E(),p=xT((_,T)=>{if(typeof d=="function")return d(_,{...T,required:a})},[d,a]),{customComponents:{AfterInput:h,BeforeInput:g,Description:b,Error:y,Label:v}={},disabled:C,path:w,setValue:S,showError:x,value:F=[null,null]}=$e({potentiallyStalePath:c,validate:p}),I=xT((_,T)=>{let A=parseFloat(_.target.value);Number.isNaN(A)&&(A=_.target.value);let $=[...F];$[T]=A,S($)},[S,F]),R=_=>{let T=m(_==="longitude"?"fields:longitude":"fields:latitude"),A=i?Yv(i,f):"";return`${A}${A?" - ":""}${T}`},D=m8(()=>Ke(e),[e]);return Al("div",{className:[ke,wT,o,x&&"error",(u||C)&&"read-only"].filter(Boolean).join(" "),style:D,children:[Al("ul",{className:`${wT}__wrap`,children:[Al("li",{children:[En(ue,{CustomComponent:v,Fallback:En(Fe,{label:R("longitude"),localized:l,path:w,required:a})}),Al("div",{className:"input-wrapper",children:[g,En("input",{disabled:u||C,id:`field-longitude-${w?.replace(/\./g,"__")}`,name:`${w}.longitude`,onChange:_=>I(_,0),placeholder:Yv(r,f),step:s,type:"number",value:F&&typeof F[0]=="number"?F[0]:""}),h]})]}),Al("li",{children:[En(ue,{CustomComponent:v,Fallback:En(Fe,{label:R("latitude"),localized:l,path:w,required:a})}),Al("div",{className:"input-wrapper",children:[En(ue,{CustomComponent:y,Fallback:En(Ye,{path:w,showError:x})}),g,En("input",{disabled:u||C,id:`field-latitude-${w?.replace(/\./g,"__")}`,name:`${w}.latitude`,onChange:_=>I(_,1),placeholder:Yv(r,f),step:s,type:"number",value:F&&typeof F[1]=="number"?F[1]:""}),h]})]})]}),En(ue,{CustomComponent:b,Fallback:En(Ue,{description:n,path:w})})]})},Mu=We(f8);import{jsx as bs,jsxs as ST}from"react/jsx-runtime";import{optionIsObject as IT}from"payload/shared";import{useCallback as b8,useMemo as v8}from"react";import{c as p8}from"react/compiler-runtime";import{jsx as Bp,jsxs as h8}from"react/jsx-runtime";import{getTranslation as g8}from"@payloadcms/translations";import"react";var Ou="radio-input",Vu=t=>{let e=p8(16),{isSelected:o,onChange:n,option:r,path:s,readOnly:i,uuid:l}=t,{i18n:a}=E(),c=ut(),u=`field-${s}-${r.value}${c>1?`-${c}`:""}${l?`-${l}`:""}`,d=o&&`${Ou}--is-selected`,f;e[0]!==d?(f=[Ou,d].filter(Boolean),e[0]=d,e[1]=f):f=e[1];let m=f.join(" "),p;e[2]!==n||e[3]!==r.value?(p=()=>typeof n=="function"?n(r.value):null,e[2]=n,e[3]=r.value,e[4]=p):p=e[4];let h;if(e[5]!==a||e[6]!==u||e[7]!==o||e[8]!==r.label||e[9]!==s||e[10]!==i||e[11]!==m||e[12]!==p){let g=Bp("input",{checked:o,disabled:i,id:u,name:s,onChange:p,type:"radio"}),b=i&&`${Ou}__styled-radio--disabled`,y;e[14]!==b?(y=[`${Ou}__styled-radio`,b].filter(Boolean),e[14]=b,e[15]=y):y=e[15],h=Bp("label",{htmlFor:u,children:h8("div",{className:m,children:[g,Bp("span",{className:y.join(" ")}),Bp("span",{className:`${Ou}__label`,children:g8(r.label,a)})]})}),e[5]=a,e[6]=u,e[7]=o,e[8]=r.label,e[9]=s,e[10]=i,e[11]=m,e[12]=p,e[13]=h}else h=e[13];return h};var Mp="radio-group",y8=t=>{let{disableModifyingForm:e,field:o,field:{admin:{className:n,description:r,layout:s="horizontal"}={},label:i,localized:l,options:a=[],required:c}={},onChange:u,path:d,readOnly:f,validate:m,value:p}=t,{uuid:h}=Ge(),g=b8((T,A)=>{if(typeof m=="function")return m(T,{...A,options:a,required:c})},[m,a,c]),{customComponents:{AfterInput:b,BeforeInput:y,Description:v,Error:C,Label:w}={},disabled:S,path:x,setValue:F,showError:I,value:R}=$e({potentiallyStalePath:d,validate:g}),D=R||p,_=v8(()=>Ke(o),[o]);return ST("div",{className:[ke,Mp,n,`${Mp}--layout-${s}`,I&&"error",(f||S)&&`${Mp}--read-only`].filter(Boolean).join(" "),style:_,children:[bs(ue,{CustomComponent:C,Fallback:bs(Ye,{path:x,showError:I})}),bs(ue,{CustomComponent:w,Fallback:bs(Fe,{label:i,localized:l,path:x,required:c})}),ST("div",{className:`${ke}__wrap`,children:[y,bs("ul",{className:`${Mp}--group`,id:`field-${x.replace(/\./g,"__")}`,children:a.map(T=>{let A="";IT(T)?A=T.value:A=T;let $=String(A)===String(D),P=`field-${x}-${A}${h?`-${h}`:""}`;return bs("li",{children:bs(Vu,{id:P,isSelected:$,onChange:()=>{typeof u=="function"&&u(A),f||S||F(A,!!e)},option:IT(T)?T:{label:T,value:T},path:x,readOnly:f||S,uuid:h})},`${x} - ${A}`)})}),b,bs(ue,{CustomComponent:v,Fallback:bs(Ue,{description:r,path:x})})]})]})},Gu=We(y8);import{jsx as J8}from"react/jsx-runtime";import n0,{useCallback as s0,useMemo as q8}from"react";import{jsx as hn,jsxs as t0}from"react/jsx-runtime";import{dequal as H8}from"dequal/lite";import{formatAdminURL as U8,wordBoundariesRegex as X8}from"payload/shared";import*as o0 from"qs-esm";import{useCallback as oi,useEffect as Uu,useMemo as Z8,useReducer as Y8,useRef as Xu,useState as ri}from"react";import{c as C8}from"react/compiler-runtime";import{jsx as Nn,jsxs as Op}from"react/jsx-runtime";import{getTranslation as _T}from"@payloadcms/translations";import{Fragment as Jv,useEffect as Vp,useState as zu}from"react";var Pl="relationship-add-new",FT=t=>{let e=C8(47),{Button:o,hasMany:n,onChange:r,path:s,relationTo:i,unstyled:l,value:a}=t,c=Cp(i),{permissions:u}=_e(),[d,f]=zu(!1),[m,p]=zu(),h=c.length>1,g;e[0]!==c[0]||e[1]!==h?(g=()=>h?void 0:c[0],e[0]=c[0],e[1]=h,e[2]=g):g=e[2];let[b,y]=zu(g),[v,C]=zu(!1),{i18n:w,t:S}=E(),[x,F]=zu(!1),I=b?.slug,R;e[3]!==I?(R={collectionSlug:I},e[3]=I,e[4]=R):R=e[4];let[D,_,T]=Dt(R),{isDrawerOpen:A,toggleDrawer:$}=T,P;e[5]!==b||e[6]!==n||e[7]!==r||e[8]!==c[0]||e[9]!==a?(P=ie=>{let{doc:U,operation:re}=ie,ce=typeof b?.versions?.drafts=="object"?b.versions.drafts.autosave:!1;if(re==="create"||re==="update"&&ce){let ge;a?ge=Array.isArray(a)?!a.some(de=>de&&de.value===U.id):a.value!==U.id:ge=!0,ge&&r(n===!0?[...Array.isArray(a)?a:[],{relationTo:b?.slug,value:U.id}]:{relationTo:c[0].slug,value:U.id}),p(void 0)}},e[5]=b,e[6]=n,e[7]=r,e[8]=c[0],e[9]=a,e[10]=P):P=e[10];let j=P,B;e[11]===Symbol.for("react.memo_cache_sentinel")?(B=ie=>{C(ie)},e[11]=B):B=e[11];let N=B,L,M;e[12]!==u||e[13]!==c?(L=()=>{u&&(c.length===1?f(u.collections[c[0]?.slug]?.create):f(c.some(ie=>u.collections[ie?.slug]?.create)))},M=[u,c],e[12]=u,e[13]=c,e[14]=L,e[15]=M):(L=e[14],M=e[15]),Vp(L,M);let k,O;e[16]!==c||e[17]!==h||e[18]!==m?(O=()=>{h&&m&&y(c.find(ie=>ie?.slug===m))},k=[m,h,c],e[16]=c,e[17]=h,e[18]=m,e[19]=k,e[20]=O):(k=e[19],O=e[20]),Vp(O,k);let V,G;e[21]!==b||e[22]!==h||e[23]!==$?(V=()=>{h&&b&&($(),p(void 0))},G=[$,h,b],e[21]=b,e[22]=h,e[23]=$,e[24]=V,e[25]=G):(V=e[24],G=e[25]),Vp(V,G);let H,z;e[26]!==A||e[27]!==h?(H=()=>{h&&!A&&y(void 0)},z=[A,h],e[26]=A,e[27]=h,e[28]=H,e[29]=z):(H=e[28],z=e[29]),Vp(H,z);let Q=c[0]?.labels.singular,J,X;if(e[30]!==o||e[31]!==D||e[32]!==_||e[33]!==b||e[34]!==w||e[35]!==j||e[36]!==s||e[37]!==u||e[38]!==v||e[39]!==c||e[40]!==d||e[41]!==x||e[42]!==S||e[43]!==Q||e[44]!==l){X=Symbol.for("react.early_return_sentinel");e:{let ie=S("fields:addNewLabel",{label:_T(Q,w)});if(!d){X=null;break e}J=Op("div",{className:Pl,id:`${s}-add-new`,children:[c.length===1&&Op(Jv,{children:[Nn(_,{className:[`${Pl}__add-button`,l&&`${Pl}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>{F(!1)},onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:o||Op(Jv,{children:[Nn(To,{className:`${Pl}__tooltip`,show:x,children:ie}),Nn(tr,{})]})}),Nn(D,{onSave:j})]}),c.length>1&&Op(Jv,{children:[Nn(nt,{button:o||Nn(te,{buttonStyle:"none",className:`${Pl}__add-button`,tooltip:v?void 0:S("fields:addNew"),children:Nn(tr,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:N,render:U=>{let{close:re}=U;return Nn(yb,{children:c.map(ce=>u.collections[ce?.slug].create?Nn(Cb,{className:`${Pl}__relation-button--${ce?.slug}`,onClick:()=>{re(),p(ce?.slug)},children:_T(ce?.labels?.singular,w)},ce?.slug):null)})},size:"medium"}),b&&u.collections[b?.slug]?.create&&Nn(D,{onSave:j})]})]})}e[30]=o,e[31]=D,e[32]=_,e[33]=b,e[34]=w,e[35]=j,e[36]=s,e[37]=u,e[38]=v,e[39]=c,e[40]=d,e[41]=x,e[42]=S,e[43]=Q,e[44]=l,e[45]=J,e[46]=X}else J=e[45],X=e[46];return X!==Symbol.for("react.early_return_sentinel")?X:J};import{c as S8}from"react/compiler-runtime";import{jsx as Gp}from"react/jsx-runtime";import{createElement as I8}from"react";import{useEffect as AT,useId as _8,useState as PT}from"react";import{jsx as TT,jsxs as x8}from"react/jsx-runtime";import{hoistQueryParamsToAnd as w8}from"payload/shared";import{useCallback as Wu,useEffect as DT,useState as qv}from"react";var RT=({allowCreate:t=!0,collectionSlugs:e,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,filterOptions:s,onBulkSelect:i,onSelect:l,overrideEntityVisibility:a=!0,selectedCollection:c})=>{let{closeModal:u,isModalOpen:d}=ae(),{serverFunction:f}=Nt(),[m,p]=qv(void 0),[h,g]=qv(!0),{config:{collections:b},getEntityConfig:y}=W(),v=d(n),C=b.filter(({slug:P})=>e.includes(P)),[w,S]=qv(()=>{let P=c||C[0]?.slug,j=y({collectionSlug:P});return j?{label:j.labels,value:j.slug}:void 0}),[x,F,{drawerSlug:I}]=Dt({collectionSlug:w.value}),R=vt(P=>{P&&P!==w?.value&&S({label:y({collectionSlug:P})?.labels,value:P})});DT(()=>{R(c)},[c]);let D=Wu(async({slug:P,query:j})=>{try{let B={...j||{},where:{...j?.where||{}}},N=s?.[P];if(s&&typeof N!="boolean"&&(B.where=w8(B.where,N)),P){let L=await f({name:"render-list",args:{allowCreate:t,collectionSlug:P,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,overrideEntityVisibility:a,query:B}});p(L?.List||null)}else p(null);g(!1)}catch(B){console.error("Error rendering List View: ",B),v&&u(n)}},[f,u,t,n,v,r,s,a,o]);DT(()=>{m||D({slug:w?.value})},[D,m,w.value]);let _=Wu(({doc:P})=>{typeof l=="function"&&l({collectionSlug:w?.value,doc:P,docID:P.id}),u(I),u(n)},[u,I,n,l,w.value]),T=Wu(P=>{D({slug:w?.value,query:P})},[D,w.value]),A=Wu(P=>{S(P),D({slug:P?.value})},[D]),$=Wu(async P=>{P&&S({label:y({collectionSlug:P})?.labels,value:P}),await D({slug:w.value||P})},[y,D,w.value]);return h?TT(mn,{}):x8(yv,{allowCreate:t,createNewDrawerSlug:I,DocumentDrawerToggler:F,drawerSlug:n,enabledCollections:e,onBulkSelect:i,onQueryChange:T,onSelect:l,refresh:$,selectedOption:w,setSelectedOption:A,children:[m,TT(x,{onSave:_})]})};var ET="list-drawer",F8=({depth:t,uuid:e})=>`list-drawer_${t}_${e}`,T8=({children:t,className:e,disabled:o,drawerSlug:n,onClick:r,...s})=>Gp(as,{className:[e,`${ET}__toggler`].filter(Boolean).join(" "),disabled:o,onClick:r,slug:n,...s,children:t}),D8=t=>{let{drawerSlug:e}=t;return Gp(Tt,{className:ET,gutter:!1,Header:null,slug:e,children:Gp(RT,{...t})})},ra=t=>{let e=S8(42),{collectionSlugs:o,filterOptions:n,selectedCollection:r,uploads:s}=t,{config:i}=W(),{collections:l}=i,a=ut(),c=_8(),{closeModal:u,modalState:d,openModal:f,toggleModal:m}=ae(),[p,h]=PT(!1),[g,b]=PT(o),y;e[0]!==a||e[1]!==c?(y=F8({depth:a,uuid:c}),e[0]=a,e[1]=c,e[2]=y):y=e[2];let v=y,C,w;e[3]!==v||e[4]!==d?(C=()=>{h(!!d[v]?.isOpen)},w=[d,v],e[3]=v,e[4]=d,e[5]=C,e[6]=w):(C=e[5],w=e[6]),AT(C,w);let S,x;e[7]!==g||e[8]!==l||e[9]!==s?(S=()=>{if(!g||g.length===0){let M=l.filter(k=>{let{upload:O}=k;return s?!!O:!0});b(M.map(R8))}},x=[g,s,l],e[7]=g,e[8]=l,e[9]=s,e[10]=S,e[11]=x):(S=e[10],x=e[11]),AT(S,x);let F;e[12]!==v||e[13]!==m?(F=()=>{m(v)},e[12]=v,e[13]=m,e[14]=F):F=e[14];let I=F,R;e[15]!==u||e[16]!==v?(R=()=>{u(v)},e[15]=u,e[16]=v,e[17]=R):R=e[17];let D=R,_;e[18]!==v||e[19]!==f?(_=()=>{f(v)},e[18]=v,e[19]=f,e[20]=_):_=e[20];let T=_,A;e[21]!==D||e[22]!==g||e[23]!==v||e[24]!==n||e[25]!==r||e[26]!==s?(A=M=>I8(D8,{...M,closeDrawer:D,collectionSlugs:g,drawerSlug:v,filterOptions:n,key:v,selectedCollection:r,uploads:s}),e[21]=D,e[22]=g,e[23]=v,e[24]=n,e[25]=r,e[26]=s,e[27]=A):A=e[27];let $=A,P;e[28]!==v?(P=M=>Gp(T8,{...M,drawerSlug:v}),e[28]=v,e[29]=P):P=e[29];let j=P,B;e[30]!==D||e[31]!==g||e[32]!==a||e[33]!==v||e[34]!==p||e[35]!==T||e[36]!==I?(B={closeDrawer:D,collectionSlugs:g,drawerDepth:a,drawerSlug:v,isDrawerOpen:p,openDrawer:T,setCollectionSlugs:b,toggleDrawer:I},e[30]=D,e[31]=g,e[32]=a,e[33]=v,e[34]=p,e[35]=T,e[36]=I,e[37]=B):B=e[37];let N=B,L;return e[38]!==$||e[39]!==N||e[40]!==j?(L=[$,j,N],e[38]=$,e[39]=N,e[40]=j,e[41]=L):L=e[41],L};function R8(t){let{slug:e}=t;return e}import{c as A8}from"react/compiler-runtime";import{useRef as P8}from"react";var Qv=(t,e)=>{let o=A8(3),n=P8(void 0),r;return o[0]!==t||o[1]!==e?(r=(...s)=>{let i=s,l=()=>{clearTimeout(n.current),t(...i)};clearTimeout(n.current),n.current=setTimeout(l,e)},o[0]=t,o[1]=e,o[2]=r):r=o[2],r};import{useCallback as E8,useRef as NT}from"react";function na(){let t=NT([]),e=NT(!1);return{queueTask:E8((n,r)=>{t.current.push(n);async function s(){if(!e.current&&!(typeof r?.beforeProcess=="function"&&r.beforeProcess()===!1))for(;t.current.length>0;){let i=t.current.pop();t.current=[],e.current=!0;try{await i()}catch(l){console.error("Error in queued function:",l)}finally{e.current=!1,typeof r?.afterProcess=="function"&&r.afterProcess()}}}s()},[])}}var Kv=t=>{for(let e in t){let o=t[e];if((e.toLowerCase()==="and"||e.toLowerCase()==="or")&&Array.isArray(o))for(let n of o)Kv(n);else o&&typeof o=="object"&&"in"in o&&Array.isArray(o.in)&&o.in.length===0&&(t[e]={exists:!1})}return t};var e0=({hasMany:t,relationTo:e,value:o})=>{let n=e.reduce((r,s)=>({...r,[s]:[]}),{});if(o===null)return n;if(o){let r=(s,i)=>{(typeof i=="string"||typeof i=="number")&&typeof s=="string"&&(n[s]?n[s].push(i):n[s]=[i])};t===!0?o.forEach(s=>{s&&r(s.relationTo,s.value)}):r(o.relationTo,o.value)}return n};var LT=({allowEdit:t,options:e,value:o})=>{if(o||typeof o=="number"){if(Array.isArray(o))return o.map(r=>{let s;return e.forEach(i=>{s||(s=i.options.find(l=>l.value===r.value&&l.relationTo===r.relationTo))}),s?{allowEdit:t,...s}:void 0});let n;return e.forEach(r=>{n||(n=r.options.find(s=>s.value===o.value&&s.relationTo===o.relationTo))}),n?{allowEdit:t,...n}:void 0}};import{getTranslation as N8}from"@payloadcms/translations";var kT=t=>t.reduce((e,o)=>o.options?[...e,...kT(o.options)]:[...e,{id:o.value,relationTo:o.relationTo}],[]),$T=t=>t.sort((e,o)=>typeof e?.label?.localeCompare=="function"&&typeof o?.label?.localeCompare=="function"?e.label.localeCompare(o.label):0),jT=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,config:n,docs:r,i18n:s,ids:i=[],sort:l}=e,a=o.slug,c=kT(t),u=[...t],d=u.find(m=>m.label===o.labels.plural),f=r.reduce((m,p)=>{if(c.filter(h=>h.id===p.id&&h.relationTo===a).length===0){c.push({id:p.id,relationTo:a});let h=Wo({collectionConfig:o,data:p,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${p.id}`,i18n:s});return[...m,{label:h,relationTo:a,value:p.id}]}return m},[]);if(i.forEach(m=>{c.filter(p=>p.id===m&&p.relationTo===a).length===0&&(c.push({id:m,relationTo:a}),f.push({allowEdit:!1,label:`${s.t("general:untitled")} - ID: ${m}`,relationTo:a,value:m}))}),d){let m=[...d.options,...f];d.options=l?$T(m):m}else u.push({label:N8(o.labels.plural,s),options:l?$T(f):f});return u}case"CLEAR":{let o=e.exemptValues?Array.isArray(e.exemptValues)?e.exemptValues:[e.exemptValues]:[];return t.filter(r=>{let s=r.options.filter(i=>o?o.some(l=>l&&i.value===l.value):!1);return r.options=s,s.length>0})}case"REMOVE":{let{id:o,collection:n}=e,r=[...t],s=r.findIndex(i=>i.label===n.labels.plural);return s===-1||(r[s]={...r[s],options:r[s].options.filter(i=>i.value!==o)}),r}case"UPDATE":{let{collection:o,config:n,doc:r,i18n:s}=e,i=o.slug,l=[...t],a=Wo({collectionConfig:o,data:r,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${r.id}`,i18n:s}),u=l.find(d=>d.label===o.labels.plural)?.options?.find(d=>d.value===r.id);return u&&(u.label=a,u.relationTo=i),l}default:return t}};import{jsx as Hu,jsxs as BT}from"react/jsx-runtime";import{Fragment as L8,useState as $8}from"react";var El="relationship--multi-value-label",MT=t=>{let{data:e,selectProps:o}=t,{allowEdit:n,label:r,relationTo:s,value:i}=e,{customProps:l}=o===void 0?{}:o,{draggableProps:a,onDocumentOpen:c}=l===void 0?{}:l,{permissions:u}=_e(),[d,f]=$8(!1),{t:m}=E(),p=!!u?.collections?.[s]?.read;return BT("div",{className:El,children:[Hu("div",{className:`${El}__content`,children:Hu(Io.MultiValueLabel,{...t,innerProps:{className:`${El}__text`,...a||{}}})}),s&&p&&n!==!1&&Hu(L8,{children:BT("button",{"aria-label":`Edit ${r}`,className:`${El}__drawer-toggler`,onClick:h=>{f(!1),c({id:i,collectionSlug:s,hasReadPermission:p,openInNewTab:h.metaKey||h.ctrlKey})},onKeyDown:k8,onMouseDown:j8,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onTouchEnd:B8,type:"button",children:[Hu(To,{className:`${El}__tooltip`,show:d,children:m("general:editLabel",{label:""})}),Hu(hr,{className:`${El}__icon`})]})})]})};function k8(t){t.key==="Enter"&&t.stopPropagation()}function j8(t){return t.stopPropagation()}function B8(t){return t.stopPropagation()}import{c as M8}from"react/compiler-runtime";import{jsx as Nl,jsxs as OT}from"react/jsx-runtime";import{Fragment as O8,useState as V8}from"react";var Ll="relationship--single-value",VT=t=>{let e=M8(15),{children:o,data:n,selectProps:r}=t,{allowEdit:s,label:i,relationTo:l,value:a}=n,c;e[0]!==r?(c=r===void 0?{}:r,e[0]=r,e[1]=c):c=e[1];let{customProps:u}=c,d;e[2]!==u?(d=u===void 0?{}:u,e[2]=u,e[3]=d):d=e[3];let{onDocumentOpen:f}=d,[m,p]=V8(!1),{t:h}=E(),{permissions:g}=_e(),b=!!g?.collections?.[l]?.read,y;return e[4]!==s||e[5]!==o||e[6]!==b||e[7]!==i||e[8]!==f||e[9]!==t||e[10]!==l||e[11]!==m||e[12]!==h||e[13]!==a?(y=Nl(Io.SingleValue,{...t,className:Ll,children:Nl("div",{className:`${Ll}__label`,children:OT("div",{className:`${Ll}__label-text`,children:[Nl("div",{className:`${Ll}__text`,children:o}),l&&b&&s!==!1&&Nl(O8,{children:OT("button",{"aria-label":h("general:editLabel",{label:i}),className:`${Ll}__drawer-toggler`,onClick:v=>{p(!1),f({id:a,collectionSlug:l,hasReadPermission:b,openInNewTab:v.metaKey||v.ctrlKey})},onKeyDown:G8,onMouseDown:z8,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchEnd:W8,type:"button",children:[Nl(To,{className:`${Ll}__tooltip`,show:m,children:h("general:edit")}),Nl(hr,{})]})})]})})}),e[4]=s,e[5]=o,e[6]=b,e[7]=i,e[8]=f,e[9]=t,e[10]=l,e[11]=m,e[12]=h,e[13]=a,e[14]=y):y=e[14],y};function G8(t){t.key==="Enter"&&t.stopPropagation()}function z8(t){return t.stopPropagation()}function W8(t){return t.stopPropagation()}var Zu="relationship",r0=t=>{let{AfterInput:e,allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",BeforeInput:s,className:i,description:l,Description:a,Error:c,filterOptions:u,formatDisplayedOptions:d,hasMany:f,initialValue:m,isSortable:p=!0,label:h,Label:g,localized:b,maxResultsPerRequest:y=10,onChange:v,path:C,placeholder:w,readOnly:S,relationTo:x,required:F,showError:I,sortOptions:R,style:D,value:_}=t,{config:T,getEntityConfig:A}=W(),{routes:{api:$},serverURL:P}=T,{i18n:j,t:B}=E(),{permissions:N}=_e(),{code:L}=xe(),[M,k]=ri({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[O,V]=ri(-1),[G,H]=ri({}),[z,Q]=ri(""),[J,X]=ri(""),[ie,U]=ri(!1),[re,ce]=ri(!1),[ge,de]=ri(!1),me=Xu(!1),{queueTask:Oe}=na(),[Te,he]=Y8(jT,[]),we=Xu(_),[K,,{isDrawerOpen:Pe,openDrawer:qe}]=Dt({id:M.id,collectionSlug:M.collectionSlug}),Z=Z8(()=>{let se=u;if(_){let Se=(f===!1?[_]:_).reduce((Ae,ye)=>(Ae[ye.relationTo]||(Ae[ye.relationTo]=[]),Ae[ye.relationTo].push(ye.value),Ae),{});(Array.isArray(x)?x:[x]).forEach(Ae=>{se={...se||{},[Ae]:{...typeof u?.[Ae]=="object"?u[Ae]:{},...Se[Ae]?{id:{not_in:Se[Ae]}}:{}}}})}return se},[u,_,f,x]),[Y,,{closeDrawer:q,isDrawerOpen:ne,openDrawer:fe}]=ra({collectionSlugs:x,filterOptions:Z}),ee=oi(({collectionSlug:se,doc:Se})=>{f?v([...Array.isArray(_)?_:[],{relationTo:se,value:Se.id}]):f===!1&&v({relationTo:se,value:Se.id}),q()},[f,v,q,_]),le=Xu(!1),ve=oi(({filterOptions:se,hasMany:Se,lastFullyLoadedRelation:Ae,lastLoadedPage:ye,onSuccess:De,search:Xe,sort:Qe,value:Ve})=>{N&&Oe(async()=>{let ot=typeof Ae<"u"?Ae:-1,Ut=Array.isArray(x)?x:[x],dr=ot===-1?Ut:Ut.slice(ot+1),to=0,No=e0(Se===!0?{hasMany:!0,relationTo:x,value:Ve}:{hasMany:!1,relationTo:x,value:Ve});z||(await dr.reduce(async(Sn,Pt)=>{let qo=se?.[Pt],Yn;if(J!==Xe?Yn=1:Yn=ye[Pt]+1,await Sn,qo===!1)return V(Ut.indexOf(Pt)),Promise.resolve();if(to<10){let Jn=A({collectionSlug:Pt}),Ls=Jn?.admin?.useAsTitle||"id",$s=Jn?.defaultSort||"id";typeof R=="string"?$s=R:R?.[Pt]&&($s=R[Pt]);let qn={depth:0,draft:!0,limit:y,locale:L,page:Yn,select:{[Ls]:!0},sort:$s,where:{and:[{id:{not_in:No[Pt]}}]}};Xe&&qn.where.and.push({[Ls]:{like:Xe}}),qo&&typeof qo!="boolean"&&qn.where.and.push(qo),Kv(qn.where);let Qo=await fetch(`${P}${$}/${Pt}`,{body:o0.stringify(qn),credentials:"include",headers:{"Accept-Language":j.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(Qo.ok){let Qn=await Qo.json();H(ct=>({...ct,[Pt]:Yn})),Qn.nextPage||V(Ut.indexOf(Pt)),Qn.docs.length>0&&(to+=Qn.docs.length,he({type:"ADD",collection:Jn,config:T,docs:Qn.docs,i18n:j,sort:Qe}))}else Qo.status===403?(V(Ut.indexOf(Pt)),he({type:"ADD",collection:Jn,config:T,docs:[],i18n:j,ids:No[Pt],sort:Qe})):Q(B("error:unspecific"))}},Promise.resolve()),typeof De=="function"&&De())})},[N,Oe,x,z,J,A,R,y,L,P,$,j,T,B]),Ee=Qv(({hasMany:se,search:Se,value:Ae})=>{Mt({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{U(!1)},search:Se,sort:!0,...se===!0?{hasMany:se,value:Ae}:{hasMany:se,value:Ae}}),X(Se)},300),pe=oi(se=>{J!==se.search&&(U(!0),H({}),Ee(se))},[J,Ee]),be=vt(({hasMany:se,value:Se})=>{let Ae=e0(se===!0?{hasMany:se,relationTo:x,value:Se}:{hasMany:se,relationTo:x,value:Se});Object.entries(Ae).reduce(async(ye,[De,Xe])=>{await ye;let Qe=Xe.filter(Ve=>!Te.find(ot=>ot?.options?.find(Ut=>Ut.value===Ve&&Ut.relationTo===De)));if(Qe.length>0){let Ve=A({collectionSlug:De}),ot=Ve?.admin?.useAsTitle||"id",Ut={depth:0,draft:!0,limit:Qe.length,locale:L,select:{[ot]:!0},where:{id:{in:Qe}}};if(!z){let dr=await fetch(`${P}${$}/${De}`,{body:o0.stringify(Ut),credentials:"include",headers:{"Accept-Language":j.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),to=[];dr.ok&&(to=(await dr.json()).docs),he({type:"ADD",collection:Ve,config:T,docs:to,i18n:j,ids:Qe,sort:!0})}}},Promise.resolve())}),Ce=oi(se=>{he({type:"UPDATE",collection:se.collectionConfig,config:T,doc:se.doc,i18n:j});let Se=se.doc.id;if(f){let ye=(_?Array.isArray(_)?_:[_]:[]).map(De=>({relationTo:De.value===Se?se.collectionConfig.slug:De.relationTo,value:De.value}));v(ye)}else f===!1&&v({relationTo:se.collectionConfig.slug,value:Se})},[j,T,f,v,_]),Re=oi(se=>{he({type:"ADD",collection:se.collectionConfig,config:T,docs:[se.doc],i18n:j,sort:!0}),f?v(_?_.concat({relationTo:se.collectionConfig.slug,value:se.doc.id}):null):f===!1&&v({relationTo:se.collectionConfig.slug,value:se.doc.id})},[j,T,f,v,_]),Je=oi(se=>{he({id:se.id,type:"REMOVE",collection:se.collectionConfig,config:T,i18n:j}),v(f&&_?_.filter(Se=>Se.value!==se.id):null)},[j,T,f,v,_]),tt=oi((se,Se)=>{if(!Se)return!0;let Ae=X8(Se||""),ye=250,De=String(se.label);for(;De.length>ye;){let Xe=De.indexOf(" ",Se.length);if(Ae.test(De.slice(0,Xe===-1?Se.length:Xe+1)))return!0;De=De.slice(Xe===-1?Se.length:Xe+1)}return Ae.test(De.slice(-ye))},[]),io=oi(({id:se,collectionSlug:Se,hasReadPermission:Ae,openInNewTab:ye})=>{if(ye){if(Ae&&se&&Se){let De=U8({adminRoute:T.routes.admin,path:`/collections/${Se}/${se}`});window.open(De,"_blank")}}else le.current=!0,k({id:se,collectionSlug:Se,hasReadPermission:Ae})},[T.routes.admin]),Mt=vt(se=>ve(se));Uu(()=>{me.current&&ge&&(U(!0),Mt({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{me.current=!0,U(!1)},...f===!0?{hasMany:f,value:we.current}:{hasMany:f,value:we.current}})),he({type:"CLEAR",exemptValues:we.current}),V(-1),H({})},[x,u,L,C,ge,f]);let eo=Xu(_),Ht=Xu(!0);Uu(()=>{(Ht.current||!H8(_,eo.current))&&be(f===!0?{hasMany:f,value:_}:{hasMany:f,value:_}),Ht.current=!1,eo.current=_},[_,f]),Uu(()=>{let Se=(Array.isArray(x)?x:[x]).reduce((Ae,ye)=>(A({collectionSlug:ye})?.admin?.useAsTitle||"id")==="id"&&Ae,!0);ce(!Se)},[x,A]),Uu(()=>{le.current&&(qe(),le.current=!1)},[qe,M]),Uu(()=>{we.current=_},[_]);let Co=LT({allowEdit:n,options:Te,value:_});return!Array.isArray(Co)&&Co?.value==="null"&&(Co.value=null),t0("div",{className:[ke,Zu,i,I&&"error",z&&"error-loading",S&&`${Zu}--read-only`,!S&&o&&`${Zu}--allow-create`].filter(Boolean).join(" "),id:`field-${C.replace(/\./g,"__")}`,style:D,children:[hn(ue,{CustomComponent:g,Fallback:hn(Fe,{label:h,localized:b,path:C,required:F})}),t0("div",{className:`${ke}__wrap`,children:[hn(ue,{CustomComponent:c,Fallback:hn(Ye,{path:C,showError:I})}),s,z?hn("div",{className:`${Zu}__error-loading`,children:z}):t0("div",{className:`${Zu}__wrap`,children:[hn(ft,{backspaceRemovesValue:!(Pe||ne),components:{MultiValueLabel:MT,SingleValue:VT,...r!=="select"&&{DropdownIndicator:null}},customProps:{disableKeyDown:Pe||ne,disableMouseDown:Pe||ne,onDocumentOpen:io,onSave:Ce},disabled:S||Pe||ne,filterOption:re?tt:void 0,getOptionValue:se=>{if(se)return f&&Array.isArray(x)?`${se.relationTo}_${se.value}`:se.value},isLoading:r==="select"&&ie,isMulti:f,isSearchable:r==="select",isSortable:p,menuIsOpen:r==="select"?ge:!1,onChange:S?void 0:se=>{f?se===null?(we.current=[],v([])):(we.current=se,v(se)):f===!1&&(se===null?(we.current=null,v(null)):(we.current=se,v(se)))},onInputChange:se=>pe({search:se,...f===!0?{hasMany:f,value:_}:{hasMany:f,value:_}}),onMenuClose:()=>{de(!1)},onMenuOpen:()=>{r==="drawer"?fe():r==="select"&&(de(!0),me.current||(U(!0),Mt({filterOptions:u,lastLoadedPage:{},onSuccess:()=>{me.current=!0,U(!1)},...f===!0?{hasMany:f,value:_}:{hasMany:f,value:_}})))},onMenuScrollToBottom:()=>{U(!0),Mt({filterOptions:u,lastFullyLoadedRelation:O,lastLoadedPage:G,onSuccess:()=>{U(!1)},search:J,sort:!1,...f===!0?{hasMany:f,value:m}:{hasMany:f,value:m}})},options:typeof d=="function"?d(Te):Te,placeholder:w,showError:I,value:Co??null}),!S&&o&&hn(FT,{path:C,relationTo:x,...f===!0?{hasMany:f,onChange:v,value:_}:{hasMany:f,onChange:v,value:_}})]}),e,hn(ue,{CustomComponent:a,Fallback:hn(Ue,{description:l,path:C})})]}),M.collectionSlug&&M.hasReadPermission&&hn(K,{onDelete:Je,onDuplicate:Re,onSave:Ce}),r==="drawer"&&!S&&hn(Y,{allowCreate:o,enableRowSelections:!1,onSelect:ee})]})};var Q8=t=>{let{field:e,field:{admin:{allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",className:s,description:i,isSortable:l=!0,placeholder:a,sortOptions:c}={},hasMany:u,label:d,localized:f,relationTo:m,required:p},path:h,readOnly:g,validate:b}=t,y=s0((k,O)=>{if(typeof b=="function")return b(k,{...O,required:p})},[b,p]),{customComponents:{AfterInput:v,BeforeInput:C,Description:w,Error:S,Label:x}={},disabled:F,filterOptions:I,initialValue:R,path:D,setValue:_,showError:T,value:A}=$e({potentiallyStalePath:h,validate:y}),$=q8(()=>Ke(e),[e]),P=Array.isArray(m),[j]=n0.useState(()=>Array.isArray(m)?m:[m]),B=s0(k=>{if(!k){_(null,k===A);return}let O=!1;P?O=Array.isArray(A)&&Array.isArray(k)&&A.length===k.length&&A.every((G,H)=>{let z=k[H];return G.value===z.value&&G.relationTo===z.relationTo}):O=Array.isArray(A)&&Array.isArray(k)&&A.length===k.length&&A.every((G,H)=>G===k[H].value);let V=k.map(G=>P?G:G.value);_(V,O)},[P,_,A]),N=s0(k=>{if(!k){_(null,k===A);return}let O=!1;P?O=A&&k&&A.value===k.value&&A.relationTo===k.relationTo:O=A&&k&&A===k.value;let V=P?k:k.value;_(V,O)},[P,_,A]),L=n0.useMemo(()=>u===!0?Array.isArray(A)?A.map(k=>P?k:{relationTo:Array.isArray(j)?j[0]:j,value:k}):A:A&&(P?A:{relationTo:Array.isArray(j)?j[0]:j,value:A}),[u,A,P,j]),M=n0.useMemo(()=>u===!0?Array.isArray(R)?R.map(k=>P?k:{relationTo:Array.isArray(j)?j[0]:j,value:k}):R:R&&(P?R:{relationTo:Array.isArray(j)?j[0]:j,value:R}),[R,P,j,u]);return J8(r0,{AfterInput:v,allowCreate:o,allowEdit:n,appearance:r,BeforeInput:C,className:s,Description:w,description:i,Error:S,filterOptions:I,formatDisplayedOptions:P?void 0:k=>k.map(O=>O.options).flat(),isSortable:l,Label:x,label:d,localized:f,maxResultsPerRequest:10,maxRows:e?.maxRows,minRows:e?.minRows,path:D,placeholder:a,readOnly:g||F,relationTo:j,required:p,showError:T,sortOptions:c,style:$,...u===!0?{hasMany:!0,initialValue:M,onChange:B,value:L}:{hasMany:!1,initialValue:M,onChange:N,value:L}})},Yu=We(Q8);var Ju=()=>null;import{jsx as i0}from"react/jsx-runtime";import"react";var GT="row",K8=t=>{let{field:{admin:{className:e,style:o}={},fields:n},forceRender:r=!1,indexPath:s="",parentPath:i="",parentSchemaPath:l="",permissions:a,readOnly:c}=t;return i0(eF,{children:i0("div",{className:[ke,GT,e].filter(Boolean).join(" "),style:o||void 0,children:i0(Po,{className:`${GT}__fields`,fields:n,forceRender:r,margins:!1,parentIndexPath:s,parentPath:i,parentSchemaPath:l,permissions:a,readOnly:c})})})},qu=We(K8);import{jsx as tV}from"react/jsx-runtime";import oV,{useCallback as WT,useMemo as rV}from"react";import{c as eV}from"react/compiler-runtime";import{jsx as sa,jsxs as zT}from"react/jsx-runtime";import{getTranslation as a0}from"@payloadcms/translations";import"react";var Wr=t=>{let e=eV(37),{id:o,AfterInput:n,BeforeInput:r,className:s,Description:i,description:l,Error:a,filterOption:c,hasMany:u,isClearable:d,isSortable:f,label:m,Label:p,localized:h,onChange:g,onInputChange:b,options:y,path:v,placeholder:C,readOnly:w,required:S,showError:x,style:F,value:I}=t,R=u===void 0?!1:u,D=d===void 0?!0:d,_=f===void 0?!0:f,{i18n:T}=E(),A;if(e[0]!==n||e[1]!==r||e[2]!==i||e[3]!==a||e[4]!==p||e[5]!==s||e[6]!==l||e[7]!==c||e[8]!==R||e[9]!==T||e[10]!==o||e[11]!==D||e[12]!==_||e[13]!==m||e[14]!==h||e[15]!==g||e[16]!==b||e[17]!==y||e[18]!==v||e[19]!==C||e[20]!==w||e[21]!==S||e[22]!==x||e[23]!==F||e[24]!==I){let $;if(R&&Array.isArray(I)){let L;e[26]!==T||e[27]!==y?(L=M=>{let k=y.find(O=>O.value===M);return{label:k?a0(k.label,T):M,value:k?.value??M}},e[26]=T,e[27]=y,e[28]=L):L=e[28],$=I.map(L)}else if(I){let L;e[29]!==I?(L=k=>k.value===I,e[29]=I,e[30]=L):L=e[30];let M=y.find(L);$={label:M?a0(M.label,T):I,value:M?.value??I}}else $=null;let P=x&&"error",j=w&&"read-only",B;e[31]!==s||e[32]!==P||e[33]!==j?(B=[ke,"select",s,P,j].filter(Boolean),e[31]=s,e[32]=P,e[33]=j,e[34]=B):B=e[34];let N;e[35]!==T?(N=L=>({...L,label:a0(L.label,T)}),e[35]=T,e[36]=N):N=e[36],A=zT("div",{className:B.join(" "),id:`field-${v.replace(/\./g,"__")}`,style:F,children:[sa(ue,{CustomComponent:p,Fallback:sa(Fe,{label:m,localized:h,path:v,required:S})}),zT("div",{className:`${ke}__wrap`,children:[sa(ue,{CustomComponent:a,Fallback:sa(Ye,{path:v,showError:x})}),r,sa(ft,{disabled:w,filterOption:c,id:o,isClearable:D,isMulti:R,isSortable:_,onChange:g,onInputChange:b,options:y.map(N),placeholder:C,showError:x,value:$}),n]}),sa(ue,{CustomComponent:i,Fallback:sa(Ue,{description:l,path:v})})]}),e[0]=n,e[1]=r,e[2]=i,e[3]=a,e[4]=p,e[5]=s,e[6]=l,e[7]=c,e[8]=R,e[9]=T,e[10]=o,e[11]=D,e[12]=_,e[13]=m,e[14]=h,e[15]=g,e[16]=b,e[17]=y,e[18]=v,e[19]=C,e[20]=w,e[21]=S,e[22]=x,e[23]=F,e[24]=I,e[25]=A}else A=e[25];return A};var zp=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e}),nV=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,isClearable:s=!0,isSortable:i=!0,placeholder:l}={},hasMany:a=!1,label:c,localized:u,options:d=[],required:f},onChange:m,path:p,readOnly:h,validate:g}=t,b=oV.useMemo(()=>zp(d),[d]),y=WT((P,j)=>{if(typeof g=="function")return g(P,{...j,hasMany:a,options:b,required:f})},[g,f,a,b]),{customComponents:{AfterInput:v,BeforeInput:C,Description:w,Error:S,Label:x}={},disabled:F,path:I,selectFilterOptions:R,setValue:D,showError:_,value:T}=$e({potentiallyStalePath:p,validate:y}),A=WT(P=>{if(!h||F){let j=null;P&&a?Array.isArray(P)?j=P.map(B=>B.value):j=[]:P&&!Array.isArray(P)&&(j=P.value),typeof m=="function"&&m(j),D(j)}},[h,F,a,D,m]),$=rV(()=>Ke(e),[e]);return tV(Wr,{AfterInput:v,BeforeInput:C,className:n,Description:w,description:r,Error:S,filterOption:R?({label:P,value:j},B)=>R?.some(N=>(typeof N=="string"?N:N.value)===j)&&P.toLowerCase().includes(B.toLowerCase()):void 0,hasMany:a,isClearable:s,isSortable:i,Label:x,label:c,localized:u,name:o,onChange:A,options:b,path:I,placeholder:l,readOnly:h||F,required:f,showError:_,style:$,value:T})},Qu=We(nV);import{c as lD}from"react/compiler-runtime";import{jsx as ys,jsxs as cD}from"react/jsx-runtime";import{getTranslation as WV}from"@payloadcms/translations";import{tabHasName as Zp,toKebabCase as HV}from"payload/shared";import{useEffect as aD,useState as g0}from"react";var rD=_i(u0(),1);import{jsx as gn}from"react/jsx-runtime";import{dequal as tD}from"dequal/lite";import{useRouter as NV}from"next/navigation.js";import{deepCopyObjectSimpleWithoutReactComponents as oD,getDataByPath as LV,getSiblingData as $V,reduceFieldsToValues as p0,wait as kV}from"payload/shared";import jV,{useCallback as ir,useEffect as aa,useReducer as BV,useRef as od,useState as ni}from"react";import{c as cV}from"react/compiler-runtime";import{jsx as d0,jsxs as uV}from"react/jsx-runtime";import dV from"react";function mV(t){let e=[];for(let o of t)if(o){let n=o.split(" \u2192 "),r=!1;for(let s=0;s<e.length;s++)if(e[s].startsWith(n[0])){e.splice(s+1,0,o),r=!0;break}r||e.push(o)}return e}function fV(t){let[e,o]=t.split(":");if(!o)return{message:e};let n=o.split(",").map(r=>r.replaceAll(" > "," \u2192 ").trim());return n.length===1?{errors:n,message:`${e}: `}:{errors:mV(n),message:`${e} (${n.length}):`}}function ZT(t){let e=cV(5),{errorMessage:o}=t,n;e[0]!==o?(n=()=>fV(o),e[0]=o,e[1]=n):n=e[1];let[r]=dV.useState(n),{errors:s,message:i}=r,l;return e[2]!==s||e[3]!==i?(l=uV("div",{children:[i,Array.isArray(s)&&s.length>0?s.length===1?d0("span",{"data-testid":"field-error",children:s[0]}):d0("ul",{"data-testid":"field-errors",children:s.map(pV)}):null]}),e[2]=s,e[3]=i,e[4]=l):l=e[4],l}function pV(t,e){return d0("li",{children:t},e)}import{c as hV}from"react/compiler-runtime";import{useEffect as YT,useState as gV}from"react";function m0(t,e,o){let n=hV(11),r;n[0]!==t?(r=()=>t,n[0]=t,n[1]=r):r=n[1];let[s,i]=gV(r),l;n[2]!==o||n[3]!==t?(l=()=>{let d=setTimeout(()=>{i(()=>t)},o);return()=>{clearTimeout(d)}},n[2]=o,n[3]=t,n[4]=l):l=n[4];let a;n[5]!==o||n[6]!==e?(a=[...e,o],n[5]=o,n[6]=e,n[7]=a):a=n[7],YT(l,a);let c,u;n[8]!==s?(c=()=>{s()},u=[s],n[8]=s,n[9]=c,n[10]=u):(c=n[9],u=n[10]),YT(c,u)}import{c as bV}from"react/compiler-runtime";import{jsx as vV}from"react/jsx-runtime";import JT,{useState as yV}from"react";var qT=JT.createContext(null),f0=t=>{let e=bV(6),{children:o}=t,[n,r]=yV(CV),s;e[0]!==n?(s=u=>{let{collectionSlug:d}=u;return n.get(d)},e[0]=n,e[1]=s):s=e[1];let i=s,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u=>{let{collectionSlug:d,handler:f}=u;r(m=>{let p=new Map(m);return p.set(d,f),p})},e[2]=l):l=e[2];let a=l,c;return e[3]!==o||e[4]!==i?(c=vV(qT,{value:{getUploadHandler:i,setUploadHandler:a},children:o}),e[3]=o,e[4]=i,e[5]=c):c=e[5],c},Ku=()=>{let t=JT.use(qT);if(t===null)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return t};function CV(){return new Map}var QT={413:"Your request was too large to submit successfully."};var Hp=_i(vv(),1);import{dequal as wV}from"dequal/lite";import{deepCopyObjectSimpleWithoutReactComponents as eD}from"payload/shared";import{dequal as xV}from"dequal/lite";var KT=({acceptValues:t,currentState:e={},incomingState:o})=>{let n={...e};for(let[r,s]of Object.entries(o||{})){if(!(r in e)&&!s.addedByServer)continue;let i=s.addedByServer||t===!0||typeof t=="object"&&t!==null&&t.overrideLocalChanges===!1&&!e[r]?.isModified,l=s;if(!i){let{initialValue:a,value:c,...u}=s;l=u}n[r]={...e[r],...l},e[r]&&"errorPaths"in e[r]&&!("errorPaths"in s)&&(n[r].errorPaths=[]),Array.isArray(s.rows)&&r in e&&(n[r].rows=[...e[r]?.rows||[]],s.rows.forEach(a=>{let c=e[r].rows?.findIndex(u=>u.id===a.id);if(c>-1)n[r].rows[c]={...e[r].rows[c],...a};else if(a.addedByServer){let u={...a};delete u.addedByServer,n[r].rows.push(u)}})),s.valid!==!1&&(n[r].valid=!0),s.passesCondition!==!1&&(n[r].passesCondition=!0),s.blocksFilterOptions||delete n[r].blocksFilterOptions,delete n[r].addedByServer}return xV(n,e)?e:n};var $l=(t,e)=>{let o={},n=Object.entries(e).reduce((r,[s,i])=>{let l=r;if(s.indexOf(`${t}.`)===0){let[a]=s.replace(`${t}.`,"").split(".");l[a]||(l[a]={}),l[a][s.replace(`${t}.${String(a)}.`,"")]={...i}}else o[s]=i;return l},[]);return{remainingFields:o,rows:n}},kl=(t,e)=>e.reduce((o,n,r)=>({...o,...Object.entries(n).reduce((s,[i,l])=>({...s,[`${t}.${r}.${i}`]:{...l}}),{})}),{});var ed="default"in Hp.default?Hp.default.default:Hp.default;function td(t,e){switch(e.type){case"ADD_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,i=typeof r=="number"?r:t[n]?.rows?.length||0,l=[...t[n]?.rows||[]],a={id:s?.id?.value||new ed().toHexString(),isLoading:!0};o&&(a.blockType=o),l.splice(i,0,a),o&&(s.blockType={initialValue:o,valid:!0,value:o});let{remainingFields:c,rows:u}=$l(n,t);return u.splice(i,0,s),{...c,...kl(n,u),[`${n}.${i}.id`]:{initialValue:a.id,passesCondition:!0,valid:!0,value:a.id},[n]:{...t[n],disableFormData:!0,rows:l,value:u.length}}}case"ADD_SERVER_ERRORS":{let o={...t},n=[];return e.errors.forEach(({message:r,path:s})=>{o[s]={...o[s]||{initialValue:null,value:null},errorMessage:r,valid:!1};let i=s.split(".");i.length>1&&n.push({fieldErrorPath:s,parentPath:i.slice(0,i.length-1).join(".")})}),o=Object.entries(o).reduce((r,[s,i])=>{let l=n.reduce((c,{fieldErrorPath:u,parentPath:d})=>(d.startsWith(s)&&c.push(u),c),[]),a=!1;if(l.length>0){let c=Array.isArray(i.errorPaths)?i.errorPaths:[];l.forEach(u=>{c.includes(u)||(c.push(u),a=!0)}),a&&(r[s]={...i,errorPaths:c})}return a||(r[s]=i),r},{}),o}case"DUPLICATE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=$l(o,t),i=[...t[o].rows||[]],l=eD(i[n]),a=new ed().toHexString();l.id&&(l.id=a),i[n]?.customComponents?.RowLabel&&(l.customComponents={RowLabel:i[n].customComponents.RowLabel});let c=eD(s[n]);c.id&&(c.id.value=a,c.id.initialValue=a);for(let d of Object.keys(c).filter(f=>f.endsWith(".id"))){let f=c[d],m=new ed().toHexString();if(f&&typeof f.value=="string"&&ed.isValid(f.value)){c[d].value=m,c[d].initialValue=m;let p=d.split("."),h=parseInt(p[p.length-2],10),g=p.slice(0,p.length-2).join("."),b=c?.[g]?.rows;c[g]&&Array.isArray(b)&&(b[h]?b[h].id=m:b[h]={id:m})}}return Object.keys(c).length>0&&(s.splice(n+1,0,c),i.splice(n+1,0,l)),{...r,...kl(o,s),[o]:{...t[o],disableFormData:!0,rows:i,value:s.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:o,prevStateRef:n,serverState:r}=e,s=KT({acceptValues:o,currentState:t||{},incomingState:r});return n.current=s,s}case"MOVE_ROW":{let{moveFromIndex:o,moveToIndex:n,path:r}=e,{remainingFields:s,rows:i}=$l(r,t),l=i[o];i.splice(o,1),i.splice(n,0,l);let a=[...t[r]?.rows||[]],c={...a[o]};return a.splice(o,1),a.splice(n,0,c),{...s,...kl(r,i),[r]:{...t[r],rows:a}}}case"REMOVE":{let o={...t};return o[e.path]&&delete o[e.path],o}case"REMOVE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=$l(o,t),i=[...t[o]?.rows||[]];return s.splice(n,1),i.splice(n,1),{...r,[o]:{...t[o],disableFormData:s.length>0,rows:i,value:s.length},...kl(o,s)}}case"REPLACE_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,{remainingFields:i,rows:l}=$l(n,t),a=Math.max(0,Math.min(r,l?.length-1||0)),c=[...t[n]?.rows||[]];return c[a]={id:new ed().toHexString(),blockType:o||void 0,collapsed:!1},o&&(s.blockType={initialValue:o,valid:!0,value:o}),l[a]=s,{...i,...kl(n,l),[n]:{...t[n],disableFormData:!0,rows:c,value:l.length}}}case"REPLACE_STATE":{if(e.optimize!==!1){let o={};for(let[n,r]of Object.entries(e.state)){let s=t[n];r.valid!==!1&&(r.valid=!0),r.passesCondition!==!1&&(r.passesCondition=!0),wV(s,r)?s&&(o[n]=s):o[n]=r}return o}if(e.sanitize)for(let o of Object.values(e.state))o.valid!==!1&&(o.valid=!0),o.passesCondition!==!1&&(o.passesCondition=!0);return e.state}case"SET_ALL_ROWS_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"SET_ROW_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"UPDATE":{let o=Object.entries(e).reduce((r,[s,i])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(s)?{...r,[s]:i,...s==="value"?{isModified:!0}:{}}:r,t?.[e.path]||{}),n={...t,[e.path]:o};if("value"in e)for(let[r,s]of Object.entries(n))r!==e.path&&"isModified"in s&&delete n[r].isModified;return n}case"UPDATE_MANY":{let o={...t};return Object.entries(e.formState).forEach(([n,r])=>{o[n]=r}),o}default:return t}}var SV=()=>{},IV=()=>{},_V=()=>{},FV=()=>{},TV=()=>{},DV=()=>{},RV=()=>{},AV=()=>{},PV=()=>{},EV=()=>{},Up={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:TV,disabled:!1,dispatchFields:_V,fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:IV,initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:EV,setBackgroundProcessing:AV,setDisabled:()=>{},setIsValid:()=>{},setModified:DV,setProcessing:RV,setSubmitted:PV,submit:SV,validateForm:FV};var MV="form",vs=t=>{let{id:e,collectionSlug:o,docConfig:n,docPermissions:r,getDocPreferences:s,globalSlug:i}=Ne(),l=n?.versions?.drafts&&typeof n?.versions?.drafts=="object"?n.versions.drafts.validate??!1:!1,{action:a,beforeSubmit:c,children:u,className:d,disabled:f,disableSuccessStatus:m,disableValidationOnSubmit:p,el:h,handleResponse:g,initialState:b,isDocumentForm:y,isInitializing:v,onChange:C,onSubmit:w,onSuccess:S,redirect:x,submitted:F,uuid:I,waitForAutocomplete:R}=t,D="method"in t?t?.method:void 0,_=NV(),T=Oa(),{code:A}=xe(),{i18n:$,t:P}=E(),{refreshCookie:j,user:B}=_e(),N=vr(),{queueTask:L}=na(),{getFormState:M}=Nt(),{startRouteTransition:k}=Ze(),{getUploadHandler:O}=Ku(),{config:V}=W(),[G,H]=ni(f||!1),[z,Q]=ni(!1),[J,X]=ni(!1),[ie,U]=ni(!0),[re,ce]=ni(v),[ge,de]=ni(!1),[me,Oe]=ni(!1),[Te,he]=ni(!1),we=od(null),K=od({}),Pe=od(null),qe=od(!0),Z=BV(td,{},()=>b),[Y,q]=Z;K.current.fields=Y;let ne=od(Y),fe=ir(async()=>{let ye={},De=!0,Xe=K.current.getData(),Qe=Object.entries(K.current.fields).map(async([Ve,ot])=>{let Ut=ot,dr=Ve?Ve.split("."):[];if(ot.passesCondition!==!1){let to=Ut.valid;if("validate"in ot&&typeof ot.validate=="function"){let No=ot.value;ot?.rows&&Array.isArray(ot.rows)&&(No=K.current.getDataByPath(Ve)),to=await ot.validate(No,{...ot,id:e,collectionSlug:o,blockData:void 0,data:T?.getData?T.getData():Xe,event:"submit",operation:N,path:dr,preferences:{},req:{payload:{config:V},t:P,user:B},siblingData:K.current.getSiblingData(Ve)}),typeof to=="string"?(Ut.errorMessage=to,Ut.valid=!1):(Ut.valid=!0,Ut.errorMessage=void 0)}Ut.valid===!1&&(De=!1)}ye[Ve]=Ut});return await Promise.all(Qe),tD(K.current.fields,ye)||q({type:"REPLACE_STATE",state:ye}),U(De),De},[o,V,q,e,N,P,B,T]),ee=ir(async(ye,De)=>{let{acceptValues:Xe=!0,action:Qe=a,context:Ve,disableFormWhileProcessing:ot=!0,disableSuccessStatus:Ut,method:dr=D,overrides:to={},skipValidation:No}=ye||{},Sn=Ut??m;if(G){De&&De.preventDefault();return}let Pt,qo,Yn=new Promise((ct,mr)=>{qo=ct,Pt=mr}),Jn=Qe||typeof a=="string"||typeof a=="function";x||Sn||!Jn?(qo=ct=>oe.success(ct),Pt=ct=>oe.error(ct)):oe.promise(Yn,{error:ct=>ct,loading:P("general:submitting"),success:ct=>ct}),De&&(De.stopPropagation(),De.preventDefault()),ot&&(de(!0),H(!0)),R&&await kV(100);let Ls=p0(K.current.fields,!0),$s=oD(K.current.fields);if(Array.isArray(c)){let ct;await c.reduce(async(ks,qr)=>{await ks,ct=await qr({formState:$s})},Promise.resolve());let mr=Object.entries(ct).every(([,ks])=>ks.valid!==!1);if(U(mr),!mr)return de(!1),he(!0),H(!1),q({type:"REPLACE_STATE",state:ct})}let qn=No||p?!0:await K.current.validateForm();if(U(qn),!qn){Pt(P("error:correctInvalidFields")),de(!1),he(!0),H(!1);return}let Qo={};if(typeof to=="function"?Qo=to(K.current.fields):typeof to=="object"&&(Qo=to),w){for(let[ct,mr]of Object.entries(Qo))Ls[ct]=mr;w(K.current.fields,Ls)}if(!Jn){de(!1),he(!0),H(!1);return}let Qn=await K.current.createFormData(Qo,{data:Ls,mergeOverrideData:typeof to!="function"});try{let ct;if(typeof Qe=="string"?ct=await ze[dr.toLowerCase()](Qe,{body:Qn,headers:{"Accept-Language":$.language}}):typeof a=="function"&&(ct=await a(Qn)),X(!1),H(!1),typeof g=="function"){g(ct,qo,Pt);return}let mr=ct.headers.get("content-type"),ks=mr&&mr.indexOf("application/json")!==-1,qr={};if(ks&&(qr=await ct.json()),ct.status<400){if(typeof S=="function"){let Si=await S(qr,{context:Ve,formState:$s});Si&&q({type:"MERGE_SERVER_STATE",acceptValues:Xe,prevStateRef:ne,serverState:Si})}he(!1),de(!1),x?k(()=>_.push(x)):Sn||qo(qr.message||P("general:submissionSuccessful"))}else{if(de(!1),he(!0),!l&&to._status==="draft"&&he(!1),K.current={...K.current},qr.message){Pt(qr.message);return}if(Array.isArray(qr.errors)){let[Sm,Gg]=qr.errors.reduce(([Ba,Im],bt)=>{let fr=[],Ko=[];return bt?.message&&Ko.push(bt),Array.isArray(bt?.data?.errors)&&bt.data?.errors.forEach(In=>{In?.path?fr.push(In):Ko.push(In)}),[[...Ba,...fr],[...Im,...Ko]]},[[],[]]);U(!1),q({type:"ADD_SERVER_ERRORS",errors:Sm}),Gg.forEach(Ba=>{Pt(gn(ZT,{errorMessage:Ba.message||P("error:unknown")}))});return}let Si=QT?.[ct.status]||ct?.statusText||P("error:unknown");Pt(Si)}return{formState:K.current.fields,res:ct}}catch(ct){console.error("Error submitting form",ct),de(!1),he(!0),H(!1),Pt(ct.message)}},[c,k,a,m,p,G,q,g,D,w,S,x,_,P,$,R]),le=ir(()=>K.current.fields,[]),ve=ir(ye=>K.current.fields[ye],[]),Ee=ir(()=>p0(K.current.fields,!0),[]),pe=ir(ye=>$V(K.current.fields,ye),[]),be=ir(ye=>LV(K.current.fields,ye),[]),Ce=ir(async(ye,{data:De,mergeOverrideData:Xe=!0})=>{let Qe=De||p0(K.current.fields,!0),Ve=Qe?.file;if(n&&"upload"in n&&n.upload&&Ve){delete Qe.file;let dr=O({collectionSlug:o});if(typeof dr=="function"){let to=Ve.name,No=await dr({file:Ve,updateFilename:Sn=>{to=Sn}});Ve=JSON.stringify({clientUploadContext:No,collectionSlug:o,filename:to,mimeType:Ve.type,size:Ve.size})}}Xe?Qe={...Qe,...ye}:Qe=ye;let ot={_payload:JSON.stringify(Qe)};return n&&"upload"in n&&n.upload&&Ve&&(ot.file=Ve),(0,rD.serialize)(ot,{indices:!0,nullsAsUndefineds:!1})},[o,n,O]),Re=ir(async ye=>{let De=Ir(Pe),Xe=await s(),{state:Qe}=await M({id:e,collectionSlug:o,data:ye,docPermissions:r,docPreferences:Xe,globalSlug:i,locale:A,operation:N,renderAllFields:!0,schemaPath:o||i,signal:De.signal,skipValidation:!0});K.current={...Up},X(!1),q({type:"REPLACE_STATE",state:Qe}),Pe.current=null},[o,q,i,e,N,M,r,s,A]),Je=ir(ye=>{K.current={...Up},X(!1),q({type:"REPLACE_STATE",state:ye})},[q]),tt=ir(({blockType:ye,path:De,rowIndex:Xe,subFieldState:Qe})=>{let Ve=be(De)||[],ot=Xe===void 0?Ve.length:Xe;q({type:"ADD_ROW",blockType:ye,path:De,rowIndex:ot,subFieldState:Qe}),X(!0)},[q,be]),io=ir(({moveFromIndex:ye,moveToIndex:De,path:Xe})=>{q({type:"MOVE_ROW",moveFromIndex:ye,moveToIndex:De,path:Xe}),X(!0)},[q]),Mt=ir(({path:ye,rowIndex:De})=>{q({type:"REMOVE_ROW",path:ye,rowIndex:De}),X(!0)},[q]),eo=ir(({blockType:ye,path:De,rowIndex:Xe,subFieldState:Qe})=>{let Ve=be(De),ot=Xe===void 0?Ve.length:Xe;q({type:"REPLACE_ROW",blockType:ye,path:De,rowIndex:ot,subFieldState:Qe}),X(!0)},[q,be]);aa(()=>{let ye=Pe.current;return()=>{Sr(ye)}},[]),aa(()=>{v!==void 0&&ce(v)},[v]),K.current.submit=ee,K.current.getFields=le,K.current.getField=ve,K.current.getData=Ee,K.current.getSiblingData=pe,K.current.getDataByPath=be,K.current.validateForm=fe,K.current.createFormData=Ce,K.current.setModified=X,K.current.setProcessing=de,K.current.setBackgroundProcessing=Oe,K.current.setSubmitted=he,K.current.setIsValid=U,K.current.disabled=G,K.current.setDisabled=H,K.current.formRef=we,K.current.reset=Re,K.current.replaceState=Je,K.current.dispatchFields=q,K.current.addFieldRow=tt,K.current.removeFieldRow=Mt,K.current.moveFieldRow=io,K.current.replaceFieldRow=eo,K.current.uuid=I,K.current.initializing=re,K.current.isValid=ie,aa(()=>{Q(!0)},[]),aa(()=>{typeof f=="boolean"&&H(f)},[f]),aa(()=>{typeof F=="boolean"&&he(F)},[F]),aa(()=>{b&&(K.current={...Up},q({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:b}))},[b,q]),Bi(()=>{j()},15e3,[Y]),aa(()=>{K.current={...K.current},X(!1)},[A]);let Ht=[d,MV].filter(Boolean).join(" "),Co=vt(ye=>{L(async()=>{if(Array.isArray(C)){let De;for(let Xe of C)De=await Xe({formState:oD(Y),submitted:ye});q({type:"MERGE_SERVER_STATE",prevStateRef:ne,serverState:De})}})});m0(()=>{(qe.current||!tD(Y,ne.current))&&J&&Co(Te),ne.current=Y,qe.current=!1},[J,Te,Y],250);let se=y?Lm:jV.Fragment,Se=y?{value:K.current}:{};return gn(h||"form",{action:typeof a=="function"?void 0:a,className:Ht,method:D,noValidate:!0,onSubmit:ye=>void K.current.submit({},ye),ref:we,children:gn(se,{...Se,children:gn(Nm,{value:K.current,children:gn($m,{value:{fields:Y,...K.current},children:gn(km,{value:Te,children:gn(ib,{value:!z||z&&re,children:gn(jm,{value:ge,children:gn(sb,{value:me,children:gn(Bm,{value:J,children:gn(Rc.Provider,{value:Z,children:u})})})})})})})})})})};import{c as OV}from"react/compiler-runtime";import{jsx as nD,jsxs as sD}from"react/jsx-runtime";import{getTranslation as VV}from"@payloadcms/translations";import{tabHasName as iD}from"payload/shared";import GV,{useState as zV}from"react";var Xp="tabs-field__tab-button",h0=t=>{let e=OV(12),{hidden:o,isActive:n,parentPath:r,setIsActive:s,tab:i}=t,{i18n:l}=E(),[a,c]=zV(void 0),u;if(e[0]!==a||e[1]!==o||e[2]!==l||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i){let d=[...r?r.split(".").slice(0,-1):[],...iD(i)?[i.name]:[]],f=a>0,m=nD(Hi,{fields:i.fields,path:d,setErrorCount:c}),p=f&&`${Xp}--has-error`,h=n&&`${Xp}--active`,g=o&&`${Xp}--hidden`,b;e[8]!==p||e[9]!==h||e[10]!==g?(b=[Xp,p,h,g].filter(Boolean),e[8]=p,e[9]=h,e[10]=g,e[11]=b):b=e[11],u=sD(GV.Fragment,{children:[m,sD("button",{className:b.join(" "),onClick:s,type:"button",children:[i.label?VV(i.label,l):iD(i)?i.name:"",f&&nD(xo,{count:a,i18n:l})]})]}),e[0]=a,e[1]=o,e[2]=l,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=u}else u=e[7];return u};var Cs="tabs-field";function jl({activeTabConfig:t,path:e}){let o=e;return Zp(t)&&t.name&&(e?o=`${e}.${t.name}`:o=t.name),o}var UV=t=>{let e=lD(59),{field:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c}=t,{admin:u,tabs:d}=o,f;e[0]!==u?(f=u===void 0?{}:u,e[0]=u,e[1]=f):f=e[1];let{className:m}=f,p;e[2]!==d?(p=d===void 0?[]:d,e[2]=d,e[3]=p):p=e[3];let h=p,g=n===void 0?!1:n,b=r===void 0?"":r,y=s===void 0?"":s,v=i===void 0?"":i,C=l===void 0?"":l,{getPreference:w,setPreference:S}=Ot(),{preferencesKey:x}=Ne(),{i18n:F}=E(),{isWithinCollapsible:I}=Xs(),R;e[4]!==h?(R=we=>{let[K]=we;return h.map((Pe,qe)=>{let Z=Pe?.id;return{index:qe,passesCondition:K?.[Z]?.passesCondition??!0,tab:Pe}})},e[4]=h,e[5]=R):R=e[5];let D=Et(R),_;e[6]!==D?(_=()=>D.filter(ZV)?.[0]?.index??0,e[6]=D,e[7]=_):_=e[7];let[T,A]=g0(_),$=`tabs-${b}`,P;e[8]!==T||e[9]!==y||e[10]!==h?(P=()=>jl({activeTabConfig:h[T],path:y}),e[8]=T,e[9]=y,e[10]=h,e[11]=P):P=e[11];let[j,B]=g0(P),N;e[12]!==v||e[13]!==h[0]?(N=()=>jl({activeTabConfig:h[0],path:v}),e[12]=v,e[13]=h[0],e[14]=N):N=e[14];let[L,M]=g0(N),k;e[15]!==T||e[16]!==j||e[17]!==y||e[18]!==h?(k=Zp(h[T])?j:y,e[15]=T,e[16]=j,e[17]=y,e[18]=h,e[19]=k):k=e[19];let O=k,V=D[T],G=V?.tab,H;e[20]!==T||e[21]!==L||e[22]!==v||e[23]!==h?(H=Zp(h[T])?L:v,e[20]=T,e[21]=L,e[22]=v,e[23]=h,e[24]=H):H=e[24];let z=H,Q=G.admin?.description??G.description,J=typeof Q=="function"?Q({i18n:F,t:F.t}):Q,X=D.some(YV),ie;e[25]!==w||e[26]!==y||e[27]!==v||e[28]!==C||e[29]!==x||e[30]!==S||e[31]!==h||e[32]!==$?(ie=async we=>{A(we),B(jl({activeTabConfig:h[we],path:y})),M(jl({activeTabConfig:h[we],path:v}));let K=await w(x);x&&S(x,{...K,...C?{fields:{...K?.fields||{},[C]:{...K?.fields?.[C],tabIndex:we}}}:{fields:{...K?.fields,[$]:{...K?.fields?.[$],tabIndex:we}}}})},e[25]=w,e[26]=y,e[27]=v,e[28]=C,e[29]=x,e[30]=S,e[31]=h,e[32]=$,e[33]=ie):ie=e[33];let U=ie,re,ce;e[34]!==w||e[35]!==y||e[36]!==v||e[37]!==C||e[38]!==x||e[39]!==h||e[40]!==$?(re=()=>{x&&(async()=>{let K=await w(x),qe=(C?K?.fields?.[C]?.tabIndex:K?.fields?.[$]?.tabIndex)||0;A(qe),B(jl({activeTabConfig:h[qe],path:y})),M(jl({activeTabConfig:h[qe],path:v}))})()},ce=[C,w,x,$,h,y,v],e[34]=w,e[35]=y,e[36]=v,e[37]=C,e[38]=x,e[39]=h,e[40]=$,e[41]=re,e[42]=ce):(re=e[41],ce=e[42]),aD(re,ce);let ge;e[43]!==V?.passesCondition||e[44]!==U||e[45]!==D?(ge=()=>{if(V?.passesCondition===!1){let we=D.find(JV);we&&U(we.index)}},e[43]=V?.passesCondition,e[44]=U,e[45]=D,e[46]=ge):ge=e[46];let de;e[47]!==V||e[48]!==U||e[49]!==D?(de=[V,D,U],e[47]=V,e[48]=U,e[49]=D,e[50]=de):de=e[50],aD(ge,de);let me=I&&`${Cs}--within-collapsible`,Oe=!X&&`${Cs}--hidden`,Te;e[51]!==m||e[52]!==me||e[53]!==Oe?(Te=[ke,m,Cs,me,Oe].filter(Boolean),e[51]=m,e[52]=me,e[53]=Oe,e[54]=Te):Te=e[54];let he;return e[55]!==T||e[56]!==U||e[57]!==C?(he=we=>{let{index:K,passesCondition:Pe,tab:qe}=we;return ys(h0,{hidden:!Pe,isActive:T===K,parentPath:C,setIsActive:()=>{U(K)},tab:qe},K)},e[55]=T,e[56]=U,e[57]=C,e[58]=he):he=e[58],ys("div",{className:Te.join(" "),children:cD(gv,{children:[ys("div",{className:`${Cs}__tabs-wrap`,children:ys("div",{className:`${Cs}__tabs`,children:D.map(he)})}),ys("div",{className:`${Cs}__content-wrap`,children:G&&ys(XV,{description:J,fields:G.fields,forceRender:g,hidden:!1,parentIndexPath:Zp(G)?"":`${b?b+"-":""}`+String(V.index),parentPath:O,parentSchemaPath:z,path:j,permissions:a&&typeof a=="object"&&"name"in G?a[G.name]&&typeof a[G.name]=="object"&&"fields"in a[G.name]?a[G.name].fields:a[G.name]:a,readOnly:c})})]})})},rd=We(UV);function XV(t){let e=lD(21),{description:o,fields:n,forceRender:r,hidden:s,label:i,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}=t,{i18n:f}=E(),{customComponents:m,path:p}=$e(),h,g;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==f||e[5]!==i||e[6]!==l||e[7]!==a||e[8]!==c||e[9]!==p||e[10]!==u||e[11]!==d||e[12]!==m){g=Symbol.for("react.early_return_sentinel");e:{let{AfterInput:b,BeforeInput:y,Description:v,Field:C}=m===void 0?{}:m;if(C){g=C;break e}let w=s&&`${Cs}__tab--hidden`,S;e[15]!==f||e[16]!==i?(S=i&&`${Cs}__tabConfigLabel-${HV(WV(i,f))}`,e[15]=f,e[16]=i,e[17]=S):S=e[17];let x;e[18]!==w||e[19]!==S?(x=[w,`${Cs}__tab`,S].filter(Boolean),e[18]=w,e[19]=S,e[20]=x):x=e[20],h=cD("div",{className:x.join(" "),children:[ys(ue,{CustomComponent:v,Fallback:ys(Ue,{description:o,marginPlacement:"bottom",path:p})}),y,ys(Po,{fields:n,forceRender:r,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}),b]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=f,e[5]=i,e[6]=l,e[7]=a,e[8]=c,e[9]=p,e[10]=u,e[11]=d,e[12]=m,e[13]=h,e[14]=g}else h=e[13],g=e[14];return g!==Symbol.for("react.early_return_sentinel")?g:h}function ZV(t){let{passesCondition:e}=t;return e}function YV(t){let{passesCondition:e}=t;return e}function JV(t){let{passesCondition:e}=t;return e}import{jsx as tG}from"react/jsx-runtime";import{useCallback as dD,useEffect as oG,useMemo as rG,useState as nG}from"react";import{c as qV}from"react/compiler-runtime";import{jsx as si,jsxs as uD}from"react/jsx-runtime";import{getTranslation as QV}from"@payloadcms/translations";import"react";var nd=t=>{let e=qV(32),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,hasMany:a,htmlAttributes:c,inputRef:u,Label:d,label:f,localized:m,maxRows:p,onChange:h,onKeyDown:g,path:b,placeholder:y,readOnly:v,required:C,rtl:w,showError:S,style:x,value:F,valueToRender:I}=t,{i18n:R,t:D}=E(),_=eG,T;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==d||e[5]!==r||e[6]!==i||e[7]!==a||e[8]!==c||e[9]!==R||e[10]!==u||e[11]!==f||e[12]!==m||e[13]!==p||e[14]!==h||e[15]!==g||e[16]!==b||e[17]!==y||e[18]!==v||e[19]!==C||e[20]!==w||e[21]!==S||e[22]!==x||e[23]!==D||e[24]!==F||e[25]!==I){let A=QV(y,R),$=S&&"error",P=v&&"read-only",j=a&&"has-many",B;e[27]!==r||e[28]!==$||e[29]!==P||e[30]!==j?(B=[ke,"text",r,$,P,j].filter(Boolean),e[27]=r,e[28]=$,e[29]=P,e[30]=j,e[31]=B):B=e[31],T=uD("div",{className:B.join(" "),style:x,children:[si(ue,{CustomComponent:d,Fallback:si(Fe,{label:f,localized:m,path:b,required:C})}),uD("div",{className:`${ke}__wrap`,children:[si(ue,{CustomComponent:l,Fallback:si(Ye,{path:b,showError:S})}),n,a?si(ft,{className:`field-${b.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:_},disabled:v,filterOption:()=>p?!(Array.isArray(F)&&p&&F.length>=p):!0,isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(F)&&F.length>=p?D("validation:limitReached",{max:p,value:F.length+1}):null,onChange:h,options:[],placeholder:A,showError:S,value:I}):si("input",{"data-rtl":w,disabled:v,id:`field-${b?.replace(/\./g,"__")}`,name:b,onChange:h,onKeyDown:g,placeholder:A,ref:u,type:"text",value:F||"",...c??{}}),o,si(ue,{CustomComponent:s,Fallback:si(Ue,{description:i,path:b})})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=d,e[5]=r,e[6]=i,e[7]=a,e[8]=c,e[9]=R,e[10]=u,e[11]=f,e[12]=m,e[13]=p,e[14]=h,e[15]=g,e[16]=b,e[17]=y,e[18]=v,e[19]=C,e[20]=w,e[21]=S,e[22]=x,e[23]=D,e[24]=F,e[25]=I,e[26]=T}else T=e[26];return T};function KV(t){t.currentTarget.contentEditable="false"}function eG(t,e,o){let n=`${e}--editable`;return{onBlur:KV,onClick:r=>{r.currentTarget.contentEditable="true",r.currentTarget.classList.add(n),r.currentTarget.focus()},onKeyDown:r=>{if(r.key==="Enter"||r.key==="Tab"||r.key==="Escape"){if(r.currentTarget.contentEditable="false",r.currentTarget.classList.remove(n),t.value.value=r.currentTarget.innerText,t.label=r.currentTarget.innerText,t.value.value.replaceAll(`
`,""))o.onChange(o.value,{action:"create-option",option:t});else if(Array.isArray(o.value)){let s=o.value.filter(i=>i.id!==t.id);o.onChange(s,{action:"pop-value",removedValue:t})}r.preventDefault()}r.stopPropagation()}}}var sG=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s,rtl:i}={},hasMany:l,label:a,localized:c,maxLength:u,maxRows:d,minLength:f,minRows:m,required:p},inputRef:h,path:g,readOnly:b,validate:y}=t,v=xe(),{config:{localization:C}}=W(),w=dD((M,k)=>{if(typeof y=="function")return y(M,{...k,maxLength:u,minLength:f,required:p})},[y,f,u,p]),{customComponents:{AfterInput:S,BeforeInput:x,Description:F,Error:I,Label:R}={},disabled:D,path:_,setValue:T,showError:A,value:$}=$e({potentiallyStalePath:g,validate:w}),P=il({fieldLocalized:c,fieldRTL:i,locale:v,localizationConfig:C||void 0}),[j,B]=nG([]),N=dD(M=>{if(!(b||D)){let k;M?Array.isArray(M)?k=M.map(O=>O.value?.value||O.value):k=[M.value?.value||M.value]:k=[],T(k)}},[b,T,D]);oG(()=>{l&&Array.isArray($)&&B($.map((M,k)=>({id:`${M}${k}`,label:`${M}`,value:{toString:()=>`${M}${k}`,value:M?.value||M}})))},[$,l]);let L=rG(()=>Ke(e),[e]);return tG(nd,{AfterInput:S,BeforeInput:x,className:n,Description:F,description:r,Error:I,hasMany:l,htmlAttributes:{autoComplete:o||void 0},inputRef:h,Label:R,label:a,localized:c,maxRows:d,minRows:m,onChange:l?N:M=>{T(M.target.value)},path:_,placeholder:s,readOnly:b||D,required:p,rtl:P,showError:A,style:L,value:$||"",valueToRender:j})},la=We(sG);import{jsx as lG}from"react/jsx-runtime";import{getTranslation as cG}from"@payloadcms/translations";import{useCallback as uG,useMemo as dG}from"react";import{c as iG}from"react/compiler-runtime";import{jsx as ii,jsxs as mD}from"react/jsx-runtime";import{getTranslation as aG}from"@payloadcms/translations";import"react";var b0=t=>{let e=iG(26),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,Label:a,label:c,localized:u,onChange:d,path:f,placeholder:m,readOnly:p,required:h,rows:g,rtl:b,showError:y,style:v,value:C}=t,{i18n:w}=E(),S=y&&"error",x=p&&"read-only",F;e[0]!==r||e[1]!==S||e[2]!==x?(F=[ke,"textarea",r,S,x].filter(Boolean),e[0]=r,e[1]=S,e[2]=x,e[3]=F):F=e[3];let I=F.join(" "),R=`field-${f.replace(/\./g,"__")}`,D;return e[4]!==o||e[5]!==n||e[6]!==s||e[7]!==l||e[8]!==a||e[9]!==i||e[10]!==w||e[11]!==c||e[12]!==u||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==h||e[18]!==g||e[19]!==b||e[20]!==y||e[21]!==v||e[22]!==I||e[23]!==R||e[24]!==C?(D=mD("div",{className:I,style:v,children:[ii(ue,{CustomComponent:a,Fallback:ii(Fe,{htmlFor:R,label:c,localized:u,path:f,required:h})}),mD("div",{className:`${ke}__wrap`,children:[ii(ue,{CustomComponent:l,Fallback:ii(Ye,{path:f,showError:y})}),n,ii("div",{className:"textarea-outer",children:ii("textarea",{"data-rtl":b,disabled:p,id:`field-${f.replace(/\./g,"__")}`,name:f,onChange:d,placeholder:aG(m,w),rows:g,style:{"--rows":g},value:C||""})}),o,ii(ue,{CustomComponent:s,Fallback:ii(Ue,{description:i,path:f})})]})]}),e[4]=o,e[5]=n,e[6]=s,e[7]=l,e[8]=a,e[9]=i,e[10]=w,e[11]=c,e[12]=u,e[13]=d,e[14]=f,e[15]=m,e[16]=p,e[17]=h,e[18]=g,e[19]=b,e[20]=y,e[21]=v,e[22]=I,e[23]=R,e[24]=C,e[25]=D):D=e[25],D};var mG=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rows:s,rtl:i}={},label:l,localized:a,maxLength:c,minLength:u,required:d},path:f,readOnly:m,validate:p}=t,{i18n:h}=E(),{config:{localization:g}}=W(),b=xe(),y=il({fieldLocalized:a,fieldRTL:i,locale:b,localizationConfig:g||void 0}),v=uG(($,P)=>{if(typeof p=="function")return p($,{...P,maxLength:c,minLength:u,required:d})},[p,d,c,u]),{customComponents:{AfterInput:C,BeforeInput:w,Description:S,Error:x,Label:F}={},disabled:I,path:R,setValue:D,showError:_,value:T}=$e({potentiallyStalePath:f,validate:v}),A=dG(()=>Ke(e),[e]);return lG(b0,{AfterInput:C,BeforeInput:w,className:o,Description:S,description:n,Error:x,Label:F,label:l,localized:a,onChange:$=>{D($.target.value)},path:R,placeholder:cG(r,h),readOnly:m||I,required:d,rows:s,rtl:y,showError:_,style:A,value:T})},sd=We(mG);var id=()=>null;import{jsx as VR}from"react/jsx-runtime";import GR,{useMemo as OW}from"react";import{c as AR}from"react/compiler-runtime";import{jsx as ws,jsxs as yW}from"react/jsx-runtime";import{validateMimeType as CW}from"payload/shared";import Dr,{useEffect as xW}from"react";import{c as fG}from"react/compiler-runtime";import{jsx as pG}from"react/jsx-runtime";import{createContext as hG,use as gG,useState as v0}from"react";var fD=hG(void 0),Bl=t=>{let e=fG(5),{children:o}=t,[n,r]=v0(null),[s,i]=v0(""),[l,a]=v0(null),c;return e[0]!==o||e[1]!==l||e[2]!==n||e[3]!==s?(c=pG(fD,{value:{setUploadControlFile:a,setUploadControlFileName:r,setUploadControlFileUrl:i,uploadControlFile:l,uploadControlFileName:n,uploadControlFileUrl:s},children:o}),e[0]=o,e[1]=l,e[2]=n,e[3]=s,e[4]=c):c=e[4],c},y0=()=>{let t=gG(fD);if(!t)throw new Error("useUploadControls must be used within an UploadControlsProvider");return t};import{jsx as Jp,jsxs as C0}from"react/jsx-runtime";import SG from"react";import{jsx as bG}from"react/jsx-runtime";import ai from"react";var pD=t=>{t.preventDefault(),t.stopPropagation()},vG="dropzone";function ca({children:t,className:e,disabled:o=!1,dropzoneStyle:n="default",multipleFiles:r,onChange:s}){let i=ai.useRef(null),[l,a]=ai.useState(!1),c=ai.useCallback(h=>{if(!r&&h.length>1){let g=new DataTransfer;g.items.add(h[0]),s(g.files)}else s(h)},[r,s]),u=ai.useCallback(h=>{h.preventDefault(),h.stopPropagation(),h.clipboardData.files&&h.clipboardData.files.length>0&&c(h.clipboardData.files)},[c]),d=ai.useCallback(h=>{h.preventDefault(),h.stopPropagation(),a(!0)},[]),f=ai.useCallback(h=>{h.preventDefault(),h.stopPropagation(),a(!1)},[]),m=ai.useCallback(h=>{h.preventDefault(),h.stopPropagation(),a(!1),h.dataTransfer.files&&h.dataTransfer.files.length>0&&(c(h.dataTransfer.files),a(!1),h.dataTransfer.clearData())},[c]);ai.useEffect(()=>{let h=i.current;return h&&!o?(h.addEventListener("dragenter",d),h.addEventListener("dragleave",f),h.addEventListener("dragover",pD),h.addEventListener("drop",m),h.addEventListener("paste",u),()=>{h.removeEventListener("dragenter",d),h.removeEventListener("dragleave",f),h.removeEventListener("dragover",pD),h.removeEventListener("drop",m),h.removeEventListener("paste",u)}):()=>null},[o,d,f,m,u]);let p=[vG,e,l?"dragging":"",`dropzoneStyle--${n}`].filter(Boolean).join(" ");return bG("div",{className:p,ref:i,children:t})}import{jsx as gD,jsxs as xG}from"react/jsx-runtime";import"react";import{c as yG}from"react/compiler-runtime";import{jsx as hD}from"react/jsx-runtime";import"react";var CG="drawer-close-button";function Yp(t){let e=yG(3),{onClick:o}=t,{t:n}=E(),r;return e[0]!==o||e[1]!==n?(r=hD("button",{"aria-label":n("general:close"),className:CG,onClick:o,type:"button",children:hD(ht,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}var wG="bulk-upload--drawer-header";function li({onClose:t,title:e}){return xG("div",{className:wG,children:[gD("h2",{title:e,children:e}),gD(Yp,{onClick:t})]})}var qp="bulk-upload--add-files";function Qp({acceptMimeTypes:t,onCancel:e,onDrop:o}){let{t:n}=E(),r=SG.useRef(null);return C0("div",{className:qp,children:[Jp(li,{onClose:e,title:n("upload:addFiles")}),Jp("div",{className:`${qp}__dropArea`,children:C0(ca,{multipleFiles:!0,onChange:o,children:[Jp(te,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:n("upload:selectFile")}),Jp("input",{accept:t,"aria-hidden":"true",className:`${qp}__hidden-input`,hidden:!0,multiple:!0,onChange:s=>{s.target.files&&s.target.files.length>0&&o(s.target.files)},ref:r,type:"file"}),C0("p",{className:`${qp}__dragAndDropText`,children:[n("general:or")," ",n("upload:dragAndDrop")]})]})})]})}import{c as gW}from"react/compiler-runtime";import{jsx as _d,jsxs as M0}from"react/jsx-runtime";import{getTranslation as bW}from"@payloadcms/translations";import{reduceFieldsToValues as vW}from"payload/shared";import"react";import{c as PD}from"react/compiler-runtime";import{jsx as bn,jsxs as ld}from"react/jsx-runtime";import"react";import{c as VG}from"react/compiler-runtime";import{jsx as rh,jsxs as GG}from"react/jsx-runtime";import"react";import{jsx as _G,jsxs as FG}from"react/jsx-runtime";import*as Kp from"qs-esm";import xt from"react";var bD=_i(u0(),1);import{reduceFieldsToValues as IG}from"payload/shared";async function vD(t={},e={},o,n){let r=IG(t,!0),s=r?.file;if(s&&delete r.file,s&&typeof n=="function"){let a=s.name,c=await n({file:s,updateFilename:u=>{a=u}});s=JSON.stringify({clientUploadContext:c,collectionSlug:o,filename:a,mimeType:s.type,size:s.size})}let i={...r,...e},l={_payload:JSON.stringify(i),file:s};return(0,bD.serialize)(l,{indices:!0,nullsAsUndefineds:!1})}function yD(t,e){switch(e.type){case"ADD_FORMS":{let o=[];for(let n=0;n<e.forms.length;n++)o[n]={errorCount:0,formID:e.forms[n].formID??(crypto.randomUUID?crypto.randomUUID():an()),formState:{...e.forms[n].initialState||{},file:{initialValue:e.forms[n].file,valid:!0,value:e.forms[n].file}},uploadEdits:{}};return{...t,activeIndex:0,forms:[...o,...t.forms]}}case"REMOVE_FORM":{let o=[...t.forms],[n]=o.splice(e.index,1),r=t.activeIndex>=e.index,s=t.activeIndex===e.index?e.index:r?t.activeIndex-1:t.activeIndex,i=Math.min(o.length-1,s);return{...t,activeIndex:r?i:t.activeIndex,forms:o,totalErrorCount:t.totalErrorCount-n.errorCount}}case"REPLACE":return{...t,...e.state};case"SET_ACTIVE_INDEX":return{...t,activeIndex:e.index};case"UPDATE_ERROR_COUNT":{let o=[...t.forms];return o[e.index].errorCount=e.count,{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}case"UPDATE_FORM":{let o=[...t.forms];return o[e.index].errorCount=e.errorCount,o[e.index]={...o[e.index],formState:{...o[e.index].formState,...e.formState},uploadEdits:{...o[e.index].uploadEdits,...e.uploadEdits}},{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}default:return t}}var CD=xt.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),TG={activeIndex:0,forms:[],totalErrorCount:0};function xD({children:t}){let{config:e}=W(),{routes:{api:o},serverURL:n}=e,{code:r}=xe(),{i18n:s,t:i}=E(),{getDocumentSlots:l,getFormState:a}=Nt(),{getUploadHandler:c}=Ku(),[u,d]=xt.useState({}),[f,m]=xt.useState(!1),[p,h]=xt.useState(),[g,b]=xt.useState(!1),[y,v]=xt.useState(!1),[C,w]=xt.useState(!1),[S,x]=xt.useState(!1),[F,I]=xt.useState(!1),[R,D]=xt.useReducer(yD,TG),{activeIndex:_,forms:T,totalErrorCount:A}=R,$=xt.useRef(T);$.current=T;let{toggleLoadingOverlay:P}=xp(),{closeModal:j}=ae(),{collectionSlug:B,drawerSlug:N,initialFiles:L,initialForms:M,onSuccess:k,setInitialFiles:O,setInitialForms:V,setSuccessfullyUploaded:G}=Bo(),[H,z]=xt.useState(!1),[Q,J]=xt.useState(""),X=xt.useRef(!1),ie=xt.useRef(null),U=xt.useRef(()=>({})),re=`${n}${o}/${B}`,ce=xt.useCallback(async()=>{let Y={locale:r||void 0},q=`/${B}/access`,fe=await(await fetch(`${n}${o}${q}?${Kp.stringify(Y)}`,{credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"post"})).json(),ee=await fetch(`${n}${o}${q}?${Kp.stringify(Y)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"POST"}).then(le=>le.json());h(fe),b(Hc({collectionSlug:B,docPermissions:fe,isEditing:!1})),v(ee?.update),x(!0)},[o,r,B,s.language,n]),ge=xt.useCallback(async Y=>{Y?.signal&&Y.abort("aborting previous fetch for initial form state without files");let q=await l({collectionSlug:B});d(q);try{let{state:ne}=await a({collectionSlug:B,docPermissions:p,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:B,skipValidation:!0});ie.current=ne,w(!0)}catch{}},[l,B,a,p,r]),de=xt.useCallback(Y=>{let q=U.current();D({type:"REPLACE",state:{activeIndex:Y,forms:T.map((ne,fe)=>fe===_?{errorCount:ne.errorCount,formID:ne.formID,formState:q,uploadEdits:ne.uploadEdits}:ne)}})},[T,_]),me=xt.useCallback(async Y=>{T.length&&D({type:"UPDATE_FORM",errorCount:T[_].errorCount,formState:U.current(),index:_}),P({isLoading:!0,key:"addingDocs"}),C||await ge(),D({type:"ADD_FORMS",forms:Array.from(Y).map(q=>({file:q,initialState:ie.current}))}),P({isLoading:!1,key:"addingDocs"})},[ge,C,P,_,T]),Oe=vt(me),Te=vt(async Y=>{P({isLoading:!0,key:"addingDocs"}),C||await ge(),D({type:"ADD_FORMS",forms:Y.map(q=>({...q,initialState:q?.initialState||ie.current}))}),P({isLoading:!1,key:"addingDocs"})}),he=xt.useCallback(Y=>{D({type:"REMOVE_FORM",index:Y})},[]),we=xt.useCallback(({errorCount:Y,index:q})=>{D({type:"UPDATE_ERROR_COUNT",count:Y,index:q})},[]),K=xt.useCallback(async({overrides:Y}={})=>{let q=U.current(),ne=[...T];ne[_]={errorCount:ne[_].errorCount,formID:ne[_].formID,formState:q,uploadEdits:ne[_].uploadEdits};let fe=[];z(!0);for(let Ee=0;Ee<ne.length;Ee++)try{let pe=ne[Ee];J(i("general:uploadingBulk",{current:Ee+1,total:ne.length}));let be=`${re}${Kp.stringify({locale:r,uploadEdits:pe?.uploadEdits||void 0},{addQueryPrefix:!0})}`,Ce=await fetch(be,{body:await vD(pe.formState,Y,B,c({collectionSlug:B})),credentials:"include",method:"POST"}),Re=await Ce.json();Ce.status===201&&Re?.doc&&fe.push({collectionSlug:B,doc:Re.doc,formID:pe.formID});let[Je,tt]=(Re?.errors||[]).reduce(([io,Mt],eo)=>{let Ht=[],Co=[];return eo?.message&&Co.push(eo),Array.isArray(eo?.data?.errors)&&eo.data?.errors.forEach(se=>{se?.path?Ht.push(se):Co.push(se)}),[[...io,...Ht],[...Mt,...Co]]},[[],[]]);ne[Ee]={errorCount:Je.length,formID:ne[Ee].formID,formState:td(ne[Ee].formState,{type:"ADD_SERVER_ERRORS",errors:Je})},(Ce.status===413||Ce.status===400)&&(ne[Ee]={...ne[Ee],errorCount:ne[Ee].errorCount+1},oe.error(tt[0]?.message))}catch{}m(!0),J(""),z(!1);let ee=[];ne.forEach(({errorCount:Ee},pe)=>{Ee&&ee.push(ne[pe])});let le=Math.max(0,ne.length-ee.length),ve=ne.length-le;le&&(oe.success(`Successfully saved ${le} files`),G(!0),typeof k=="function"&&k(fe,ve)),ve?oe.error(`Failed to save ${ve} files`):j(N),D({type:"REPLACE",state:{activeIndex:0,forms:ee,totalErrorCount:ee.reduce((Ee,{errorCount:pe})=>Ee+pe,0)}}),ee.length===0&&(O(void 0),V(void 0))},[T,_,i,re,r,B,c,k,j,G,N,O,V]),Pe=xt.useCallback(async(Y,q)=>{for(let ne=0;ne<T.length;ne++)if(Object.entries(Y).forEach(([fe,ee])=>{T[ne].formState[fe]&&(T[ne].formState[fe].value=ee,D({type:"UPDATE_FORM",errorCount:T[ne].errorCount,formState:T[ne].formState,index:ne}))}),typeof q=="function"&&q(),f){let{state:fe}=await a({collectionSlug:B,docPermissions:p,docPreferences:null,formState:T[ne].formState,operation:"create",schemaPath:B}),ee=Object.values(fe).reduce((le,ve)=>ve?.valid===!1?le+1:le,0);D({type:"UPDATE_FORM",errorCount:ee,formState:fe,index:ne})}},[B,p,T,a,f]),qe=xt.useCallback(Y=>{D({type:"UPDATE_FORM",errorCount:T[_].errorCount,formState:T[_].formState,index:_,uploadEdits:Y})},[_,T]),Z=xt.useCallback(()=>{D({type:"REPLACE",state:{forms:T.map(Y=>({...Y,uploadEdits:{}}))}})},[T]);return xt.useEffect(()=>{B&&(C||ge(),S||ce(),(L||M)&&I(!C||!S),C&&(M?.length||L?.length)&&!X.current&&(M?.length&&Te(M),L?.length&&Oe(L),X.current=!0))},[L,ge,ce,B,C,S,M]),FG(CD,{value:{activeIndex:R.activeIndex,addFiles:me,bulkUpdateForm:Pe,collectionSlug:B,docPermissions:p,documentSlots:u,forms:T,getFormDataRef:U,hasPublishPermission:y,hasSavePermission:g,hasSubmitted:f,isInitializing:F,removeFile:he,resetUploadEdits:Z,saveAllDocs:K,setActiveIndex:de,setFormTotalErrorCount:we,totalErrorCount:A,updateUploadEdits:qe},children:[H&&_G(mn,{animationDuration:"250ms",loadingText:Q,overlayType:"fullscreen",show:!0}),t]})}function jo(){return xt.use(CD)}import{jsx as Hr,jsxs as x0}from"react/jsx-runtime";import{getTranslation as jG}from"@payloadcms/translations";import{unflatten as TD}from"payload/shared";import BG,{useCallback as w0,useEffect as MG,useMemo as OG,useState as DD}from"react";import{c as EG}from"react/compiler-runtime";import{jsx as FD,jsxs as NG}from"react/jsx-runtime";import{useState as LG}from"react";var wD=t=>{let e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return t.filter(o=>!e.includes("name"in o&&o.name))};import{fieldAffectsData as DG,fieldHasSubFields as RG,fieldIsHiddenOrDisabled as AG,getFieldPermissions as PG}from"payload/shared";import{fieldAffectsData as SD}from"payload/shared";var Ml=(t,e)=>t?SD(e)&&e.name?`${t}.${e.name}`:t:SD(e)?e.name:"";import{jsx as eh,jsxs as ID}from"react/jsx-runtime";import{Fragment as _D}from"react";var ad=({CustomLabel:t,field:e,prefix:o})=>ID(_D,{children:[o?ID(_D,{children:[eh("span",{style:{display:"inline-block"},children:o})," > "]}):null,eh("span",{style:{display:"inline-block"},children:eh(ue,{CustomComponent:t,Fallback:eh(Fe,{label:"label"in e&&e.label})})})]});var th=({fields:t,formState:e,labelPrefix:o=null,parentPath:n="",path:r="",permissions:s})=>{if(!t)return[];let i=e?.[r]?.customComponents?.Label;return t?.reduce((l,a)=>{let{operation:c,permissions:u,read:d}=PG({field:a,operation:"update",parentName:n?.includes(".")?n.split(".")[n.split(".").length-1]:n,permissions:s});if((DG(a)||a.type==="ui")&&(a.admin?.disableBulkEdit||a.unique||AG(a)||"readOnly"in a&&a.readOnly||!c||!d))return l;if(!(a.type==="array"||a.type==="blocks")&&RG(a))return[...l,...th({fields:a.fields,labelPrefix:ad({CustomLabel:i,field:a,prefix:o}),parentPath:r,path:Ml(r,a),permissions:u})];if(a.type==="tabs"&&"tabs"in a)return[...l,...a.tabs.reduce((m,p)=>{if("fields"in p){let h="name"in p&&p.name;return[...m,...th({fields:p.fields,labelPrefix:o,parentPath:r,path:h?Ml(r,a):r,permissions:u})]}},[])];let f={label:ad({CustomLabel:i,field:a,prefix:o}),value:{field:a,fieldPermissions:u,path:Ml(r,a)}};return[...l,f]},[])};var $G="field-select",oh=t=>{let e=EG(14),{fields:o,onChange:n,permissions:r}=t,{t:s}=E(),{dispatchFields:i,getFields:l}=Ge(),a;e[0]!==o||e[1]!==l||e[2]!==r?(a=()=>th({fields:wD(o),formState:l(),permissions:r}),e[0]=o,e[1]=l,e[2]=r,e[3]=a):a=e[3];let[c]=LG(a),u;if(e[4]!==i||e[5]!==l||e[6]!==n||e[7]!==c||e[8]!==s){let d;e[10]!==i||e[11]!==l||e[12]!==n?(d=f=>n({dispatchFields:i,formState:l(),selected:f}),e[10]=i,e[11]=l,e[12]=n,e[13]=d):d=e[13],u=NG("div",{className:$G,children:[FD(Fe,{label:s("fields:selectFieldsToEdit")}),FD(ft,{getOptionValue:kG,isMulti:!0,onChange:d,options:c})]}),e[4]=i,e[5]=l,e[6]=n,e[7]=c,e[8]=s,e[9]=u}else u=e[9];return u};function kG(t){return typeof t.value=="object"&&"path"in t.value?String(t.value.path):String(t.value)}var RD=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,forms:i}=t,[l,a]=DD(!1),{permissions:c}=_e(),{i18n:u,t:d}=E(),{closeModal:f}=ae(),{bulkUpdateForm:m}=jo(),{getFormState:p}=Nt(),h=BG.useRef(null),[g,b]=DD([]),y=c?.collections?.[r.slug],v=OG(()=>TD(g.reduce((x,F)=>(x[F.value.path]=!0,x),{})),[g]),C=w0(async({formState:x,submitted:F})=>{let I=Ir(h),{state:R}=await p({collectionSlug:r.slug,docPermissions:y,docPreferences:null,formState:x,operation:"update",schemaPath:r.slug,select:v,signal:I.signal,skipValidation:!F});return h.current=null,R},[p,r,y,v]);MG(()=>{let x=h.current;return()=>{Sr(x)}},[]);let w=w0(x=>{let F=g.reduce((I,R)=>(x[R.value.path]&&(I[R.value.path]=x[R.value.path].value),I),{});m(F,()=>f(s))},[f,s,m,g]),S=w0(async({dispatchFields:x,formState:F,selected:I})=>{a(!0),b(I||[]);let{state:R}=await p({collectionSlug:r.slug,docPermissions:y,docPreferences:null,formState:F,operation:"update",schemaPath:r.slug,select:TD(I.reduce((D,_)=>(D[_.value.path]=!0,D),{})),skipValidation:!0});x({type:"UPDATE_MANY",formState:R}),a(!1)},[p,r,y]);return x0("div",{className:`${Ur}__main`,children:[x0("div",{className:`${Ur}__header`,children:[Hr("h2",{className:`${Ur}__header__title`,children:d("general:editingLabel",{count:i.length,label:jG(i.length>1?o:n,u)})}),Hr("button",{"aria-label":d("general:close"),className:`${Ur}__header__close`,id:`close-drawer__${s}`,onClick:()=>f(s),type:"button",children:Hr(ht,{})})]}),x0(vs,{className:`${Ur}__form`,isInitializing:l,onChange:[C],onSubmit:w,children:[Hr(oh,{fields:e,onChange:S,permissions:y.fields}),g.length===0?null:Hr("div",{className:"render-fields",children:Hr(us,{value:void 0,children:g.map((x,F)=>{let{value:{field:I,fieldPermissions:R,path:D}}=x;return Hr(Ol,{clientFieldConfig:I,indexPath:"",parentPath:"",parentSchemaPath:"",path:D,permissions:R},`${D}-${F}`)})})}),Hr("div",{className:`${Ur}__sidebar-wrap`,children:Hr("div",{className:`${Ur}__sidebar`,children:Hr("div",{className:`${Ur}__sidebar-sticky-wrap`,children:Hr("div",{className:`${Ur}__document-actions`,children:Hr(te,{type:"submit",children:d("general:applyChanges")})})})})})]})]})};var Ur="edit-many-bulk-uploads",AD=t=>{let e=VG(5),{collection:o,collection:n}=t,{slug:r}=o===void 0?{}:o,{permissions:s}=_e(),{t:i}=E(),{forms:l}=jo(),c=s?.collections?.[r]?.update,u=`edit-${r}-bulk-uploads`;if(!c)return null;let d;return e[0]!==n||e[1]!==u||e[2]!==l||e[3]!==i?(d=GG("div",{className:Ur,children:[rh(as,{"aria-label":i("general:editAll"),className:`${Ur}__toggle`,slug:u,children:i("general:editAll")}),rh(os,{children:rh(Tt,{Header:null,slug:u,children:rh(RD,{collection:n,drawerSlug:u,forms:l})})})]}),e[0]=n,e[1]=u,e[2]=l,e[3]=i,e[4]=d):d=e[4],d};var Vl="bulk-upload--actions-bar";function ED(t){let e=PD(15),{collectionConfig:o}=t,{activeIndex:n,forms:r,setActiveIndex:s}=jo(),{t:i}=E(),l=n+1,a;if(e[0]!==n||e[1]!==o||e[2]!==r.length||e[3]!==s||e[4]!==i||e[5]!==l){let c;e[7]!==n||e[8]!==r.length||e[9]!==s?(c=()=>{let d=n-1;d<0?s(r.length-1):s(d)},e[7]=n,e[8]=r.length,e[9]=s,e[10]=c):c=e[10];let u;e[11]!==n||e[12]!==r.length||e[13]!==s?(u=()=>{let d=n+1;d===r.length?s(0):s(d)},e[11]=n,e[12]=r.length,e[13]=s,e[14]=u):u=e[14],a=ld("div",{className:Vl,children:[ld("div",{className:`${Vl}__navigation`,children:[ld("p",{className:`${Vl}__locationText`,children:[bn("strong",{children:l}),` ${i("general:of")} `,bn("strong",{children:r.length})]}),ld("div",{className:`${Vl}__controls`,children:[bn(te,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:c,type:"button",children:bn(He,{direction:"left"})}),bn(te,{"aria-label":i("general:next"),buttonStyle:"none",onClick:u,type:"button",children:bn(He,{direction:"right"})})]}),bn(AD,{collection:o})]}),bn(S0,{className:`${Vl}__saveButtons`})]}),e[0]=n,e[1]=o,e[2]=r.length,e[3]=s,e[4]=i,e[5]=l,e[6]=a}else a=e[6];return a}function S0(t){let e=PD(12),{className:o}=t,{getEntityConfig:n}=W(),{t:r}=E(),{collectionSlug:s,hasPublishPermission:i,hasSavePermission:l,saveAllDocs:a}=jo(),c;e[0]!==s||e[1]!==n?(c=n({collectionSlug:s}),e[0]=s,e[1]=n,e[2]=c):c=e[2];let u=c,d;e[3]!==o?(d=[`${Vl}__buttons`,o].filter(Boolean),e[3]=o,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==u?.versions?.drafts||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==r||e[10]!==f?(m=ld("div",{className:f,children:[u?.versions?.drafts&&l?bn(te,{buttonStyle:"secondary",onClick:()=>void a({overrides:{_status:"draft"}}),children:r("version:saveDraft")}):null,u?.versions?.drafts&&i?bn(te,{onClick:()=>void a({overrides:{_status:"published"}}),children:r("version:publish")}):null,!u?.versions?.drafts&&l?bn(te,{onClick:()=>void a(),children:r("general:save")}):null]}),e[5]=u?.versions?.drafts,e[6]=i,e[7]=l,e[8]=a,e[9]=r,e[10]=f,e[11]=m):m=e[11],m}import{c as zG}from"react/compiler-runtime";import{jsx as WG}from"react/jsx-runtime";import"react";var cd="bulk-upload--discard-without-saving";function ND(){let t=zG(9),{t:e}=E(),{closeModal:o}=ae(),{drawerSlug:n}=Bo(),r;t[0]!==o?(r=()=>{o(cd)},t[0]=o,t[1]=r):r=t[1];let s=r,i;t[2]!==o||t[3]!==n?(i=()=>{o(n),o(cd)},t[2]=o,t[3]=n,t[4]=i):i=t[4];let l=i,a;return t[5]!==s||t[6]!==l||t[7]!==e?(a=WG(et,{body:e("general:changesNotSaved"),cancelLabel:e("general:stayOnThisPage"),confirmLabel:e("general:leaveAnyway"),heading:e("general:leaveWithoutSaving"),modalSlug:cd,onCancel:s,onConfirm:l}),t[5]=s,t[6]=l,t[7]=e,t[8]=a):a=t[8],a}import{c as sW}from"react/compiler-runtime";import{jsx as fi,jsxs as iW}from"react/jsx-runtime";import Id,{useCallback as SR,useEffect as IR}from"react";import{c as HG}from"react/compiler-runtime";import{jsx as UG}from"react/jsx-runtime";import{createContext as XG,use as ZG,useState as YG}from"react";var LD=XG({mostRecentUpdate:null,reportUpdate:t=>null}),I0=t=>{let e=HG(3),{children:o}=t,[n,r]=YG(null),s;return e[0]!==o||e[1]!==n?(s=UG(LD,{value:{mostRecentUpdate:n,reportUpdate:r},children:o}),e[0]=o,e[1]=n,e[2]=s):s=e[2],s},ua=()=>ZG(LD);import{jsx as da,jsxs as MD}from"react/jsx-runtime";import{fieldIsSidebar as KG}from"payload/shared";import{useMemo as ez}from"react";import{jsx as jD,jsxs as JG}from"react/jsx-runtime";import{getTranslation as qG}from"@payloadcms/translations";import"react";import{jsx as $D}from"react/jsx-runtime";import"react";function kD({className:t}){return $D("svg",{className:[t,"icon icon--trash"].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:$D("path",{d:"M4.1499 6.1H15.8499M14.5499 6.1V15.2C14.5499 15.85 13.8999 16.5 13.2499 16.5H6.7499C6.0999 16.5 5.4499 15.85 5.4499 15.2V6.1M7.3999 6.1V4.8C7.3999 4.15 8.0499 3.5 8.6999 3.5H11.2999C11.9499 3.5 12.5999 4.15 12.5999 4.8V6.1M8.6999 9.35V13.25M11.2999 9.35V13.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})})}var QG="trash-banner",BD=()=>{let{getEntityConfig:t}=W(),{collectionSlug:e}=Ne(),o=t({collectionSlug:e}),{labels:n}=o,{i18n:r}=E();return JG("div",{className:QG,children:[jD(kD,{}),jD("p",{children:r.t("general:documentIsTrashed",{label:`${qG(n?.singular,r)}`})})]})};var Ln="document-fields",ud=({AfterFields:t,BeforeFields:e,docPermissions:o,fields:n,forceSidebarWrap:r,isTrashed:s=!1,readOnly:i,schemaPathSegments:l})=>{let{hasSidebarFields:a,mainFields:c,sidebarFields:u}=ez(()=>n.reduce((d,f)=>(KG(f)?(d.sidebarFields.push(f),d.mainFields.push(null),d.hasSidebarFields=!0):(d.mainFields.push(f),d.sidebarFields.push(null)),d),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[n]);return MD("div",{className:[Ln,a?`${Ln}--has-sidebar`:`${Ln}--no-sidebar`,r&&`${Ln}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[da("div",{className:`${Ln}__main`,children:MD(wo,{className:`${Ln}__edit`,children:[s&&da(BD,{}),e,da(Po,{className:`${Ln}__fields`,fields:c,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:o?.fields,readOnly:i}),t]})}),a?da("div",{className:`${Ln}__sidebar-wrap`,children:da("div",{className:`${Ln}__sidebar`,children:da("div",{className:`${Ln}__sidebar-fields`,children:da(Po,{fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:o?.fields,readOnly:i})})})}):null]})};import{c as oR}from"react/compiler-runtime";import{jsx as uh,jsxs as Bz,Fragment as Mz}from"react/jsx-runtime";import{getTranslation as Oz}from"@payloadcms/translations";import tR,{useId as Vz}from"react";import{jsx as OD}from"react/jsx-runtime";import"react";function dd({className:t}){return OD("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:OD("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}import{c as A0}from"react/compiler-runtime";import{jsx as Ft,jsxs as ch,Fragment as _z}from"react/jsx-runtime";import{getTranslation as R0}from"@payloadcms/translations";import{extractID as Fz}from"payload/shared";import Xr from"react";import{jsx as tz}from"react/jsx-runtime";import{useRouter as oz,useSearchParams as rz}from"next/navigation.js";import{extractID as GD,formatAdminURL as zD,formatFolderOrDocumentItem as nz}from"payload/shared";import*as md from"qs-esm";import wt from"react";function VD(t){return t.reduce((e,o)=>(e[o.relationTo]||(e[o.relationTo]=[]),e[o.relationTo].push(o.value.id),e),{})}var WD=wt.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],checkIfItemIsDisabled:()=>!1,clearSelections:()=>{},currentFolder:null,documents:[],dragOverlayItem:void 0,focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,folderType:void 0,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedFolderCollections:void 0,selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"name",subfolders:[]});function ma({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e=[],allowCreateCollectionSlugs:o,allowMultiSelection:n=!0,baseFolderPath:r,breadcrumbs:s=[],children:i,documents:l,folderFieldName:a,folderID:c,FolderResultsComponent:u,onItemClick:d,search:f,sort:m="name",subfolders:p}){let h=kt(),{config:g}=W(),{routes:b,serverURL:y}=g,v=jr(),{t:C}=E(),w=oz(),{startRouteTransition:S}=Ze(),x=xe(),F=x?x.code:void 0,I=wt.useRef(new Set),[R,D]=wt.useState([]),[_,T]=wt.useState(u||(()=>null)),[A]=wt.useState(()=>g.collections.find(Z=>g.folders&&Z.slug===g.folders.slug)),$=A.slug,P=rz(),j=wt.useMemo(()=>Vt(P),[P]),[B,N]=wt.useState(j),[L,M]=wt.useState(!1),[k,O]=wt.useState(()=>new Set),[V,G]=wt.useState(-1),[H,z]=wt.useState(),[Q,J]=wt.useState(s),X=wt.useRef(null),ie=p.length+l.length,U=wt.useCallback(()=>{G(-1),O(new Set),z(void 0),I.current=new Set},[]),re=wt.useCallback((Z={})=>{let Y="page"in Z?Z.page:B?.page;return"search"in Z&&(Y="1"),{...B,...Z,locale:F,page:Y,relationTo:"relationTo"in Z?Z.relationTo:B?.relationTo,search:"search"in Z?Z.search:B?.search,sort:"sort"in Z?Z.sort:B?.sort??void 0}},[B,F]),ce=wt.useCallback(({query:Z,updateURL:Y})=>{if(Y){let q=re(Z);S(()=>w.replace(`${md.stringify({...q,relationTo:JSON.stringify(q.relationTo)},{addQueryPrefix:!0})}`)),N(q)}},[re,w,S]),ge=wt.useCallback(Z=>{let Y=md.stringify(re({page:"1",search:""}),{addQueryPrefix:!0});return zD({adminRoute:g.routes.admin,path:`${r}${Z?`/${Z}`:""}${Y}`,serverURL:g.serverURL})},[r,g.routes.admin,g.serverURL,re]),de=wt.useCallback(Z=>[...p,...l].find(Y=>Y.itemKey===Z),[l,p]),me=wt.useCallback(()=>Array.from(k).reduce((Z,Y)=>{let q=de(Y);return q&&Z.push(q),Z},[]),[k,de]),Oe=wt.useCallback(({collectionSlug:Z,docID:Y})=>{v===1?Z===$?S(()=>{w.push(ge(Y)),U()}):Z&&S(()=>{w.push(zD({adminRoute:g.routes.admin,path:`/collections/${Z}/${Y}`})),U()}):U(),typeof d=="function"&&d(de(`${Z}-${Y}`))},[U,g.routes.admin,v,$,ge,de,d,w,S]),Te=wt.useCallback(Z=>{let q=[...p,...l].reduce((be,Ce,Re)=>(k.has(Ce.itemKey)&&be.push(Re),be),[]);if(q.length===0)return[Z];let ne=Math.min(...q),fe=Math.max(...q),ee=Z>=ne&&Z<=fe,le=Z;if(ee)if(Z===ne||Z===fe)le=Z;else{let be=Math.abs(Z-ne),Ce=Math.abs(Z-fe);le=be>=Ce?ne:fe}else{let be=Math.abs(Z-ne),Ce=Math.abs(Z-fe);le=be<=Ce?ne:fe}let ve=Math.min(le,Z),Ee=Math.max(le,Z),pe=Array.from({length:Ee-ve+1},(be,Ce)=>ve+Ce);return ee?pe:[...new Set([...q,...pe])]},[p,l,k]),he=wt.useCallback(({indexes:Z})=>{let Y=[...p,...l],{newSelectedFolderCollections:q,newSelectedItemKeys:ne}=Y.reduce((fe,ee,le)=>(Z.includes(le)&&(fe.newSelectedItemKeys.add(ee.itemKey),ee.relationTo===$?ee.value.folderType?.forEach(ve=>{fe.newSelectedFolderCollections.includes(ve)||fe.newSelectedFolderCollections.push(ve)}):fe.newSelectedFolderCollections.includes(ee.relationTo)||fe.newSelectedFolderCollections.push(ee.relationTo)),fe),{newSelectedFolderCollections:[],newSelectedItemKeys:new Set});D(q),O(ne)},[l,$,p]),we=wt.useCallback(({event:Z,item:Y})=>{let{code:q,ctrlKey:ne,metaKey:fe,shiftKey:ee}=Z,le=ee,ve=ne||fe,Ee=k.has(Y.itemKey),pe=[...p,...l],be=pe.findIndex(Ce=>Ce.itemKey===Y.itemKey);switch(q){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":{if(Z.preventDefault(),be===-1)break;let Re=q==="ArrowLeft"||q==="ArrowUp"?be-1:be+1;if(Re<0||Re>ie-1)return;if(G(Re),ve)break;if(le&&n){let Je=Te(Re);he({indexes:Je});return}if(!le){let Je=pe[Re];O(new Set([Je.itemKey]))}break}case"Enter":{if(k.size===1){G(void 0),Oe({collectionSlug:Y.relationTo,docID:GD(Y.value)});return}break}case"Escape":{U();break}case"KeyA":{n&&ve&&(Z.preventDefault(),G(ie-1),he({indexes:Array.from({length:ie},(Ce,Re)=>Re)}));break}case"Space":{if(n&&le){Z.preventDefault();let Ce=[...p,...l];he({indexes:Ce.reduce((Re,Je,tt)=>{if(Je.itemKey===Y.itemKey){if(Ee)return Re;Re.push(tt)}else k.has(Je.itemKey)&&Re.push(tt);return Re},[])})}else Z.preventDefault(),he({indexes:Ee?[]:[be]});break}case"Tab":{if(n&&le){let Ce=be-1;Ce<0&&k?.size>0&&G(Ce)}else be+1===ie&&k.size>0&&G(ie-1);break}}},[k,p,l,n,Te,he,Oe,U,ie]),K=wt.useCallback(({event:Z,item:Y})=>{let q=!1,ne=Z.ctrlKey||Z.metaKey,fe=Z.shiftKey,ee=k.has(Y.itemKey),le=[...p,...l],ve=le.findIndex(Ee=>Ee.itemKey===Y.itemKey);if(n&&ne){Z.preventDefault();let Ee,pe=le.reduce((be,Ce,Re)=>{if(Ce.itemKey===Y.itemKey){if(ee&&Z.type!=="pointermove")return be;be.push(Re),Ee=Ce.itemKey}else k.has(Ce.itemKey)&&be.push(Re);return be},[]);he({indexes:pe}),Ee&&z(de(Ee))}else if(n&&fe){if(ve!==-1){let Ee=Te(ve);he({indexes:Ee})}}else if(n&&Z.type==="pointermove")ee||he({indexes:le.reduce((Ee,pe,be)=>(pe.itemKey===Y.itemKey&&Ee.push(be),Ee),[])}),z(de(Y.itemKey));else{let Ee=Date.now();q=Ee-X.current<400&&H?.itemKey===Y.itemKey,X.current=Ee,q||he({indexes:ee&&k.size===1?[]:[ve]}),z(de(Y.itemKey))}q&&Oe({collectionSlug:Y.relationTo,docID:GD(Y.value)})},[k,p,l,n,H,de,he,Oe,Te]),Pe=wt.useCallback(async Z=>{let{itemsToMove:Y,toFolderID:q}=Z;if(!Y.length)return;if(Y.length===1&&Y[0].relationTo===$&&Y[0].value.id===c){let fe=md.stringify({depth:0,locale:F},{addQueryPrefix:!0});(await fetch(`${y}${b.api}/${$}/${c}${fe}`,{body:JSON.stringify({[a]:q||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status!==200&&oe.error(C("general:error"))}else for(let[fe,ee]of Object.entries(VD(Y))){let le=md.stringify({depth:0,limit:0,locale:F,where:{id:{in:ee}}},{addQueryPrefix:!0});try{await fetch(`${y}${b.api}/${fe}${le}`,{body:JSON.stringify({[a]:q||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(ve){oe.error(C("general:error")),console.error(ve);continue}}U()},[c,U,$,a,b.api,y,C,F]),qe=wt.useCallback(Z=>{function Y({item:q,selectedFolderCollections:ne}){return!q.value.folderType||Array.isArray(q.value.folderType)&&q.value.folderType.length===0?!1:ne.length===0?!!(q.value.folderType||q.value.folderType.length>0):ne.some(fe=>!q.value.folderType.includes(fe))}if(L)return k.has(Z.itemKey)?!0:Z.relationTo===$?Y({item:Z,selectedFolderCollections:R}):!0;if(h?.selectedItemKeys?.size)return h.selectedItemKeys.has(Z.itemKey)?!0:Z.relationTo===$?Y({item:Z,selectedFolderCollections:h.selectedFolderCollections}):!0},[R,L,k,$,h?.selectedFolderCollections,h?.selectedItemKeys]);return wt.useEffect(()=>{u&&T(u)},[u]),tz(WD,{value:{activeCollectionFolderSlugs:t||e,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,breadcrumbs:Q,checkIfItemIsDisabled:qe,clearSelections:U,currentFolder:Q?.[Q.length-1]?.id!==void 0?nz({folderFieldName:a,isUpload:!1,relationTo:$,useAsTitle:A.admin.useAsTitle,value:Q[Q.length-1]}):null,documents:l,dragOverlayItem:H,focusedRowIndex:V,folderCollectionConfig:A,folderCollectionSlug:$,folderFieldName:a,folderID:c,FolderResultsComponent:_,folderType:Q?.[Q.length-1]?.folderType,getFolderRoute:ge,getSelectedItems:me,isDragging:L,itemKeysToMove:h.selectedItemKeys,moveToFolder:Pe,onItemClick:K,onItemKeyPress:we,refineFolderData:ce,search:f,selectedFolderCollections:R,selectedItemKeys:k,setBreadcrumbs:J,setFocusedRowIndex:G,setIsDragging:M,sort:m,subfolders:p},children:i})}function kt(){let t=wt.use(WD);if(t===void 0)throw new Error("useFolder must be used within a FolderProvider");return t}import{c as sz}from"react/compiler-runtime";import{jsx as iz}from"react/jsx-runtime";import{usePathname as az,useRouter as lz}from"next/navigation.js";import{createContext as cz,use as uz,useEffect as HD,useRef as dz}from"react";var UD=cz({cachingEnabled:!0,clearRouteCache:()=>{}}),_0=t=>{let e=sz(17),{cachingEnabled:o,children:n}=t,r=o===void 0?!0:o,s=az(),i=lz(),l=dz(!1),a;e[0]!==i?(a=()=>{i.refresh()},e[0]=i,e[1]=a):a=e[1];let c=a,u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{let b=()=>{l.current=!0};return window.addEventListener("popstate",b),()=>{window.removeEventListener("popstate",b)}},e[2]=u):u=e[2];let d;e[3]!==i?(d=[i],e[3]=i,e[4]=d):d=e[4],HD(u,d);let f;e[5]!==r||e[6]!==c?(f=b=>{(r||l.current)&&(l.current=!1,c())},e[5]=r,e[6]=c,e[7]=f):f=e[7];let m=vt(f),p;e[8]!==m||e[9]!==s?(p=()=>{m(s)},e[8]=m,e[9]=s,e[10]=p):p=e[10];let h;e[11]!==s?(h=[s],e[11]=s,e[12]=h):h=e[12],HD(p,h);let g;return e[13]!==r||e[14]!==n||e[15]!==c?(g=iz(UD,{value:{cachingEnabled:r,clearRouteCache:c},children:n}),e[13]=r,e[14]=n,e[15]=c,e[16]=g):g=e[16],g},pt=()=>uz(UD);import{c as fz}from"react/compiler-runtime";import{jsx as nh,jsxs as ZD}from"react/jsx-runtime";import"react";import{jsx as XD}from"react/jsx-runtime";import"react";var mz="form-submit",Tr=t=>{let{type:e="submit",buttonId:o,children:n,disabled:r,onClick:s,programmaticSubmit:i,ref:l}=t,a=$r(),c=ab(),u=Di(),{disabled:d,submit:f}=Ge();return XD("div",{className:mz,children:XD(te,{ref:l,...t,disabled:!(r||u||a||c||d)?void 0:!0,id:o,onClick:s??(i?()=>{f()}:void 0),type:e,children:n})})};var sh="drawer-action-header",YD=t=>{let e=fz(10),{cancelLabel:o,className:n,onCancel:r,onSave:s,saveLabel:i,title:l}=t,{t:a}=E(),c;e[0]!==n?(c=[sh,n].filter(Boolean),e[0]=n,e[1]=c):c=e[1];let u=c.join(" "),d;return e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==a||e[7]!==u||e[8]!==l?(d=nh("div",{className:u,children:ZD("div",{className:`${sh}__content`,children:[nh("h1",{className:`${sh}__title`,children:l}),ZD("div",{className:`${sh}__actions`,children:[nh(te,{"aria-label":a("general:cancel"),buttonStyle:"secondary",onClick:r,children:o||a("general:cancel")}),nh(Tr,{"aria-label":a("general:applyChanges"),onClick:s,children:i||a("general:applyChanges")})]})]})}),e[2]=o,e[3]=r,e[4]=s,e[5]=i,e[6]=a,e[7]=u,e[8]=l,e[9]=d):d=e[9],d};import{jsx as pz}from"react/jsx-runtime";import"react";var hz="drawer-content-container";function F0({children:t,className:e}){return pz("div",{className:[hz,e].filter(Boolean).join(" "),children:t})}import{c as gz}from"react/compiler-runtime";import{jsx as fa,jsxs as bz}from"react/jsx-runtime";import{getTranslation as vz}from"@payloadcms/translations";import T0 from"react";var D0="create-new-doc-in-folder";function vn(t){let e=gz(22),{buttonLabel:o,collectionSlugs:n,folderAssignedCollections:r,onCreateSuccess:s,slugPrefix:i}=t,l=`${i}-new-doc-in-folder-drawer`,{i18n:a}=E(),{closeModal:c,openModal:u}=ae(),{config:d}=W(),{folderCollectionConfig:f,folderCollectionSlug:m,folderFieldName:p,folderID:h}=kt(),g;e[0]!==m?(g={collectionSlug:m},e[0]=m,e[1]=g):g=e[1];let[b,,y]=Dt(g),{closeDrawer:v,openDrawer:C}=y,[w,S]=T0.useState(),x;e[2]!==n||e[3]!==d?(x=()=>n.reduce((R,D)=>{let _=d.collections.find(T=>{let{slug:A}=T;return A===D});return _&&R.push(_),R},[]),e[2]=n,e[3]=d,e[4]=x):x=e[4];let[F]=T0.useState(x);if(F.length===0)return null;let I;return e[5]!==b||e[6]!==o||e[7]!==v||e[8]!==c||e[9]!==n||e[10]!==w||e[11]!==F||e[12]!==r||e[13]!==f.slug||e[14]!==p||e[15]!==h||e[16]!==a||e[17]!==l||e[18]!==s||e[19]!==C||e[20]!==u?(I=bz(T0.Fragment,{children:[F.length===1?fa(te,{buttonStyle:"pill",className:`${D0}__button`,el:"div",onClick:()=>{F[0].slug===f.slug?C():(S(F[0].slug),u(l))},size:"small",children:o}):fa(nt,{button:fa(te,{buttonStyle:"pill",className:`${D0}__popup-button`,el:"div",icon:"chevron",size:"small",children:o}),buttonType:"default",className:`${D0}__action-popup`,children:fa(Ie.ButtonGroup,{children:F.map((R,D)=>fa(Ie.Button,{onClick:()=>{R.slug===f.slug?C():(S(R.slug),u(l))},children:vz(R.labels.singular,a)},D))})}),w&&fa(Lv,{collectionSlug:w,drawerSlug:l,initialData:{[p]:h},onSave:async R=>{let{doc:D}=R;await s({collectionSlug:w,doc:D}),c(l)},redirectAfterCreate:!1}),n.includes(f.slug)&&fa(b,{initialData:{[p]:h,folderType:w?r||[w]:r},onSave:async R=>{await s({collectionSlug:f.slug,doc:R.doc}),v()},redirectAfterCreate:!1})]}),e[5]=b,e[6]=o,e[7]=v,e[8]=c,e[9]=n,e[10]=w,e[11]=F,e[12]=r,e[13]=f.slug,e[14]=p,e[15]=h,e[16]=a,e[17]=l,e[18]=s,e[19]=C,e[20]=u,e[21]=I):I=e[21],I}import{jsx as JD,jsxs as yz}from"react/jsx-runtime";import Cz from"react";var qD="no-results";function Gl({Actions:t,Message:e}){return yz("div",{className:qD,children:[e,t&&t.length>0&&JD("div",{className:`${qD}__actions`,children:t.map((o,n)=>JD(Cz.Fragment,{children:o},n))})]})}import{jsx as ih}from"react/jsx-runtime";import"react";var QD=({elements:t,translationString:e})=>{let o=/(<[^>]+>.*?<\/[^>]+>)/g,n=e.split(o);return ih("span",{children:n.map((r,s)=>{if(t&&r.startsWith("<")&&r.endsWith(">")){let i=r[1],l=t[i];if(l){let a=new RegExp(`<${i}>(.*?)</${i}>`,"g"),c=r.replace(a,(u,d)=>d);return ih(l,{children:ih(QD,{translationString:c})},s)}}return r})})},Jt=({elements:t,i18nKey:e,t:o,variables:n})=>{let r=o(e,n||{});return t?ih(QD,{elements:t,translationString:r}):r};import{c as xz}from"react/compiler-runtime";import{jsx as lh,jsxs as wz}from"react/jsx-runtime";import{useDroppable as Sz}from"@dnd-kit/core";import"react";var ah="folderBreadcrumbs";function KD({breadcrumbs:t,className:e}){return lh("div",{className:`${ah} ${e||""}`.trim(),children:t?.map((o,n)=>wz("div",{className:`${ah}__crumb`,children:[o.onClick?lh(pa,{className:`${ah}__crumb-item`,id:o.id,onClick:o.onClick,children:o.name}):o.name,t.length>0&&n!==t.length-1&&lh(He,{className:`${ah}__crumb-chevron`,direction:"right"})]},n))})}function pa(t){let e=xz(13),{id:o,children:n,className:r,onClick:s}=t,i=`folder-${o}`,l;e[0]!==o?(l={id:o,type:"folder"},e[0]=o,e[1]=l):l=e[1];let a;e[2]!==i||e[3]!==l?(a={id:i,data:l},e[2]=i,e[3]=l,e[4]=a):a=e[4];let{isOver:c,setNodeRef:u}=Sz(a),d=c&&"droppable-button--hover",f;e[5]!==r||e[6]!==d?(f=["droppable-button",r,d].filter(Boolean),e[5]=r,e[6]=d,e[7]=f):f=e[7];let m=f.join(" "),p;return e[8]!==n||e[9]!==s||e[10]!==u||e[11]!==m?(p=lh("button",{className:m,onClick:s,ref:u,type:"button",children:n}),e[8]=n,e[9]=s,e[10]=u,e[11]=m,e[12]=p):p=e[12],p}import{jsx as Iz}from"react/jsx-runtime";function ar(){return Iz(dd,{className:"colored-folder-icon"})}var fd="move-folder-drawer",Tz="move-folder-drawer",eR=`${Tz}-confirm-move`;function zl(t){return Ft(Tt,{gutter:!1,Header:null,slug:t.drawerSlug,children:Ft(Dz,{...t})})}function Dz(t){let{permissions:e}=_e(),[o,n]=Xr.useState([]),[r,s]=Xr.useState([]),[i,l]=Xr.useState([]),[a,c]=Xr.useState(null),[u,d]=Xr.useState(!1),[f,m]=Xr.useState(t.fromFolderID||null),p=Xr.useRef(!1),{getFolderResultsComponentAndData:h}=Nt(),g=Xr.useCallback(async b=>{try{let y=await h({browseByFolder:!1,collectionsToDisplay:[t.folderCollectionSlug],displayAs:"grid",folderAssignedCollections:t.folderAssignedCollections,folderID:b,sort:"name"});l(y.breadcrumbs||[]),n(y?.subfolders||[]),s(y?.documents||[]),c(y.FolderResultsComponent||null),m(b),d(!0)}catch{l([]),n([]),s([])}p.current=!0},[h,t.folderAssignedCollections,t.folderCollectionSlug]);return Xr.useEffect(()=>{p.current||g(t.fromFolderID)},[g,t.fromFolderID]),u?Ft(ma,{allCollectionFolderSlugs:[t.folderCollectionSlug],allowCreateCollectionSlugs:e.collections[t.folderCollectionSlug]?.create?[t.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:r,folderFieldName:t.folderFieldName,folderID:f,FolderResultsComponent:a,onItemClick:async b=>{await g(b.value.id)},subfolders:o,children:Ft(Rz,{...t,populateMoveToFolderDrawer:g})},f):Ft(mn,{})}function Rz(t){let e=A0(34),{drawerSlug:o,fromFolderID:n,fromFolderName:r,itemsToMove:s,onConfirm:i,populateMoveToFolderDrawer:l,skipConfirmModal:a,...c}=t,{clearRouteCache:u}=pt(),{closeModal:d,isModalOpen:f,openModal:m}=ae(),p;e[0]!==s?(p=()=>s.length,e[0]=s,e[1]=p):p=e[1];let[h]=Xr.useState(p),[g,b]=Xr.useState(!1),{i18n:y,t:v}=E(),{breadcrumbs:C,folderCollectionConfig:w,folderCollectionSlug:S,folderFieldName:x,folderID:F,FolderResultsComponent:I,folderType:R,getSelectedItems:D,subfolders:_}=kt(),T;e[2]!==S?(T={collectionSlug:S},e[2]=S,e[3]=T):T=e[3];let[A,,$]=Dt(T),{closeDrawer:P,openDrawer:j}=$,B;e[4]!==C||e[5]!==D?(B=()=>{let X=D();if(X.length===0){let ie=C?.[C.length-1];return{id:ie?.id||null,name:ie?.name||null}}else return{id:X[0].value.id,name:X[0].value._folderOrDocumentTitle}},e[4]=C,e[5]=D,e[6]=B):B=e[6];let N=B,L;e[7]!==S||e[8]!==F||e[9]!==n||e[10]!==l?(L=async X=>{let{collectionSlug:ie,doc:U}=X;await l(F),ie===S&&(U?.folder&&n===Fz(U?.folder)||!n&&!U?.folder)&&b(!0)},e[7]=S,e[8]=F,e[9]=n,e[10]=l,e[11]=L):L=e[11];let M=L,k;e[12]!==N||e[13]!==i?(k=()=>{typeof i=="function"&&i(N())},e[12]=N,e[13]=i,e[14]=k):k=e[14];let O=k,V,G;e[15]!==u||e[16]!==o||e[17]!==g||e[18]!==f?(V=()=>{!f(o)&&g&&(b(!1),u())},G=[o,f,u,g],e[15]=u,e[16]=o,e[17]=g,e[18]=f,e[19]=V,e[20]=G):(V=e[19],G=e[20]),Xr.useEffect(V,G);let H;e[21]!==d||e[22]!==o?(H=()=>{d(o)},e[21]=d,e[22]=o,e[23]=H):H=e[23];let z;e[24]!==O||e[25]!==m||e[26]!==a?(z=()=>{a?O():m(eR)},e[24]=O,e[25]=m,e[26]=a,e[27]=z):z=e[27];let Q;e[28]!==C.length||e[29]!==l?(Q=C.length?()=>{l(null)}:void 0,e[28]=C.length,e[29]=l,e[30]=Q):Q=e[30];let J;return e[31]!==C.length||e[32]!==l?(J=(X,ie)=>({id:X.id,name:X.name,onClick:ie!==C.length-1?()=>{l(X.id)}:void 0}),e[31]=C.length,e[32]=l,e[33]=J):J=e[33],ch("div",{className:fd,children:[Ft(YD,{onCancel:H,onSave:z,saveLabel:v("general:select"),title:Ft(Az,{action:c.action,count:h,fromFolderName:n?r:void 0,title:c.action==="moveItemToFolder"?c.title:void 0})}),ch("div",{className:`${fd}__breadcrumbs-section`,children:[Ft(KD,{breadcrumbs:[{id:null,name:ch("span",{className:`${fd}__folder-breadcrumbs-root`,children:[Ft(ar,{}),v("folder:folders")]}),onClick:Q},...C.map(J)]}),_.length>0&&ch(_z,{children:[Ft(te,{buttonStyle:"pill",className:`${fd}__add-folder-button`,margin:!1,onClick:()=>{j()},children:v("fields:addLabel",{label:R0(w.labels?.singular,y)})}),Ft(A,{initialData:{[x]:F,folderType:R},onSave:X=>{M({collectionSlug:w.slug,doc:X.doc}),P()},redirectAfterCreate:!1})]})]}),Ft(F0,{className:`${fd}__body-section`,children:_.length>0?I:Ft(Gl,{Actions:[Ft(vn,{buttonLabel:`${v("general:create")} ${R0(w.labels?.singular,y).toLowerCase()}`,collectionSlugs:[S],folderAssignedCollections:c.folderAssignedCollections,onCreateSuccess:M,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:Ft("p",{children:y.t("general:noResults",{label:`${R0(w.labels?.plural,y)}`})})})}),!a&&Ft(et,{body:Ft(Pz,{action:c.action,count:h,fromFolderName:r,title:c.action==="moveItemToFolder"?c.title:void 0,toFolderName:N().name}),confirmingLabel:v("general:moving"),confirmLabel:v("general:move"),heading:v("general:confirmMove"),modalSlug:eR,onConfirm:O})]})}function Az(t){let e=A0(14),{t:o}=E();switch(t.action){case"moveItemToFolder":if(t.fromFolderName){let n;return e[0]!==t.fromFolderName||e[1]!==t.title||e[2]!==o?(n=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:t.title}),e[0]=t.fromFolderName,e[1]=t.title,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=o("folder:selectFolderForItem",{title:t.title}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.fromFolderName){let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[7]!==t.fromFolderName||e[8]!==o||e[9]!==n?(r=o("folder:movingFromFolder",{fromFolder:t.fromFolderName,title:n}),e[7]=t.fromFolderName,e[8]=o,e[9]=n,e[10]=r):r=e[10],r}else{let n=`${t.count} ${t.count>1?o("general:items"):o("general:item")}`,r;return e[11]!==o||e[12]!==n?(r=o("folder:selectFolderForItem",{title:n}),e[11]=o,e[12]=n,e[13]=r):r=e[13],r}}}function Pz(t){let e=A0(14),{t:o}=E();switch(t.action){case"moveItemToFolder":if(t.toFolderName){let n;return e[0]!==t.title||e[1]!==t.toFolderName||e[2]!==o?(n=Ft(Jt,{elements:{1:jz,2:kz},i18nKey:"folder:moveItemToFolderConfirmation",t:o,variables:{title:t.title,toFolder:t.toFolderName}}),e[0]=t.title,e[1]=t.toFolderName,e[2]=o,e[3]=n):n=e[3],n}else{let n;return e[4]!==t.title||e[5]!==o?(n=Ft(Jt,{elements:{1:$z},i18nKey:"folder:moveItemToRootConfirmation",t:o,variables:{title:t.title}}),e[4]=t.title,e[5]=o,e[6]=n):n=e[6],n}case"moveItemsToFolder":if(t.toFolderName){let n;return e[7]!==t.count||e[8]!==t.toFolderName||e[9]!==o?(n=Ft(Jt,{elements:{1:Lz,2:Nz},i18nKey:"folder:moveItemsToFolderConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item"),toFolder:t.toFolderName}}),e[7]=t.count,e[8]=t.toFolderName,e[9]=o,e[10]=n):n=e[10],n}else{let n;return e[11]!==t.count||e[12]!==o?(n=Ft(Jt,{elements:{1:Ez},i18nKey:"folder:moveItemsToRootConfirmation",t:o,variables:{count:t.count,label:t.count>1?o("general:items"):o("general:item")}}),e[11]=t.count,e[12]=o,e[13]=n):n=e[13],n}}}function Ez(t){let{children:e}=t;return Ft("strong",{children:e})}function Nz(t){let{children:e}=t;return Ft("strong",{children:e})}function Lz(t){let{children:e}=t;return Ft("strong",{children:e})}function $z(t){let{children:e}=t;return Ft("strong",{children:e})}function kz(t){let{children:e}=t;return Ft("strong",{children:e})}function jz(t){let{children:e}=t;return Ft("strong",{children:e})}var Gz="move-doc-to-folder";function pd(t){let e=oR(29),{buttonProps:o,className:n,folderCollectionSlug:r,folderFieldName:s}=t,i=n===void 0?"":n,{t:l}=E(),a=Et(zz),c;e[0]!==s?(c=_=>{let[T]=_;return T&&T?.[s]||null},e[0]=s,e[1]=c):c=e[1];let u=Et(c),d=u?.value,{id:f,collectionSlug:m,initialData:p,title:h}=Ne(),{setModified:g}=Ge(),b;e[2]!==l?(b=()=>`${l("general:loading")}...`,e[2]=l,e[3]=b):b=e[3];let[y,v]=tR.useState(b),{config:C}=W(),w=Vz(),S,x;e[4]!==C.routes.api||e[5]!==r||e[6]!==d||e[7]!==l?(S=()=>{(async function(){if(d&&(typeof d=="string"||typeof d=="number")){let $=await(await fetch(`${C.routes.api}/${r}/${d}`)).json();v($?.name||l("folder:noFolder"))}else v(l("folder:noFolder"))})()},x=[r,C.routes.api,d,l],e[4]=C.routes.api,e[5]=r,e[6]=d,e[7]=l,e[8]=S,e[9]=x):(S=e[8],x=e[9]),tR.useEffect(S,x);let F=`move-to-folder-${w}`,I;e[10]!==u||e[11]!==a||e[12]!==s||e[13]!==g?(I=_=>{let{id:T}=_;u.value!==T&&(a({type:"UPDATE",path:s,value:T}),g(!0))},e[10]=u,e[11]=a,e[12]=s,e[13]=g,e[14]=I):I=e[14];let R=!u?.value,D;return e[15]!==o||e[16]!==i||e[17]!==m||e[18]!==r||e[19]!==s||e[20]!==d||e[21]!==y||e[22]!==f||e[23]!==p||e[24]!==F||e[25]!==I||e[26]!==R||e[27]!==h?(D=uh(rR,{buttonProps:o,className:i,collectionSlug:m,docData:p,docID:f,docTitle:h,folderCollectionSlug:r,folderFieldName:s,fromFolderID:d,fromFolderName:y,modalSlug:F,onConfirm:I,skipConfirmModal:R}),e[15]=o,e[16]=i,e[17]=m,e[18]=r,e[19]=s,e[20]=d,e[21]=y,e[22]=f,e[23]=p,e[24]=F,e[25]=I,e[26]=R,e[27]=h,e[28]=D):D=e[28],D}function zz(t){let[,e]=t;return e}var rR=t=>{let e=oR(22),{buttonProps:o,className:n,collectionSlug:r,docData:s,docID:i,docTitle:l,folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,modalSlug:f,onConfirm:m,skipConfirmModal:p}=t,{getEntityConfig:h}=W(),{i18n:g,t:b}=E(),{closeModal:y,openModal:v}=ae(),C=jr(),w;if(e[0]!==o||e[1]!==n||e[2]!==y||e[3]!==r||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==C||e[8]!==a||e[9]!==c||e[10]!==u||e[11]!==d||e[12]!==h||e[13]!==g||e[14]!==f||e[15]!==m||e[16]!==v||e[17]!==p||e[18]!==b){let S=Vc({slug:f,depth:C}),x=l||Oz(h({collectionSlug:r}).labels.singular,g),F;e[20]!==n?(F=[Gz,n].filter(Boolean),e[20]=n,e[21]=F):F=e[21],w=Bz(Mz,{children:[uh(te,{buttonStyle:"subtle",className:F.join(" "),icon:uh(dd,{}),iconPosition:"left",onClick:()=>{v(S)},...o,children:d}),uh(zl,{action:"moveItemToFolder",drawerSlug:S,folderAssignedCollections:[r],folderCollectionSlug:a,folderFieldName:c,fromFolderID:u,fromFolderName:d,itemsToMove:[{itemKey:`${r}-${i}`,relationTo:r,value:{...s,id:i}}],onConfirm:async I=>{if(u!==I.id&&typeof m=="function")try{await m(I),I.id?oe.success(b("folder:itemHasBeenMoved",{folderName:`"${I.name}"`,title:x})):oe.success(b("folder:itemHasBeenMovedToRoot",{title:x}))}catch(R){let D=R}y(S)},skipConfirmModal:p,title:x})]}),e[0]=o,e[1]=n,e[2]=y,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=C,e[8]=a,e[9]=c,e[10]=u,e[11]=d,e[12]=h,e[13]=g,e[14]=f,e[15]=m,e[16]=v,e[17]=p,e[18]=b,e[19]=w}else w=e[19];return w};import{c as CR}from"react/compiler-runtime";import{jsx as At,jsxs as Yr}from"react/jsx-runtime";import{isImage as xR}from"payload/shared";import Sd,{Fragment as oW,useCallback as Cd,useEffect as xd,useRef as yR,useState as wd}from"react";import{jsx as jt,jsxs as Zo}from"react/jsx-runtime";import fh,{useRef as Xl,useState as di}from"react";import no,{PureComponent as Wz,createRef as nR}from"react";var dh={x:0,y:0,width:0,height:0,unit:"px"},Wl=(t,e,o)=>Math.min(Math.max(t,e),o),Hz=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),sR=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Hl(t,e,o){return t.unit==="%"?{...dh,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function ci(t,e,o){return t.unit?t.unit==="px"?{...dh,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...dh,...t,unit:"px"}}function iR(t,e,o,n,r,s=0,i=0,l=n,a=r){let c={...t},u=Math.min(s,n),d=Math.min(i,r),f=Math.min(l,n),m=Math.min(a,r);e&&(e>1?(u=i?i*e:u,d=u/e,f=l*e):(d=s?s/e:d,u=d*e,m=a/e)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let p=n-(c.x+c.width);p<0&&(c.x=Math.min(c.x,n-u),c.width+=p);let h=r-(c.y+c.height);if(h<0&&(c.y=Math.min(c.y,r-d),c.height+=h),c.width<u&&((o==="sw"||o=="nw")&&(c.x-=u-c.width),c.width=u),c.height<d&&((o==="nw"||o=="ne")&&(c.y-=d-c.height),c.height=d),c.width>f&&((o==="sw"||o=="nw")&&(c.x-=f-c.width),c.width=f),c.height>m&&((o==="nw"||o=="ne")&&(c.y-=m-c.height),c.height=m),e){let g=c.width/c.height;if(g<e){let b=Math.max(c.width/e,d);(o==="nw"||o=="ne")&&(c.y-=b-c.height),c.height=b}else if(g>e){let b=Math.max(c.height*e,u);(o==="sw"||o=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function Uz(t,e,o,n){let r={...t};return e==="ArrowLeft"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="w"?(r.x-=o,r.width+=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="e"?r.width-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowRight"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="w"?(r.x+=o,r.width-=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="e"?r.width+=o:n==="se"&&(r.width+=o,r.height+=o)),e==="ArrowUp"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="n"?(r.y-=o,r.height+=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="s"?r.height-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowDown"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="n"?(r.y+=o,r.height-=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="s"?r.height+=o:n==="se"&&(r.width+=o,r.height+=o)),r}var Ul={capture:!0,passive:!1},ui=class yn extends Wz{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=nR(),this.mediaRef=nR(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:o,disabled:n}=this.props,r=this.getBox();if(!o)return;let s=ci(o,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,l=!!i,a=e.clientX,c=e.clientY,u=s.x,d=s.y;if(i){let f=e.clientX-r.x,m=e.clientY-r.y,p=0,h=0;i==="ne"||i=="e"?(p=f-(s.x+s.width),h=m-s.y,u=s.x,d=s.y+s.height):i==="se"||i==="s"?(p=f-(s.x+s.width),h=m-(s.y+s.height),u=s.x,d=s.y):i==="sw"||i=="w"?(p=f-s.x,h=m-(s.y+s.height),u=s.x+s.width,d=s.y):(i==="nw"||i=="n")&&(p=f-s.x,h=m-s.y,u=s.x+s.width,d=s.y+s.height),a=u+r.x+p,c=d+r.y+h}this.evData={startClientX:a,startClientY:c,startCropX:u,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:o,disabled:n,locked:r,keepSelection:s,onChange:i}=this.props,l=this.getBox();if(n||r||s&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let a=e.clientX-l.x,c=e.clientY-l.y,u={unit:"px",x:a,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(ci(u,l.width,l.height),Hl(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let{crop:o,disabled:n,onChange:r,onDragStart:s}=this.props,i=this.getBox();if(n||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let a;l.isResize?a=this.resizeCrop():a=this.dragCrop(),sR(o,a)||r(ci(a,i.width,i.height),Hl(a,i.width,i.height))},this.onComponentKeyDown=e=>{let{crop:o,disabled:n,onChange:r,onComplete:s}=this.props;if(n)return;let i=e.key,l=!1;if(!o)return;let a=this.getBox(),c=this.makePixelCrop(a),u=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?yn.nudgeStepLarge:e.shiftKey?yn.nudgeStepMedium:yn.nudgeStep;if(i==="ArrowLeft"?(c.x-=u,l=!0):i==="ArrowRight"?(c.x+=u,l=!0):i==="ArrowUp"?(c.y-=u,l=!0):i==="ArrowDown"&&(c.y+=u,l=!0),l){e.cancelable&&e.preventDefault(),c.x=Wl(c.x,0,a.width-c.width),c.y=Wl(c.y,0,a.height-c.height);let d=ci(c,a.width,a.height),f=Hl(c,a.width,a.height);r(d,f),s&&s(d,f)}},this.onHandlerKeyDown=(e,o)=>{let{aspect:n=0,crop:r,disabled:s,minWidth:i=0,minHeight:l=0,maxWidth:a,maxHeight:c,onChange:u,onComplete:d}=this.props,f=this.getBox();if(s||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;let m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?yn.nudgeStepLarge:e.shiftKey?yn.nudgeStepMedium:yn.nudgeStep,p=ci(r,f.width,f.height),h=Uz(p,e.key,m,o),g=iR(h,n,o,f.width,f.height,i,l,a,c);if(!sR(r,g)){let b=Hl(g,f.width,f.height);u(g,b),d&&d(g,b)}},this.onDocPointerDone=e=>{let{crop:o,disabled:n,onComplete:r,onDragEnd:s}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),r&&r(ci(o,i.width,i.height),Hl(o,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var o;(o=this.componentRef.current)==null||o.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:o,y:n,width:r,height:s}=e.getBoundingClientRect();return{x:o,y:n,width:r,height:s}}componentDidUpdate(e){let{crop:o,onComplete:n}=this.props;if(n&&!e.crop&&o){let{width:r,height:s}=this.getBox();r&&s&&n(ci(o,r,s),Hl(o,r,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Ul),this.document.addEventListener("pointerup",this.onDocPointerDone,Ul),this.document.addEventListener("pointercancel",this.onDocPointerDone,Ul),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Ul),this.document.removeEventListener("pointerup",this.onDocPointerDone,Ul),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Ul),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,o=this.getBox(),n=this.makePixelCrop(o),r=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return n.x=Wl(e.startCropX+r,0,o.width-n.width),n.y=Wl(e.startCropY+s,0,o.height-n.height),n}getPointRegion(e,o,n,r){let{evData:s}=this,i=s.clientX-e.x,l=s.clientY-e.y,a;r&&o?a=o==="nw"||o==="n"||o==="ne":a=l<s.startCropY;let c;return n&&o?c=o==="nw"||o==="w"||o==="sw":c=i<s.startCropX,c?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,o,n=0,r=0){let s=Math.min(n,e.width),i=Math.min(r,e.height);return!o||!s&&!i?[s,i]:o>1?s?[s,s/o]:[i*o,i]:i?[i*o,i]:[s,s/o]}resizeCrop(){let{evData:e}=this,{aspect:o=0,maxWidth:n,maxHeight:r}=this.props,s=this.getBox(),[i,l]=this.resolveMinDimensions(s,o,this.props.minWidth,this.props.minHeight),a=this.makePixelCrop(s),c=this.getPointRegion(s,e.ord,i,l),u=e.ord||c,d=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(i&&u==="nw"||u==="w"||u==="sw")&&(d=Math.min(d,-i)),(l&&u==="nw"||u==="n"||u==="ne")&&(f=Math.min(f,-l));let m={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(m.x=e.startCropX,m.width=d,o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY-m.height)):c==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=d,o?m.height=m.width/o:m.height=f):c==="sw"?(m.x=e.startCropX+d,m.y=e.startCropY,m.width=Math.abs(d),o?m.height=m.width/o:m.height=f):c==="nw"&&(m.x=e.startCropX+d,m.width=Math.abs(d),o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY+f));let p=iR(m,o,c,s.width,s.height,i,l,n,r);return o||yn.xyOrds.indexOf(u)>-1?a=p:yn.xOrds.indexOf(u)>-1?(a.x=p.x,a.width=p.width):yn.yOrds.indexOf(u)>-1&&(a.y=p.y,a.height=p.height),a.x=Wl(a.x,0,s.width-a.width),a.y=Wl(a.y,0,s.height-a.height),a}createCropSelection(){let{ariaLabels:e=yn.defaultProps.ariaLabels,disabled:o,locked:n,renderSelectionAddon:r,ruleOfThirds:s,crop:i}=this.props,l=this.getCropStyle();if(i)return no.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!n&&no.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},no.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),no.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),no.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),no.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"nw"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"n"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"ne"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"e"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"se"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"s"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"sw"),role:"button"}),no.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"w"),role:"button"})),r&&no.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:a=>a.stopPropagation()},r(this.state)),s&&no.createElement(no.Fragment,null,no.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),no.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let o={...dh,...this.props.crop||{}};return ci(o,e.width,e.height)}render(){let{aspect:e,children:o,circularCrop:n,className:r,crop:s,disabled:i,locked:l,style:a,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,f=s?this.createCropSelection():null,m=Hz("ReactCrop",r,u&&"ReactCrop--active",i&&"ReactCrop--disabled",l&&"ReactCrop--locked",d&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return no.createElement("div",{ref:this.componentRef,className:m,style:a},no.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),f)}};ui.xOrds=["e","w"];ui.yOrds=["n","s"];ui.xyOrds=["nw","ne","se","sw"];ui.nudgeStep=1;ui.nudgeStepMedium=10;ui.nudgeStepLarge=100;ui.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var aR=ui;import"react-image-crop/dist/ReactCrop.css";var Rt="edit-upload",mh=t=>{let{name:e,onChange:o,ref:n,value:r}=t;return Zo("div",{className:`${Rt}__input`,children:[e,jt("input",{name:e,onChange:s=>o(s.target.value),ref:n,type:"number",value:r})]})},Xz={height:100,unit:"%",width:100,x:0,y:0},P0=({fileName:t,fileSrc:e,imageCacheTag:o,initialCrop:n,initialFocalPoint:r,onSave:s,showCrop:i,showFocalPoint:l})=>{let{closeModal:a}=ae(),{t:c}=E(),[u,d]=di(()=>({...Xz,...n||{}})),f={x:50,y:50},[m,p]=di(()=>({...f,...r})),[h,g]=di(!1),[b,y]=di(0),[v,C]=di(0),w=Xl(void 0),S=Xl(void 0),x=Xl(void 0),F=Xl(null),I=Xl(null),[R,D]=di(!1),_=N=>{y(N.currentTarget.naturalHeight),C(N.currentTarget.naturalWidth),D(!0)},T=({dimension:N,value:L})=>{let M=parseInt(L);if(N==="width"&&M>=v||N==="height"&&M>=b)return null;let k=100*(M/(N==="width"?v:b));if(k===100||k===0)return null;d({...u,[N]:k})},A=({coordinate:N,value:L})=>{let M=parseInt(L);M>=0&&M<=100&&p(k=>({...k,[N]:M}))},$=()=>{typeof s=="function"&&s({crop:u||void 0,focalPoint:m,heightInPixels:Number(F?.current?.value??b),widthInPixels:Number(I?.current?.value??v)}),a(hd)},P=fh.useCallback(({x:N,y:L})=>{p({x:N,y:L}),g(!1)},[]),j=()=>{let N=w.current.getBoundingClientRect(),L=i?x.current.getBoundingClientRect():S.current.getBoundingClientRect(),M=(L.left-N.left+L.width/2)/N.width*100,k=(L.top-N.top+L.height/2)/N.height*100;p({x:M,y:k})},B=o?`${e}?${encodeURIComponent(o)}`:e;return Zo("div",{className:Rt,children:[Zo("div",{className:`${Rt}__header`,children:[Zo("h2",{title:`${c("general:editing")} ${t}`,children:[c("general:editing")," ",t]}),Zo("div",{className:`${Rt}__actions`,children:[jt(te,{"aria-label":c("general:cancel"),buttonStyle:"secondary",className:`${Rt}__cancel`,onClick:()=>a(hd),children:c("general:cancel")}),jt(te,{"aria-label":c("general:applyChanges"),buttonStyle:"primary",className:`${Rt}__save`,disabled:!R,onClick:$,children:c("general:applyChanges")})]})]}),Zo("div",{className:`${Rt}__toolWrap`,children:[jt("div",{className:`${Rt}__crop`,children:Zo("div",{className:`${Rt}__focal-wrapper`,ref:w,style:{aspectRatio:`${v/b}`},children:[i?jt(aR,{className:`${Rt}__reactCrop`,crop:u,onChange:(N,L)=>d(L),onComplete:()=>g(!0),renderSelectionAddon:()=>jt("div",{className:`${Rt}__crop-window`,ref:x}),children:jt("img",{alt:c("upload:setCropArea"),onLoad:_,ref:S,src:B})}):jt("img",{alt:c("upload:setFocalPoint"),onLoad:_,ref:S,src:B}),l&&jt(Zz,{boundsRef:i?x:S,checkBounds:i?h:!1,className:`${Rt}__focalPoint`,containerRef:w,initialPosition:m,onDragEnd:P,setCheckBounds:i?g:!1,children:jt(tr,{})})]})}),(i||l)&&Zo("div",{className:`${Rt}__sidebar`,children:[i&&Zo("div",{className:`${Rt}__groupWrap`,children:[jt("div",{children:Zo("div",{className:`${Rt}__titleWrap`,children:[jt("h3",{children:c("upload:crop")}),jt(te,{buttonStyle:"none",className:`${Rt}__reset`,onClick:()=>d({height:100,unit:"%",width:100,x:0,y:0}),children:c("general:reset")})]})}),jt("span",{className:`${Rt}__description`,children:c("upload:cropToolDescription")}),Zo("div",{className:`${Rt}__inputsWrap`,children:[jt(mh,{name:`${c("upload:width")} (px)`,onChange:N=>T({dimension:"width",value:N}),ref:I,value:(u.width/100*v).toFixed(0)}),jt(mh,{name:`${c("upload:height")} (px)`,onChange:N=>T({dimension:"height",value:N}),ref:F,value:(u.height/100*b).toFixed(0)})]})]}),l&&Zo("div",{className:`${Rt}__groupWrap`,children:[jt("div",{children:Zo("div",{className:`${Rt}__titleWrap`,children:[jt("h3",{children:c("upload:focalPoint")}),jt(te,{buttonStyle:"none",className:`${Rt}__reset`,onClick:j,children:c("general:reset")})]})}),jt("span",{className:`${Rt}__description`,children:c("upload:focalPointDescription")}),Zo("div",{className:`${Rt}__inputsWrap`,children:[jt(mh,{name:"X %",onChange:N=>A({coordinate:"x",value:N}),value:m.x.toFixed(0)}),jt(mh,{name:"Y %",onChange:N=>A({coordinate:"y",value:N}),value:m.y.toFixed(0)})]})]})]})]})]})},Zz=({boundsRef:t,checkBounds:e,children:o,className:n,containerRef:r,initialPosition:s={x:50,y:50},onDragEnd:i,setCheckBounds:l})=>{let[a,c]=di({x:s.x,y:s.y}),[u,d]=di(!1),f=Xl(void 0),m=fh.useCallback((b,y,v)=>{let C=r.current.getBoundingClientRect(),w=t.current.getBoundingClientRect(),S=b??w.left,x=y??w.top,F=S<w.left||S>w.right,I=x<w.top||x>w.bottom,R=(S-C.left)/C.width*100,D=(x-C.top)/C.height*100,_=(w.left-C.left+w.width/2)/C.width*100,T=(w.top-C.top+w.height/2)/C.height*100;return(F||I)&&(d(!1),S<w.left?R=(w.left-C.left)/C.width*100:S>w.right&&(R=(C.width-(C.right-w.right))/C.width*100),x<w.top?D=(w.top-C.top)/C.height*100:x>w.bottom&&(D=(C.height-(C.bottom-w.bottom))/C.height*100),v&&(R=F?_:R,D=I?T:D)),{x:R,y:D}},[t,r]),p=b=>{b.preventDefault(),d(!0)},h=b=>{if(!u)return null;let{x:y,y:v}=m(b.clientX,b.clientY);c({x:y,y:v})},g=()=>{d(!1),i(a)};return fh.useEffect(()=>{if(!(u||!f.current)&&e){let{height:b,left:y,top:v,width:C}=f.current.getBoundingClientRect(),{x:w,y:S}=m(y+C/2,v+b/2,!0);i({x:w,y:S}),c({x:w,y:S}),l(!1);return}},[m,u,e,l,a.x,a.y,i]),fh.useEffect(()=>{c({x:s.x,y:s.y})},[s.x,s.y]),Zo("div",{className:[`${Rt}__draggable-container`,u&&`${Rt}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:h,children:[jt("button",{className:[`${Rt}__draggable`,n].filter(Boolean).join(" "),onMouseDown:p,onMouseUp:g,ref:f,style:{left:`${a.x}%`,top:`${a.y}%`},type:"button",children:o}),jt("div",{})]})};import{jsx as hR}from"react/jsx-runtime";import"react";import{c as Yz}from"react/compiler-runtime";import{jsx as xs,jsxs as E0}from"react/jsx-runtime";import"react";var mi="file-details-draggable",lR=t=>{let e=Yz(20),{collectionSlug:o,doc:n,hideRemoveFile:r,imageCacheTag:s,isSortable:i,removeItem:l,rowIndex:a,uploadConfig:c}=t,{id:u,filename:d,thumbnailURL:f,url:m}=n,p;e[0]!==o||e[1]!==u?(p={id:u,collectionSlug:o},e[0]=o,e[1]=u,e[2]=p):p=e[2];let[h,g]=Dt(p),b;e[3]!==h||e[4]!==g||e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==f||e[14]!==c||e[15]!==m?(b=v=>E0("div",{className:[mi,v&&i&&`${mi}--has-drag-handle`].filter(Boolean).join(" "),ref:v.setNodeRef,style:{transform:v.transform,transition:v.transition,zIndex:v.isDragging?1:void 0},children:[E0("div",{className:`${mi}--drag-wrapper`,children:[i&&v&&xs("div",{className:`${mi}__drag`,...v.attributes,...v.listeners,children:xs(nn,{})}),xs(_r,{className:`${mi}__thumbnail`,collectionSlug:o,doc:n,fileSrc:f||m,imageCacheTag:s,uploadConfig:c})]}),xs("div",{className:`${mi}__main-detail`,children:d}),E0("div",{className:`${mi}__actions`,children:[xs(h,{}),xs(g,{children:xs(hr,{})}),!r&&l&&xs(te,{buttonStyle:"icon-label",className:`${mi}__remove`,icon:"x",iconStyle:"none",onClick:()=>l(a),round:!0})]})]}),e[3]=h,e[4]=g,e[5]=o,e[6]=n,e[7]=d,e[8]=r,e[9]=s,e[10]=i,e[11]=l,e[12]=a,e[13]=f,e[14]=c,e[15]=m,e[16]=b):b=e[16];let y;return e[17]!==u||e[18]!==b?(y=xs(Fn,{id:u,children:b},u),e[17]=u,e[18]=b,e[19]=y):y=e[19],y};import{jsx as yd,jsxs as fR}from"react/jsx-runtime";import"react";import{jsx as dR,jsxs as bd}from"react/jsx-runtime";import{formatFilesize as Kz}from"payload/shared";import mR from"react";import{c as Jz}from"react/compiler-runtime";import{jsx as qz,jsxs as cR}from"react/jsx-runtime";import{useState as uR}from"react";var Qz="copy-to-clipboard",gd=t=>{let e=Jz(11),{defaultMessage:o,successMessage:n,value:r}=t,[s,i]=uR(!1),[l,a]=uR(!1),{t:c}=E();if(r){let u;e[0]!==r?(u=async()=>{await navigator.clipboard.writeText(r),i(!0)},e[0]=r,e[1]=u):u=e[1];let d,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{a(!0),i(!1)},f=()=>{a(!1),i(!1)},e[2]=d,e[3]=f):(d=e[2],f=e[3]);let m;return e[4]!==s||e[5]!==o||e[6]!==l||e[7]!==n||e[8]!==c||e[9]!==u?(m=cR("button",{className:Qz,onClick:u,onMouseEnter:d,onMouseLeave:f,type:"button",children:[qz(Pi,{}),cR(To,{delay:s?0:void 0,show:l||s,children:[s&&(n??c("general:copied")),!s&&(o??c("general:copy"))]})]}),e[4]=s,e[5]=o,e[6]=l,e[7]=n,e[8]=c,e[9]=u,e[10]=m):m=e[10],m}return null};var N0="file-meta",vd=t=>{let{filename:e,filesize:o,height:n,mimeType:r,url:s,width:i}=t;return bd("div",{className:N0,children:[bd("div",{className:`${N0}__url`,children:[dR("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:e}),dR(gd,{defaultMessage:"Copy URL",value:s})]}),bd("div",{className:`${N0}__size-type`,children:[Kz(o),typeof i=="number"&&typeof n=="number"&&bd(mR.Fragment,{children:["\xA0-\xA0",i,"x",n]}),r&&bd(mR.Fragment,{children:["\xA0-\xA0",r]})]})]})};var ph="file-details",pR=t=>{let{customUploadActions:e,doc:o,enableAdjustments:n,handleRemove:r,hasImageSizes:s,hideRemoveFile:i,imageCacheTag:l,uploadConfig:a}=t,{filename:c,filesize:u,height:d,mimeType:f,thumbnailURL:m,url:p,width:h}=o,g=a.displayPreview??!0;return yd("div",{className:ph,children:fR("header",{children:[g&&yd(_r,{className:`${ph}__thumbnail`,doc:o,fileSrc:m||p,imageCacheTag:l,uploadConfig:a}),fR("div",{className:`${ph}__main-detail`,children:[yd(vd,{filename:c,filesize:u,height:d,mimeType:f,url:p,width:h}),(n||s&&o.filename||e)&&yd(L0,{customActions:e,enableAdjustments:!!n,enablePreviewSizes:s&&o.filename,mimeType:f})]}),!i&&r&&yd(te,{buttonStyle:"icon-label",className:`${ph}__remove`,icon:"x",iconStyle:"with-border",onClick:r,round:!0})]})})};var $0=t=>{let{hasMany:e}=t;return e?hR(lR,{...t}):hR(pR,{...t})};import{jsx as $n,jsxs as Zl}from"react/jsx-runtime";import{useEffect as eW,useMemo as tW,useState as gR}from"react";var Zr="preview-sizes",bR=(t,e)=>{if(!e||e.length===0)return t;let o={};return e.forEach(({name:n})=>{t[n]&&(o[n]=t[n])}),o},vR=({name:t,active:e,meta:o,onClick:n,previewSrc:r})=>Zl("div",{className:[`${Zr}__sizeOption`,e&&`${Zr}--selected`].filter(Boolean).join(" "),onClick:typeof n=="function"?n:void 0,onKeyDown:s=>{typeof n=="function"&&s.key==="Enter"&&n()},role:"button",tabIndex:0,children:[$n("div",{className:`${Zr}__image`,children:$n("img",{alt:o.filename,src:r})}),Zl("div",{className:`${Zr}__sizeMeta`,children:[$n("div",{className:`${Zr}__sizeName`,children:t}),$n(vd,{...o})]})]}),k0=({doc:t,imageCacheTag:e,uploadConfig:o})=>{let{imageSizes:n}=o,{sizes:r}=t,[s,i]=gR(()=>bR(r,n)),[l,a]=gR(null),c=m=>{if(!m.filename)return null;if(m.url)return`${m.url}${e?`?${encodeURIComponent(e)}`:""}`};eW(()=>{i(bR(r,n))},[r,n,e]);let u=c(l?t.sizes[l]:t),d=tW(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),f="Original";return Zl("div",{className:Zr,children:[Zl("div",{className:`${Zr}__imageWrap`,children:[Zl("div",{className:`${Zr}__meta`,children:[$n("div",{className:`${Zr}__sizeName`,children:l||f}),$n(vd,{...l?s[l]:d})]}),$n("img",{alt:t.filename,className:`${Zr}__preview`,src:u})]}),$n("div",{className:`${Zr}__listWrap`,children:Zl("div",{className:`${Zr}__list`,children:[$n(vR,{active:!l,meta:d,name:f,onClick:()=>a(null),previewSrc:c(t)}),Object.entries(s).map(([m,p])=>{let h=l===m,g=c(p);return g?$n(vR,{active:h,meta:p,name:m,onClick:()=>a(m),previewSrc:g},m):null})]})})]})};var fo="file-field",hd="edit-upload",wR="preview-sizes",rW=t=>!t&&t!==void 0?"A file is required.":t&&(!t.name||t.name==="")?"A file name is required.":!0,L0=t=>{let e=CR(8),{customActions:o,enableAdjustments:n,enablePreviewSizes:r,mimeType:s}=t,{t:i}=E(),{openModal:l}=ae(),a,c;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==l||e[5]!==i){c=Symbol.for("react.early_return_sentinel");e:{let u=xR(s)&&s!=="image/svg+xml"&&s!=="image/jxl";if(!u&&(!o||o.length===0)){c=null;break e}a=Yr("div",{className:`${fo}__upload-actions`,children:[u&&Yr(Sd.Fragment,{children:[r&&At(te,{buttonStyle:"pill",className:`${fo}__previewSizes`,margin:!1,onClick:()=>{l(wR)},size:"small",children:i("upload:previewSizes")}),n&&At(te,{buttonStyle:"pill",className:`${fo}__edit`,margin:!1,onClick:()=>{l(hd)},size:"small",children:i("upload:editImage")})]}),o&&o.map(nW)]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=l,e[5]=i,e[6]=a,e[7]=c}else a=e[6],c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:a},j0=t=>{let e=CR(5),{resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}=Vi(),s;return e[0]!==t||e[1]!==o||e[2]!==n||e[3]!==r?(s=At(Bl,{children:At(B0,{...t,resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r})}),e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},B0=t=>{let{collectionSlug:e,customActions:o,initialState:n,onChange:r,resetUploadEdits:s,updateUploadEdits:i,uploadConfig:l,UploadControls:a,uploadEdits:c}=t,{setUploadControlFile:u,setUploadControlFileName:d,setUploadControlFileUrl:f,uploadControlFile:m,uploadControlFileName:p,uploadControlFileUrl:h}=y0(),{config:{routes:{api:g},serverURL:b}}=W(),{t:y}=E(),{setModified:v}=Ge(),{id:C,data:w,docPermissions:S,setUploadStatus:x}=Ne(),F=$r(),{errorMessage:I,setValue:R,showError:D,value:_}=$e({path:"file",validate:rW}),[T,A]=wd(null),[$,P]=wd(!1),[j,B]=wd(_?.name||""),[N,L]=wd(!1),[M,k]=wd(""),O=yR(null),V=yR(null),G=typeof l?.pasteURL=="object"&&l.pasteURL.allowList?.length>0,H=Cd(({file:K,isNewFile:Pe=!0})=>{Pe&&K instanceof File&&A(URL.createObjectURL(K)),R(K),L(!1),f(""),d(null),u(null),typeof r=="function"&&r(K)},[r,R,u,d,f]),z=(K,Pe)=>new File([K],Pe,{type:K.type,lastModified:K.lastModified}),Q=Sd.useCallback(K=>{let Pe=K.target.value;_&&(H({file:z(_,Pe),isNewFile:!1}),B(Pe))},[H,_]),J=Cd(K=>{let Pe=K?.[0];H({file:Pe})},[H]),X=Cd(()=>{P(!0),H({file:null}),A(""),k(""),s(),L(!1),f(""),d(null),u(null)},[H,s,u,d,f]),ie=Cd(K=>{v(!0),i(K)},[v,i]),U=Cd(async()=>{if(!(!M||l?.pasteURL===!1)){x("uploading");try{let K=await fetch(M);if(!K.ok)throw new Error(`Fetch failed with status: ${K.status}`);let Pe=await K.blob(),qe=p||decodeURIComponent(M.split("/").pop()||""),Z=new File([Pe],qe,{type:Pe.type});H({file:Z}),x("idle");return}catch{if(!G){oe.error("Failed to fetch the file."),x("failed");return}}try{let K=`/${e}/paste-url${C?`/${C}?`:"?"}src=${encodeURIComponent(M)}`,Pe=await fetch(`${b}${g}${K}`);if(!Pe.ok)throw new Error(`Fetch failed with status: ${Pe.status}`);let qe=await Pe.blob(),Z=decodeURIComponent(M.split("/").pop()||""),Y=new File([qe],Z,{type:qe.type});H({file:Y}),x("idle")}catch{oe.error("The provided URL is not allowed."),x("failed")}}},[g,e,M,H,C,b,x,l,p,G]);xd(()=>{n?.file?.value instanceof File&&(A(URL.createObjectURL(n.file.value)),P(!1))},[n]),xd(()=>{N&&O.current},[N]),xd(()=>{F&&P(!1)},[F]);let re=S?.update,ce=l?.imageSizes?.length>0,ge=!!l?.resizeOptions,de=l?.focalPoint===!0,{crop:me=!0,focalPoint:Oe=!0}=l,Te=Oe&&(ce||ge||de),he=l.mimeTypes?.join(", "),we=l?.cacheTags&&w?.updatedAt;return xd(()=>{(async()=>{h&&(k(h),await U())})()},[h,U]),xd(()=>{(()=>{m&&H({file:m})})()},[m,H]),Yr("div",{className:[ke,fo].filter(Boolean).join(" "),children:[At(Ye,{message:I,showError:D}),w&&w.filename&&!$&&At($0,{collectionSlug:e,customUploadActions:o,doc:w,enableAdjustments:me||Te,handleRemove:re?X:void 0,hasImageSizes:ce,hideRemoveFile:l.hideRemoveFile,imageCacheTag:we,uploadConfig:l}),(!l.hideFileInputOnCreate&&!w?.filename||$)&&Yr("div",{className:`${fo}__upload`,children:[!_&&!N&&At(ca,{onChange:J,children:Yr("div",{className:`${fo}__dropzoneContent`,children:[Yr("div",{className:`${fo}__dropzoneButtons`,children:[At(te,{buttonStyle:"pill",onClick:()=>{V.current&&V.current.click()},size:"small",children:y("upload:selectFile")}),At("input",{accept:he,"aria-hidden":"true",className:`${fo}__hidden-input`,hidden:!0,onChange:K=>{K.target.files&&K.target.files.length>0&&J(K.target.files)},ref:V,type:"file"}),l?.pasteURL!==!1&&Yr(oW,{children:[At("span",{className:`${fo}__orText`,children:y("general:or")}),At(te,{buttonStyle:"pill",onClick:()=>{L(!0),f(""),u(null),d(null)},size:"small",children:y("upload:pasteURL")})]}),a||null]}),Yr("p",{className:`${fo}__dragAndDropText`,children:[y("general:or")," ",y("upload:dragAndDrop")]})]})}),N&&Yr(Sd.Fragment,{children:[Yr("div",{className:`${fo}__remote-file-wrap`,children:[At("input",{className:`${fo}__remote-file`,onChange:K=>{k(K.target.value)},ref:O,title:M,type:"text",value:M}),At("div",{className:`${fo}__add-file-wrap`,children:At("button",{className:`${fo}__add-file`,onClick:()=>{U()},type:"button",children:y("upload:addFile")})})]}),At(te,{buttonStyle:"icon-label",className:`${fo}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{L(!1),f(""),u(null),d(null)},round:!0,tooltip:y("general:cancel")})]}),_&&T&&Yr(Sd.Fragment,{children:[At("div",{className:`${fo}__thumbnail-wrap`,children:At(_r,{collectionSlug:e,fileSrc:xR(_.type)?T:null})}),Yr("div",{className:`${fo}__file-adjustments`,children:[At("input",{className:`${fo}__filename`,onChange:Q,title:j||_.name,type:"text",value:j||_.name}),At(L0,{customActions:o,enableAdjustments:me||Te,enablePreviewSizes:ce&&w?.filename&&!$,mimeType:_.type})]}),At(te,{buttonStyle:"icon-label",className:`${fo}__remove`,icon:"x",iconStyle:"with-border",onClick:X,round:!0,tooltip:y("general:cancel")})]})]}),(_||w?.filename)&&At(os,{children:At(Tt,{Header:null,slug:hd,children:At(P0,{fileName:_?.name||w?.filename,fileSrc:w?.url||T,imageCacheTag:we,initialCrop:c?.crop??void 0,initialFocalPoint:{x:c?.focalPoint?.x||w?.focalX||50,y:c?.focalPoint?.y||w?.focalY||50},onSave:ie,showCrop:me,showFocalPoint:Te})})}),w&&ce&&At(Tt,{className:`${fo}__previewDrawer`,hoverTitle:!0,slug:wR,title:y("upload:sizesFor",{label:w.filename}),children:At(k0,{doc:w,imageCacheTag:we,uploadConfig:l})})]})};function nW(t,e){return At(Sd.Fragment,{children:t},e)}var aW="collection-edit";function _R({resetUploadEdits:t,submitted:e,updateUploadEdits:o,uploadEdits:n}){let{action:r,collectionSlug:s,docPermissions:i,getDocPreferences:l,hasSavePermission:a,initialState:c,isInitializing:u,Upload:d}=Ne(),{onSave:f}=Au(),{getFormState:m}=Nt(),{config:{folders:p},getEntityConfig:h}=W(),g=Id.useRef(null),b=h({collectionSlug:s}),{reportUpdate:y}=ua(),v=b.slug,[C]=Id.useState(v),w=SR(x=>{y({entitySlug:v,updatedAt:x?.result?.updatedAt||new Date().toISOString()}),typeof f=="function"&&f({...x,operation:"create"}),t()},[v,f,y,t]),S=SR(async({formState:x,submitted:F})=>{let I=Ir(g),R=await l(),{state:D}=await m({collectionSlug:v,docPermissions:i,docPreferences:R,formState:x,operation:"create",schemaPath:C,signal:I.signal,skipValidation:!F});return g.current=null,D},[v,C,l,m,i]);return IR(()=>{let x=g.current;return()=>{Sr(x)}},[]),fi(Zc,{operation:"create",children:iW(vs,{action:r,className:`${aW}__form`,disabled:u||!a,initialState:u?void 0:c,isInitializing:u,method:"POST",onChange:[S],onSuccess:w,submitted:e,children:[fi(ud,{BeforeFields:fi(Id.Fragment,{children:d||fi(B0,{collectionSlug:b.slug,customActions:[p&&b.folders&&fi(pd,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:p.slug,folderFieldName:p.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:c,resetUploadEdits:t,updateUploadEdits:o,uploadConfig:b.upload,uploadEdits:n})}),docPermissions:i,fields:b.fields,schemaPathSegments:[b.slug]}),fi(cW,{}),fi(lW,{})]})})}function lW(){let t=sW(4),{getFields:e}=Ge(),{getFormDataRef:o}=jo(),n,r;return t[0]!==e||t[1]!==o?(n=()=>{o.current=e},r=[e,o],t[0]=e,t[1]=o,t[2]=n,t[3]=r):(n=t[2],r=t[3]),IR(n,r),null}function cW(){let{docConfig:t}=Ne(),{activeIndex:e,setFormTotalErrorCount:o}=jo(),n=Id.useRef(0),r=Id.useCallback(s=>{s!==n.current&&(o({errorCount:s,index:e}),n.current=s)},[e,o]);return t?fi(Hi,{fields:t.fields,path:[],setErrorCount:r}):null}import{c as uW}from"react/compiler-runtime";import{jsx as Lt,jsxs as Cn}from"react/jsx-runtime";import{isImage as dW}from"payload/shared";import gh from"react";var FR=t=>new Promise((e,o)=>{let n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{let s,i,l=n.width/n.height;l>1?(i=280,s=280/l):(i=280*l,s=280);let a=new OffscreenCanvas(i,s),c=a.getContext("2d"),u=t.type==="image/png"?"image/png":"image/jpeg",d=t.type==="image/png"?void 0:.8;c.drawImage(n,0,0,i,s),a.convertToBlob({type:u,...d&&{quality:d}}).then(f=>{URL.revokeObjectURL(n.src);let m=new FileReader;m.onload=()=>e(m.result),m.onerror=o,m.readAsDataURL(f)}).catch(o)},n.onerror=r=>{URL.revokeObjectURL(n.src),o(r)}});var hh="bulk-upload-drawer--add-more-files",St="file-selections";function TR(){let t=uW(39),{activeIndex:e,addFiles:o,forms:n,isInitializing:r,removeFile:s,setActiveIndex:i,totalErrorCount:l}=jo(),{initialFiles:a,initialForms:c,maxFiles:u}=Bo(),{i18n:d,t:f}=E(),{closeModal:m,openModal:p}=ae(),[h,g]=gh.useState(!1),{breakpoints:b}=$o(),y;t[0]!==s?(y=P=>{s(P)},t[0]=s,t[1]=y):y=t[1];let v=y,C;t[2]!==o||t[3]!==m?(C=P=>{o(P),m(hh)},t[2]=o,t[3]=m,t[4]=C):C=t[4];let w=C,S=pW,x=r?a?.length??c?.length:n.length,{collectionSlug:F,selectableCollections:I,setCollectionSlug:R}=Bo(),{getEntityConfig:D}=W(),_=h&&`${St}__showingFiles`,T;t[5]!==_?(T=[St,_].filter(Boolean),t[5]=_,t[6]=T):T=t[6];let A=T.join(" "),$;if(t[7]!==e||t[8]!==b.m||t[9]!==F||t[10]!==m||t[11]!==n||t[12]!==D||t[13]!==w||t[14]!==v||t[15]!==d||t[16]!==a||t[17]!==c||t[18]!==r||t[19]!==u||t[20]!==p||t[21]!==I||t[22]!==i||t[23]!==R||t[24]!==h||t[25]!==f||t[26]!==A||t[27]!==l||t[28]!==x){let P;t[30]===Symbol.for("react.memo_cache_sentinel")?(P=()=>g(fW),t[30]=P):P=t[30];let j;t[31]!==m?(j=()=>m(hh),t[31]=m,t[32]=j):j=t[32];let B;t[33]!==e||t[34]!==v||t[35]!==d||t[36]!==i||t[37]!==f?(B=(N,L)=>{let{errorCount:M,formID:k,formState:O}=N,V=O?.file?.value||{};return Cn("div",{className:[`${St}__fileRowContainer`,L===e&&`${St}__fileRowContainer--active`,M&&M>0&&`${St}__fileRowContainer--error`].filter(Boolean).join(" "),children:[Cn("button",{className:`${St}__fileRow`,onClick:()=>i(L),type:"button",children:[Lt(hW,{file:V,formID:k}),Lt("div",{className:`${St}__fileDetails`,children:Lt("p",{className:`${St}__fileName`,title:V.name,children:V.name||f("upload:noFile")})}),V instanceof File?Lt("p",{className:`${St}__fileSize`,children:S(V)}):null,Lt("div",{className:`${St}__remove ${St}__remove--underlay`,children:Lt(ht,{})}),M?Lt(xo,{className:`${St}__errorCount`,count:M,i18n:d}):null]}),Lt("button",{"aria-label":f("general:remove"),className:`${St}__remove ${St}__remove--overlay`,onClick:()=>v(L),type:"button",children:Lt(ht,{})})]},k)},t[33]=e,t[34]=v,t[35]=d,t[36]=i,t[37]=f,t[38]=B):B=t[38],$=Cn("div",{className:A,children:[b.m&&h?Lt("div",{className:`${St}__mobileBlur`}):null,Cn("div",{className:`${St}__header`,children:[I?.length>1&&Lt(Wr,{className:`${St}__collectionSelect`,isClearable:!1,name:"groupBy",onChange:N=>{let L=typeof N=="object"&&"value"in N?N?.value:N;R(L)},options:I?.map(N=>{let L=D({collectionSlug:N});return{label:L.labels.singular,value:L.slug}})||[],path:"groupBy",required:!0,value:F}),Cn("div",{className:`${St}__headerTopRow`,children:[Cn("div",{className:`${St}__header__text`,children:[Lt(xo,{count:l,i18n:d,withMessage:!0}),Lt("p",{children:Cn("strong",{title:`${x} ${f(x>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[x," ",f(x>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),Cn("div",{className:`${St}__header__actions`,children:[typeof u!="number"||x<u?Lt(it,{className:`${St}__header__addFile`,onClick:()=>p(hh),size:"small",children:f("upload:addFile")}):null,Cn(te,{buttonStyle:"transparent",className:`${St}__toggler`,onClick:P,children:[Lt("span",{className:`${St}__toggler__label`,children:Cn("strong",{title:`${x} ${f(x>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[x," ",f(x>1?"upload:filesToUpload":"upload:fileToUpload")]})}),Lt(He,{direction:h?"down":"up"})]}),Lt(Tt,{gutter:!1,Header:null,slug:hh,children:Lt(Qp,{onCancel:j,onDrop:w})})]})]}),Lt("div",{className:`${St}__header__mobileDocActions`,children:Lt(S0,{})})]}),Lt("div",{className:`${St}__animateWrapper`,children:Lt(Cr,{height:!b.m||h?"auto":0,children:Cn("div",{className:`${St}__filesContainer`,children:[r&&n.length===0&&(a?.length>0||c?.length>0)?(a?Array.from(a):c).map(mW):null,n.map(B)]})})})]}),t[7]=e,t[8]=b.m,t[9]=F,t[10]=m,t[11]=n,t[12]=D,t[13]=w,t[14]=v,t[15]=d,t[16]=a,t[17]=c,t[18]=r,t[19]=u,t[20]=p,t[21]=I,t[22]=i,t[23]=R,t[24]=h,t[25]=f,t[26]=A,t[27]=l,t[28]=x,t[29]=$}else $=t[29];return $}function mW(t,e){return Lt(It,{animationDelay:`calc(${e} * 60ms)`,height:"35px"},e)}function fW(t){return!t}function pW(t){let e=t.size,o=e===0?0:Math.floor(Math.log(e)/Math.log(1024)),n=o>1?1:0;return(e/Math.pow(1024,o)).toFixed(n)+" "+["B","kB","MB","GB","TB"][o]}function hW({file:t,formID:e}){let[o,n]=gh.useState(null),[r,s]=gh.useState(!0);return gh.useEffect(()=>{let i=!1;async function l(){s(!0),n(null);try{if(dW(t.type)){let a=await FR(t);i||n(a)}else n(null)}catch{i||n(null)}finally{i||s(!1)}}return l(),()=>{i=!0}},[t]),r?Lt(It,{className:`${St}__thumbnail-shimmer`,disableInlineStyles:!0}):Lt(_r,{className:`${St}__thumbnail`,fileSrc:o},`${e}-${o||"placeholder"}`)}var DR="bulk-upload--file-manager";function RR(){let t=gW(18),{activeIndex:e,collectionSlug:o,docPermissions:n,documentSlots:r,forms:s,hasPublishPermission:i,hasSavePermission:l,hasSubmitted:a,resetUploadEdits:c,updateUploadEdits:u}=jo(),d=s[e],{getEntityConfig:f}=W(),{i18n:m}=E(),{user:p}=_e(),{openModal:h}=ae(),g;if(t[0]!==d||t[1]!==e||t[2]!==o||t[3]!==n||t[4]!==r||t[5]!==s.length||t[6]!==f||t[7]!==i||t[8]!==l||t[9]!==a||t[10]!==m||t[11]!==h||t[12]!==c||t[13]!==u||t[14]!==p){let b=f({collectionSlug:o}),y;t[16]!==h?(y=()=>h(cd),t[16]=h,t[17]=y):y=t[17],g=M0("div",{className:DR,children:[_d(TR,{}),M0("div",{className:`${DR}__editView`,children:[_d(li,{onClose:y,title:bW(b.labels.singular,m)}),d?M0(Xc,{collectionSlug:o,currentEditor:p,docPermissions:n,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:l,id:null,initialData:vW(d.formState,!0),initialState:d.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:r.Upload,versionCount:0,children:[_d(ED,{collectionConfig:b}),_d(_R,{resetUploadEdits:c,submitted:a,updateUploadEdits:u,uploadEdits:d?.uploadEdits})]},`${e}-${s.length}`):null]}),_d(ND,{})]}),t[0]=d,t[1]=e,t[2]=o,t[3]=n,t[4]=r,t[5]=s.length,t[6]=f,t[7]=i,t[8]=l,t[9]=a,t[10]=m,t[11]=h,t[12]=c,t[13]=u,t[14]=p,t[15]=g}else g=t[15];return g}var wW="bulk-upload-drawer-slug";function SW(){let{addFiles:t,forms:e,isInitializing:o}=jo(),{closeModal:n}=ae(),{collectionSlug:r,drawerSlug:s}=Bo(),{getEntityConfig:i}=W(),{t:l}=E(),u=i({collectionSlug:r})?.upload?.mimeTypes,d=Dr.useCallback(f=>{let m=new DataTransfer;for(let p of f)(u===void 0||u.length===0||CW(p.type,u))&&m.items.add(p);m.files.length===0?oe.error(l("error:invalidFileType")):t(m.files)},[t,l,u]);return r?!e.length&&!o?ws(Qp,{acceptMimeTypes:u?.join(", "),onCancel:()=>n(s),onDrop:d}):ws(RR,{}):null}function PR(){let t=AR(17),{drawerSlug:e,onCancel:o,setInitialFiles:n,setInitialForms:r,setOnCancel:s,setOnSuccess:i,setSelectableCollections:l,setSuccessfullyUploaded:a,successfullyUploaded:c}=Bo(),{modalState:u}=ae(),d=Dr.useRef(u),f;t[0]!==e||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==s||t[5]!==i||t[6]!==l||t[7]!==a||t[8]!==c?(f=b=>{let y=d.current[e],v=b[e];typeof v>"u"&&typeof y>"u"||(y?.isOpen!==v?.isOpen&&(v?.isOpen||(c||typeof o=="function"&&o(),n(void 0),r(void 0),s(FW),i(IW),l(null),a(!1))),d.current=b)},t[0]=e,t[1]=o,t[2]=n,t[3]=r,t[4]=s,t[5]=i,t[6]=l,t[7]=a,t[8]=c,t[9]=f):f=t[9];let m=vt(f),p;t[10]!==u||t[11]!==m?(p=()=>{m(u)},t[10]=u,t[11]=m,t[12]=p):p=t[12];let h;t[13]!==u?(h=[u],t[13]=u,t[14]=h):h=t[14],xW(p,h);let g;return t[15]!==e?(g=ws(Tt,{gutter:!1,Header:null,slug:e,children:ws(xD,{children:ws(Bl,{children:ws(os,{children:ws(SW,{})})})})}),t[15]=e,t[16]=g):g=t[16],g}function IW(){return _W}function _W(){return null}function FW(){return TW}function TW(){return null}var ER=Dr.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,initialForms:[],maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,selectableCollections:null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setInitialForms:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null,setSelectableCollections:()=>null,setSuccessfullyUploaded:()=>!1,successfullyUploaded:!1});function O0(t){let e=AR(17),{children:o,drawerSlugPrefix:n}=t,[r,s]=Dr.useState(null),[i,l]=Dr.useState(),[a,c]=Dr.useState(),[u,d]=Dr.useState(),[f,m]=Dr.useState(void 0),[p,h]=Dr.useState(void 0),[g,b]=Dr.useState(void 0),[y,v]=Dr.useState(!1),C=`${n?`${n}-`:""}${NR()}`,w;e[0]===Symbol.for("react.memo_cache_sentinel")?(w=_=>{c(()=>_)},e[0]=w):w=e[0];let S=w,x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x=_=>{d(()=>_)},e[1]=x):x=e[1];let F=x,I;e[2]!==u?(I=()=>{typeof u=="function"&&u()},e[2]=u,e[3]=I):I=e[3];let R;e[4]!==a?(R=(_,T)=>{typeof a=="function"&&a(_,T)},e[4]=a,e[5]=R):R=e[5];let D;return e[6]!==o||e[7]!==i||e[8]!==C||e[9]!==f||e[10]!==p||e[11]!==g||e[12]!==r||e[13]!==y||e[14]!==I||e[15]!==R?(D=ws(ER,{value:{collectionSlug:i,drawerSlug:C,initialFiles:f,initialForms:p,maxFiles:g,onCancel:I,onSuccess:R,selectableCollections:r,setCollectionSlug:l,setInitialFiles:m,setInitialForms:h,setMaxFiles:b,setOnCancel:F,setOnSuccess:S,setSelectableCollections:s,setSuccessfullyUploaded:v,successfullyUploaded:y},children:yW(Dr.Fragment,{children:[o,ws(PR,{})]})}),e[6]=o,e[7]=i,e[8]=C,e[9]=f,e[10]=p,e[11]=g,e[12]=r,e[13]=y,e[14]=I,e[15]=R,e[16]=D):D=e[16],D}var Bo=()=>Dr.use(ER);function NR(){let t=jr();return`${wW}-${t||1}`}import{jsx as qt,jsxs as ga,Fragment as Td}from"react/jsx-runtime";import*as OR from"qs-esm";import xn,{useCallback as BR,useEffect as MR,useMemo as V0}from"react";import{c as EW}from"react/compiler-runtime";import{jsx as ha,jsxs as NW}from"react/jsx-runtime";import"react";import{c as DW}from"react/compiler-runtime";import{jsx as pi,jsxs as bh}from"react/jsx-runtime";import{getTranslation as RW}from"@payloadcms/translations";import{formatFilesize as AW}from"payload/shared";import"react";var Ss="upload-relationship-details";function vh(t){let e=DW(11),{id:o,allowEdit:n,allowRemove:r,alt:s,byteSize:i,className:l,collectionSlug:a,displayPreview:c,filename:u,mimeType:d,onRemove:f,reloadDoc:m,showCollectionSlug:p,src:h,thumbnailSrc:g,withMeta:b,x:y,y:v}=t,C=p===void 0?!1:p,w=b===void 0?!0:b,{config:S}=W(),{i18n:x}=E(),F="collections"in S?S.collections.find(M=>M.slug===a):void 0,I=h?o:void 0,R;e[0]!==a||e[1]!==I?(R={id:I,collectionSlug:a},e[0]=a,e[1]=I,e[2]=R):R=e[2];let[D,,_]=Dt(R),{openDrawer:T}=_,A;e[3]!==a||e[4]!==m?(A=async M=>{let{doc:k}=M;return m(k.id,a)},e[3]=a,e[4]=m,e[5]=A):A=e[5];let $=A,P;e[6]!==y||e[7]!==v?(P=function(k,O){let V=[];return O&&V.push(AW(O)),y&&v&&V.push(`${y}x${v}`),k&&V.push(k),V.join(" \u2014 ")},e[6]=y,e[7]=v,e[8]=P):P=e[8];let B=w?P(d,i):"",N=c??F?.upload?.displayPreview??!0,L;return e[9]!==l?(L=[Ss,l].filter(Boolean),e[9]=l,e[10]=L):L=e[10],bh("div",{className:L.join(" "),children:[bh("div",{className:`${Ss}__imageAndDetails`,children:[N&&pi(qF,{alt:s,className:`${Ss}__thumbnail`,filename:u,fileSrc:g,size:"small"}),C&&F?pi(it,{size:"small",children:RW(F.labels.singular,x)}):null,bh("div",{className:`${Ss}__details`,children:[pi("p",{className:`${Ss}__filename`,children:h?pi("a",{href:h,target:"_blank",children:u}):u}),w?pi("p",{className:`${Ss}__meta`,children:B}):null]})]}),n!==!1||r!==!1?bh("div",{className:`${Ss}__actions`,children:[n!==!1?pi(te,{buttonStyle:"icon-label",className:`${Ss}__edit`,icon:"edit",iconStyle:"none",onClick:T}):null,r!==!1?pi(te,{buttonStyle:"icon-label",className:`${Ss}__remove`,icon:"x",iconStyle:"none",onClick:()=>f()}):null,pi(D,{onSave:$})]}):null]})}import{jsx as PW}from"react/jsx-runtime";import"react";var LR="upload-field-card";function yh({children:t,className:e,size:o="medium"}){return PW("div",{className:[LR,e,`${LR}--size-${o}`].filter(Boolean).join(" "),children:t})}import{getBestFitFromSizes as LW,isImage as $W}from"payload/shared";var Fd="upload upload--has-many";function $R(t){let e=EW(29),{className:o,displayPreview:n,fileDocs:r,isSortable:s,onRemove:i,onReorder:l,readonly:a,reloadDoc:c,serverURL:u,showCollectionSlug:d}=t,f=d===void 0?!1:d,m;e[0]!==r||e[1]!==l?(m=(C,w)=>{if(C===w)return;let S=[...r],[x]=S.splice(C,1);S.splice(w,0,x),l(S)},e[0]=r,e[1]=l,e[2]=m):m=e[2];let p=m,h;e[3]!==r||e[4]!==i?(h=C=>{let w=[...r||[]];w.splice(C,1),i(w.length===0?[]:w)},e[3]=r,e[4]=i,e[5]=h):h=e[5];let g=h,b;e[6]!==o?(b=[Fd,o].filter(Boolean),e[6]=o,e[7]=b):b=e[7];let y=b.join(" "),v;if(e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==p||e[12]!==a||e[13]!==c||e[14]!==g||e[15]!==u||e[16]!==f||e[17]!==y){let C;e[19]!==p?(C=S=>{let{moveFromIndex:x,moveToIndex:F}=S;return p(x,F)},e[19]=p,e[20]=C):C=e[20];let w;e[21]!==n||e[22]!==s||e[23]!==a||e[24]!==c||e[25]!==g||e[26]!==u||e[27]!==f?(w=(S,x)=>{let{relationTo:F,value:I}=S,R=String(I.id),D,_;if(I.url)try{D=new URL(I.url,u).toString()}catch{D=`${u}${I.url}`}if(I.thumbnailURL)try{_=new URL(I.thumbnailURL,u).toString()}catch{_=`${u}${I.thumbnailURL}`}return $W(I.mimeType)&&(_=LW({sizes:I.sizes,thumbnailURL:_,url:D,width:I.width})),ha(Fn,{disabled:!s||a,id:R,children:T=>ha("div",{className:[`${Fd}__dragItem`,T&&s&&`${Fd}--has-drag-handle`].filter(Boolean).join(" "),ref:T.setNodeRef,style:{transform:T.transform,transition:T.transition,zIndex:T.isDragging?1:void 0},children:NW(yh,{size:"small",children:[T&&ha("div",{className:`${Fd}__drag`,...T.attributes,...T.listeners,children:ha(nn,{})}),ha(vh,{allowEdit:!a,allowRemove:!a,alt:I?.alt||I?.filename,byteSize:I.filesize,collectionSlug:F,displayPreview:n,filename:I.filename,id:R,mimeType:I?.mimeType,onRemove:()=>g(x),reloadDoc:c,showCollectionSlug:f,src:D,thumbnailSrc:_,withMeta:!1,x:I?.width,y:I?.height})]})})},R)},e[21]=n,e[22]=s,e[23]=a,e[24]=c,e[25]=g,e[26]=u,e[27]=f,e[28]=w):w=e[28],v=ha("div",{className:y,children:ha(kr,{className:`${Fd}__draggable-rows`,ids:r?.map(kW),onDragEnd:C,children:r.map(w)})}),e[8]=n,e[9]=r,e[10]=s,e[11]=p,e[12]=a,e[13]=c,e[14]=g,e[15]=u,e[16]=f,e[17]=y,e[18]=v}else v=e[18];return v}function kW(t){let{value:e}=t;return String(e.id)}import{jsx as kR}from"react/jsx-runtime";import{getBestFitFromSizes as jW,isImage as BW}from"payload/shared";import"react";var MW="upload upload--has-one";function jR(t){let{className:e,displayPreview:o,fileDoc:n,onRemove:r,readonly:s,reloadDoc:i,serverURL:l,showCollectionSlug:a=!1}=t,{relationTo:c,value:u}=n,d=String(u?.id),f,m;if(u.url)try{f=new URL(u.url,l).toString()}catch{f=`${l}${u.url}`}if(u.thumbnailURL)try{m=new URL(u.thumbnailURL,l).toString()}catch{m=`${l}${u.thumbnailURL}`}return BW(u.mimeType)&&(m=jW({sizes:u.sizes,thumbnailURL:m,url:f,width:u.width})),kR(yh,{className:[MW,e].filter(Boolean).join(" "),children:kR(vh,{allowEdit:!s,allowRemove:!s,alt:u?.alt||u?.filename,byteSize:u.filesize,collectionSlug:c,displayPreview:o,filename:u.filename,id:d,mimeType:u?.mimeType,onRemove:r,reloadDoc:i,showCollectionSlug:a,src:f,thumbnailSrc:m,x:u?.width,y:u?.height})})}var kn="upload";function Ch(t){let{AfterInput:e,allowCreate:o,api:n,BeforeInput:r,className:s,Description:i,description:l,displayPreview:a,Error:c,filterOptions:u,hasMany:d,isSortable:f,Label:m,label:p,localized:h,maxRows:g,onChange:b,path:y,readOnly:v,relationTo:C,required:w,serverURL:S,showError:x,style:F,value:I}=t,[R,D]=xn.useState(),[_]=xn.useState(Array.isArray(C)?C[0]:C),{openModal:T}=ae(),{drawerSlug:A,setCollectionSlug:$,setInitialFiles:P,setMaxFiles:j,setOnSuccess:B,setSelectableCollections:N}=Bo(),{permissions:L}=_e(),{code:M}=xe(),{i18n:k,t:O}=E(),V=V0(()=>Array.isArray(C)?C.filter(Z=>L?.collections&&L.collections?.[Z]?.create):[],[C,L]),G=V0(()=>{let Z=Array.isArray(C);if(!I)return u;let Y={},q=Array.isArray(I)?I:[I];for(let ee of q)if(Z&&typeof ee=="object"&&"relationTo"in ee)Y[ee.relationTo]||(Y[ee.relationTo]=[]),Y[ee.relationTo].push(ee.value);else if(!Z){let le=C;Y[le]||(Y[le]=[]);let ve=typeof ee=="object"&&"value"in ee?ee.value:ee;(typeof ve=="string"||typeof ve=="number")&&Y[le].push(ve)}let ne={...u};return(Z?C:[C]).forEach(ee=>{let le=Y[ee]||[];ne[ee]={...u?.[ee]||{},id:{...u?.[ee]?.id||{},not_in:(u?.[ee]?.id?.not_in||[]).concat(le)}}}),ne},[I,u,C]),[H,,{closeDrawer:z,openDrawer:Q}]=ra({collectionSlugs:typeof C=="string"?[C]:C,filterOptions:G}),[J,,{closeDrawer:X,openDrawer:ie}]=Dt({collectionSlug:_}),U=xn.useRef(null),re=V0(()=>o?!!(typeof _=="string"&&L?.collections&&L.collections?.[_]?.create):!1,[_,L,o]),ce=xn.useCallback(Z=>{typeof b=="function"&&b(Z)},[b]),ge=xn.useCallback(async Z=>{if(!Z?.length)return[];let Y={};Z.forEach(({relationTo:le,value:ve})=>{Y[le]||(Y[le]=[]),Y[le].push(ve)});let q=Object.entries(Y).map(async([le,ve])=>{let Ee={depth:0,draft:!0,limit:ve.length,locale:M,where:{and:[{id:{in:ve}}]}},pe=await fetch(`${S}${n}/${le}`,{body:OR.stringify(Ee),credentials:"include",headers:{"Accept-Language":k.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),be=[];pe.ok&&(be=(await pe.json()).docs);let Ce=be.reduce((Re,Je)=>(Re[Je.id]=Je,Re),{});return{collection:le,docsById:Ce}}),ne=await Promise.all(q),fe={};return ne.forEach(({collection:le,docsById:ve})=>{fe[le]=ve}),Z.map(({relationTo:le,value:ve})=>{let Ee=fe[le]?.[ve]||{id:ve,filename:`${O("general:untitled")} - ID: ${ve}`,isPlaceholder:!0};return{relationTo:le,value:Ee}})},[S,n,M,k.language,O]),de=BR(Z=>{let Y=Array.isArray(C);if(d){let q=Z.map(fe=>Y?{relationTo:fe.collectionSlug,value:fe.doc.id}:fe.doc.id),ne=[...Array.isArray(I)?I:[],...q];ce(ne),D(fe=>[...fe||[],...Z.map(ee=>({relationTo:ee.collectionSlug,value:ee.doc}))])}else{let q=Z[0],ne=Y?{relationTo:q.collectionSlug,value:q.doc.id}:q.doc.id;ce(ne),D([{relationTo:q.collectionSlug,value:q.doc}])}},[I,ce,d,C]),me=xn.useCallback(Z=>{let Y=Z;if(!d&&Z&&Z.length>1){let ne=new DataTransfer;ne.items.add(Z[0]),Y=ne.files}Y&&P(Y);let q=Array.isArray(C)?_:C;$(q),Array.isArray(V)&&N(V),typeof g=="number"&&j(g),T(A)},[d,C,_,$,V,g,T,A,P,N,j]),Oe=xn.useCallback(async Z=>{let Y=Array.isArray(C),q=[];for(let[le,ve]of Z)ve&&q.push(le);let ne=q.map(le=>({relationTo:_,value:le})),fe=await ge(ne);fe&&D(le=>[...le||[],...fe]);let ee=q.map(le=>Y?{relationTo:_,value:le}:le);ce([...Array.isArray(I)?I:[],...ee]),z()},[_,z,ce,ge,I,C]),Te=xn.useCallback(Z=>{let Y=Array.isArray(C);if(Z.doc){D(ne=>[...ne||[],{relationTo:_,value:Z.doc}]);let q=Y?{relationTo:_,value:Z.doc.id}:Z.doc.id;ce(q)}X()},[X,_,ce,C]),he=BR(async({collectionSlug:Z,doc:Y})=>{let q=Array.isArray(C),fe=(await ge([{relationTo:Z,value:Y.id}]))?.[0]||null;D(le=>fe?d?[...le||[],fe]:[fe]:le);let ee=q?{relationTo:Z,value:Y.id}:Y.id;if(d){let le=[...Array.isArray(I)?I:[],ee];ce(le)}else{let le=q?{relationTo:Z,value:Y.id}:Y.id;ce(le)}z()},[z,d,ge,ce,I,C]),we=xn.useCallback(async(Z,Y)=>{let q=await ge([{relationTo:Y,value:Z}]);if(q[0]){let ne=[];D(fe=>{let ee=fe?.findIndex(le=>(le.value?.id===q[0].value.id||le.value?.isPlaceholder)&&le.relationTo===Y);if(ee>-1){let le=[...fe];return le[ee]=q[0],ne=le,le}return fe}),ne.length&&d&&ce(ne.map(fe=>fe.value?.id))}},[ge,ce,d]),K=xn.useCallback(Z=>{let Y=Array.isArray(C),q=Z.map(({relationTo:ne,value:fe})=>Y?{relationTo:ne,value:fe.id}:fe.id);ce(q),D(Z)},[ce,C]),Pe=xn.useCallback(Z=>{let Y=Array.isArray(C);if(!Z||Z.length===0){ce(d?[]:null),D(d?[]:null);return}let q=Z.map(({relationTo:ne,value:fe})=>Y?{relationTo:ne,value:fe.id}:fe.id);ce(d?q:q[0]),D(Z)},[ce,d,C]);MR(()=>{async function Z(){if(I){let q;Array.isArray(C)&&(typeof I=="object"&&"relationTo"in I||Array.isArray(I)&&I.length>0&&typeof I[0]=="object"&&"relationTo"in I[0])?q=(Array.isArray(I)?I:[I]).filter(ee=>typeof ee=="object"&&"relationTo"in ee):Array.isArray(C)||(q=(Array.isArray(I)?I:[I]).map(ee=>{let le=typeof ee=="object"&&"value"in ee?ee.value:ee;return{relationTo:C,value:le}}));let ne=await ge(q);ne&&(D(ne),U.current=I)}else D([]),U.current=null}U.current!==I&&Z()},[ge,I,C]),MR(()=>{B(de)},[I,y,de,B]);let qe=!I||d&&Array.isArray(I)&&(typeof g!="number"||I.length<g)||!d&&R?.[0]&&typeof R[0].value>"u";return ga("div",{className:[ke,kn,s,x&&"error",v&&"read-only"].filter(Boolean).join(" "),id:`field-${y?.replace(/\./g,"__")}`,style:F,children:[qt(ue,{CustomComponent:m,Fallback:qt(Fe,{label:p,localized:h,path:y,required:w})}),qt("div",{className:`${kn}__wrap`,children:qt(ue,{CustomComponent:c,Fallback:qt(Ye,{path:y,showError:x})})}),r,ga("div",{className:`${kn}__dropzoneAndUpload`,children:[d&&Array.isArray(I)&&I.length>0?qt(Td,{children:R&&R?.length>0?qt($R,{displayPreview:a,fileDocs:R,isSortable:f&&!v,onRemove:Pe,onReorder:K,readonly:v,reloadDoc:we,serverURL:S,showCollectionSlug:Array.isArray(C)}):qt("div",{className:`${kn}__loadingRows`,children:I.map(Z=>qt(It,{height:"40px"},typeof Z=="object"?Z.value:Z))})}):null,!d&&I?qt(Td,{children:R&&R?.length>0&&R[0].value?qt(jR,{displayPreview:a,fileDoc:R[0],onRemove:Pe,readonly:v,reloadDoc:we,serverURL:S,showCollectionSlug:Array.isArray(C)}):R&&I&&!R?.[0]?.value?ga(Td,{children:[O("general:untitled")," - ID: ",I]}):qt(It,{height:"62px"})}):null,qe?qt(ca,{disabled:v||!re,multipleFiles:d,onChange:me,children:ga("div",{className:`${kn}__dropzoneContent`,children:[ga("div",{className:`${kn}__dropzoneContent__buttons`,children:[re&&ga(Td,{children:[qt(te,{buttonStyle:"pill",className:`${kn}__createNewToggler`,disabled:v||!re,onClick:()=>{v||(d?me():ie())},size:"small",children:O("general:createNew")}),qt("span",{className:`${kn}__dropzoneContent__orText`,children:O("general:or")})]}),qt(te,{buttonStyle:"pill",className:`${kn}__listToggler`,disabled:v,onClick:Q,size:"small",children:O("fields:chooseFromExisting")}),qt(J,{onSave:Te}),qt(H,{allowCreate:re,enableRowSelections:d,onBulkSelect:Oe,onSelect:he})]}),re&&!v&&ga("p",{className:`${kn}__dragAndDropText`,children:[O("general:or")," ",O("upload:dragAndDrop")]})]})}):qt(Td,{children:!v&&!R&&(!I||typeof g!="number"||Array.isArray(I)&&I.length<g)?qt(It,{height:"40px"}):null})]}),e,qt(ue,{CustomComponent:i,Fallback:qt(Ue,{description:l,path:y})})]})}function VW(t){let{field:e,field:{admin:{allowCreate:o,className:n,description:r,isSortable:s}={},hasMany:i,label:l,localized:a,maxRows:c,relationTo:u,required:d},path:f,readOnly:m,validate:p}=t,{config:h}=W(),g=e.displayPreview,b=GR.useCallback((P,j)=>{if(typeof p=="function")return p(P,{...j,required:d})},[p,d]),{customComponents:{AfterInput:y,BeforeInput:v,Description:C,Error:w,Label:S}={},disabled:x,filterOptions:F,path:I,setValue:R,showError:D,value:_}=$e({potentiallyStalePath:f,validate:b}),T=Array.isArray(u),A=GR.useMemo(()=>i===!0&&Array.isArray(_)?_.map(P=>T?P:{relationTo:Array.isArray(u)?u[0]:u,value:P}):_,[i,_,T,u]),$=OW(()=>Ke(e),[e]);return VR(O0,{drawerSlugPrefix:f,children:VR(Ch,{AfterInput:y,allowCreate:o!==!1,api:h.routes.api,BeforeInput:v,className:n,Description:C,description:r,displayPreview:g,Error:w,filterOptions:F,hasMany:i,isSortable:s,label:l,Label:S,localized:a,maxRows:c,onChange:R,path:I,readOnly:m||x,relationTo:u,required:d,serverURL:h.serverURL,showError:D,style:$,value:A})})}var Dd=We(VW);function Ol(t){let e=GW(13),{clientFieldConfig:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c,schemaPath:u}=t,d;e[0]!==l?(d=p=>{let[h]=p;return h&&h?.[l]?.customComponents?.Field},e[0]=l,e[1]=d):d=e[1];let f=Et(d),m;if(e[2]!==f||e[3]!==o||e[4]!==n||e[5]!==r||e[6]!==s||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u){m=Symbol.for("react.early_return_sentinel");e:{let p={forceRender:n,permissions:a,readOnly:c,schemaPath:u};if(o.admin?.hidden){m=Gt(_u,{...p,path:l});break e}if(f!==void 0){m=f||null;break e}let h={...p,indexPath:r,parentPath:s,parentSchemaPath:i};switch(o.type){case"array":{m=Gt(Rd,{...h,field:o,path:l});break e}case"blocks":{m=Gt(ru,{...h,field:o,path:l});break e}case"checkbox":{m=Gt(Mr,{...p,field:o,path:l});break e}case"code":{m=Gt(su,{...p,field:o,path:l});break e}case"collapsible":{m=Gt(au,{...h,field:o,path:l});break e}case"date":{m=Gt(Su,{...p,field:o,path:l});break e}case"email":{m=Gt(Ki,{...p,field:o,path:l});break e}case"group":{m=Gt(Iu,{...h,field:o,path:l});break e}case"join":{m=Gt(ku,{...p,field:o,path:l});break e}case"json":{m=Gt(ju,{...p,field:o,path:l});break e}case"number":{m=Gt(Bu,{...p,field:o,path:l});break e}case"point":{m=Gt(Mu,{...p,field:o,path:l});break e}case"radio":{m=Gt(Gu,{...p,field:o,path:l});break e}case"relationship":{m=Gt(Yu,{...p,field:o,path:l});break e}case"richText":{m=Gt(Ju,{...p,field:o,path:l});break e}case"row":{m=Gt(qu,{...h,field:o});break e}case"select":{m=Gt(Qu,{...p,field:o,path:l});break e}case"tabs":{m=Gt(rd,{...h,field:o,path:l});break e}case"text":{m=Gt(la,{...p,field:o,path:l});break e}case"textarea":{m=Gt(sd,{...p,field:o,path:l});break e}case"ui":{m=Gt(id,{});break e}case"upload":{m=Gt(Dd,{...p,field:o,path:l});break e}}}e[2]=f,e[3]=o,e[4]=n,e[5]=r,e[6]=s,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=m}else m=e[12];if(m!==Symbol.for("react.early_return_sentinel"))return m}var z0="render-fields",Po=t=>{let e=zW(22),{className:o,fields:n,forceRender:r,margins:s,parentIndexPath:i,parentPath:l,parentSchemaPath:a,permissions:c,readOnly:u}=t,d=vr();if(n&&n.length>0){let f=s&&`${z0}--margins-${s}`,m=s===!1&&`${z0}--margins-none`,p;e[0]!==o||e[1]!==f||e[2]!==m?(p=[z0,o,f,m].filter(Boolean),e[0]=o,e[1]=f,e[2]=m,e[3]=p):p=e[3];let h=p.join(" "),g;if(e[4]!==n||e[5]!==r||e[6]!==d||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==h){let b;e[14]!==r||e[15]!==d||e[16]!==i||e[17]!==l||e[18]!==a||e[19]!==c||e[20]!==u?(b=(y,v)=>{if(!y||WW(y))return null;let{operation:C,permissions:w,read:S}=UW({field:y,operation:d,parentName:l?.includes(".")?l.split(".")[l.split(".").length-1]:l,permissions:c});if("name"in y&&!S)return null;let x=u||y?.admin?.readOnly;x&&y.admin?.readOnly===!1&&(x=!1),"name"in y&&!C&&(x=!0);let{indexPath:F,path:I,schemaPath:R}=HW({field:y,index:v,parentIndexPath:i,parentPath:l,parentSchemaPath:a});return G0(us,{value:I,children:G0(Ol,{clientFieldConfig:y,forceRender:r,indexPath:F,parentPath:l,parentSchemaPath:a,path:I,permissions:w,readOnly:x,schemaPath:R})},`${I}-${v}`)},e[14]=r,e[15]=d,e[16]=i,e[17]=l,e[18]=a,e[19]=c,e[20]=u,e[21]=b):b=e[21],g=G0(N3,{className:h,forceRender:r,children:n.map(b)}),e[4]=n,e[5]=r,e[6]=d,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=h,e[13]=g}else g=e[13];return g}return null};var Ad="array-field",zR=t=>{let e=XW(40),{addRow:o,attributes:n,copyRow:r,CustomRowLabel:s,duplicateRow:i,errorCount:l,fields:a,forceRender:c,hasMaxRows:u,isDragging:d,isLoading:f,isSortable:m,labels:p,listeners:h,moveRow:g,parentPath:b,pasteRow:y,path:v,permissions:C,readOnly:w,removeRow:S,row:x,rowCount:F,rowIndex:I,schemaPath:R,setCollapse:D,setNodeRef:_,transform:T,transition:A}=t,$=c===void 0?!1:c,P=Pf(f,500),{i18n:j}=E(),B=ao(),N=`${YW(p.singular,j)} ${String(I+1).padStart(2,"0")}`,L=l>0&&B,M=L?`${Ad}__row--has-errors`:`${Ad}__row--no-errors`,k;e[0]!==M?(k=[`${Ad}__row`,M].filter(Boolean),e[0]=M,e[1]=k):k=e[1];let O=k.join(" "),V=`${b.split(".").join("-")}-row-${I}`,G=d?1:void 0,H;if(e[2]!==s||e[3]!==o||e[4]!==n||e[5]!==O||e[6]!==r||e[7]!==i||e[8]!==l||e[9]!==N||e[10]!==L||e[11]!==a||e[12]!==$||e[13]!==u||e[14]!==j||e[15]!==P||e[16]!==m||e[17]!==h||e[18]!==g||e[19]!==b||e[20]!==y||e[21]!==v||e[22]!==C||e[23]!==w||e[24]!==S||e[25]!==x.collapsed||e[26]!==x.id||e[27]!==F||e[28]!==I||e[29]!==R||e[30]!==D||e[31]!==_||e[32]!==V||e[33]!==G||e[34]!==T||e[35]!==A){let z;e[37]!==x.id||e[38]!==D?(z=Q=>D(x.id,Q),e[37]=x.id,e[38]=D,e[39]=z):z=e[39],H=hi("div",{id:V,ref:_,style:{transform:T,transition:A,zIndex:G},children:hi(zi,{actions:w?void 0:hi(Rf,{addRow:o,copyRow:r,duplicateRow:i,hasMaxRows:u,index:I,isSortable:m,moveRow:g,pasteRow:y,removeRow:S,rowCount:F}),className:O,collapsibleStyle:L?"error":"default",dragHandleProps:m?{id:x.id,attributes:n,listeners:h}:void 0,header:ZW("div",{className:`${Ad}__row-header`,children:[P?hi(It,{height:"1rem",width:"8rem"}):hi(es,{CustomComponent:s,label:N,path:v,rowNumber:I}),L&&hi(xo,{count:l,i18n:j,withMessage:!0})]}),isCollapsed:x.collapsed,onToggle:z,children:P?hi(It,{}):hi(Po,{className:`${Ad}__fields`,fields:a,forceRender:$,margins:"small",parentIndexPath:"",parentPath:v,parentSchemaPath:R,permissions:C===!0?C:C?.fields,readOnly:w})})},`${b}-row-${x.id}`),e[2]=s,e[3]=o,e[4]=n,e[5]=O,e[6]=r,e[7]=i,e[8]=l,e[9]=N,e[10]=L,e[11]=a,e[12]=$,e[13]=u,e[14]=j,e[15]=P,e[16]=m,e[17]=h,e[18]=g,e[19]=b,e[20]=y,e[21]=v,e[22]=C,e[23]=w,e[24]=S,e[25]=x.collapsed,e[26]=x.id,e[27]=F,e[28]=I,e[29]=R,e[30]=D,e[31]=_,e[32]=V,e[33]=G,e[34]=T,e[35]=A,e[36]=H}else H=e[36];return H};var Rr="array-field",KW=t=>{let{field:e,field:{name:o,type:n,admin:{className:r,description:s,isSortable:i=!0}={},fields:l,label:a,localized:c,maxRows:u,minRows:d,required:f},forceRender:m=!1,path:p,permissions:h,readOnly:g,schemaPath:b,validate:y}=t,v=b??o,C=d??f?1:0,{setDocFieldPreferences:w}=Ne(),{addFieldRow:S,dispatchFields:x,getFields:F,moveFieldRow:I,removeFieldRow:R,replaceState:D,setModified:_}=Ge(),T=ao(),{code:A}=xe(),{i18n:$,t:P}=E(),{config:{localization:j}}=W(),B=(()=>{if(j&&j.fallback){let ee=j.defaultLocale;return A===ee}return!0})(),L=(ee=>"labels"in ee&&ee?.labels?ee.labels:"labels"in ee.field&&ee.field.labels?{plural:ee.field.labels?.plural,singular:ee.field.labels?.singular}:"label"in ee.field&&ee.field.label?{plural:void 0,singular:ee.field.label}:{plural:P("general:rows"),singular:P("general:row")})(t),M=wn((ee,le)=>{if(!B&&ee===null)return!0;if(typeof y=="function")return y(ee,{...le,maxRows:u,minRows:C,required:f})},[u,C,f,y,B]),{customComponents:{AfterInput:k,BeforeInput:O,Description:V,Error:G,Label:H}={},disabled:z,errorPaths:Q,path:J,rows:X=[],showError:ie,valid:U,value:re}=$e({hasRows:!0,potentiallyStalePath:p,validate:M}),ce=wn(ee=>{S({path:J,rowIndex:ee,schemaPath:v}),setTimeout(()=>{al(`${J}-row-${ee}`)},0)},[S,J,v]),ge=wn(ee=>{x({type:"DUPLICATE_ROW",path:J,rowIndex:ee}),_(!0),setTimeout(()=>{al(`${J}-row-${ee}`)},0)},[x,J,_]),de=wn(ee=>{R({path:J,rowIndex:ee})},[R,J]),me=wn((ee,le)=>{I({moveFromIndex:ee,moveToIndex:le,path:J})},[J,I]),Oe=wn(ee=>{let{collapsedIDs:le,updatedRows:ve}=yf({collapsed:ee,rows:X});w(J,{collapsed:le}),x({type:"SET_ALL_ROWS_COLLAPSED",path:J,updatedRows:ve})},[x,J,X,w]),Te=wn((ee,le)=>{let{collapsedIDs:ve,updatedRows:Ee}=vf({collapsed:le,rowID:ee,rows:X});x({type:"SET_ROW_COLLAPSED",path:J,updatedRows:Ee}),w(J,{collapsed:ve})},[x,J,X,w]),he=wn(ee=>{let le={...F()},ve=za({type:n,fields:l,getDataToCopy:()=>Xa({formState:le,path:J,rowIndex:ee}),path:J,rowIndex:ee,t:P});typeof ve=="string"?oe.error(ve):oe.success(P("general:copied"))},[l,F,J,P,n]),we=wn(ee=>{let le={...F()},Ee=Wa({onPaste:pe=>{let be=Za({dataFromClipboard:pe,formState:le,path:J,rowIndex:ee});D(be),_(!0)},path:J,schemaFields:l,t:P});typeof Ee=="string"&&oe.error(Ee)},[l,F,J,D,_,P]),K=wn(ee=>{let le={...F()},ve=Za({dataFromClipboard:ee,formState:le,path:J});D(ve),_(!0)},[F,J,D,_]),Pe=wn(()=>Xa({formState:{...F()},path:J}),[F,J]),qe=u&&X.length>=u,Z=Q.length,Y=T&&Q.length>0,q=(g||z)&&X.length===0,ne=X.length&&X.length<C||f&&X.length===0,fe=QW(()=>Ke(e),[e]);return gi("div",{className:[ke,Rr,r,Y?`${Rr}--has-error`:`${Rr}--has-no-error`].filter(Boolean).join(" "),id:`field-${J.replace(/\./g,"__")}`,style:fe,children:[ie&&po(ue,{CustomComponent:G,Fallback:po(Ye,{path:J,showError:ie})}),gi("header",{className:`${Rr}__header`,children:[gi("div",{className:`${Rr}__header-wrap`,children:[gi("div",{className:`${Rr}__header-content`,children:[po("h3",{className:`${Rr}__title`,children:po(ue,{CustomComponent:H,Fallback:po(Fe,{as:"span",label:a,localized:c,path:J,required:f})})}),Y&&Z>0&&po(xo,{count:Z,i18n:$,withMessage:!0})]}),gi("ul",{className:`${Rr}__header-actions`,children:[X?.length>0&&gi(qW,{children:[po("li",{children:po("button",{className:`${Rr}__header-action`,onClick:()=>Oe(!0),type:"button",children:P("fields:collapseAll")})}),po("li",{children:po("button",{className:`${Rr}__header-action`,onClick:()=>Oe(!1),type:"button",children:P("fields:showAll")})})]}),po("li",{children:po(Um,{allowCopy:X?.length>0,allowPaste:!g,className:`${Rr}__header-action`,disabled:z,fields:l,getDataToCopy:Pe,onPaste:K,path:J,type:n})})]})]}),po(ue,{CustomComponent:V,Fallback:po(Ue,{description:s,path:J})})]}),po(Qc,{fieldValue:re,localized:c,path:J,readOnly:g}),O,(X?.length>0||!U&&(q||ne))&&gi(kr,{className:`${Rr}__draggable-rows`,ids:X.map(ee=>ee.id),onDragEnd:({moveFromIndex:ee,moveToIndex:le})=>me(ee,le),children:[X.map((ee,le)=>{let{id:ve,isLoading:Ee}=ee,pe=`${J}.${le}`,be=Q?.filter(Ce=>Ce.startsWith(pe+".")).length;return po(Fn,{disabled:g||z||!i,id:ve,children:Ce=>po(zR,{...Ce,addRow:ce,copyRow:he,CustomRowLabel:X?.[le]?.customComponents?.RowLabel,duplicateRow:ge,errorCount:be,fields:l,forceRender:m,hasMaxRows:qe,isLoading:Ee,isSortable:i,labels:L,moveRow:me,parentPath:J,pasteRow:we,path:pe,permissions:h,readOnly:g||z,removeRow:de,row:ee,rowCount:X?.length,rowIndex:le,schemaPath:v,setCollapse:Te})},ve)}),!U&&gi(JW.Fragment,{children:[q&&po(tn,{children:P("validation:fieldHasNo",{label:W0(L.plural,$)})}),ne&&po(tn,{type:"error",children:P("validation:requiresAtLeast",{count:C,label:W0(C>1?L.plural:L.singular,$)||P(C>1?"general:rows":"general:row")})})]})]}),!qe&&!g&&po(te,{buttonStyle:"icon-label",className:`${Rr}__add-row`,disabled:z,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{ce(re||0)},children:P("fields:addLabel",{label:W0(L.singular,$)})}),k]})},Rd=We(KW);import{c as eH}from"react/compiler-runtime";import{jsx as H0,jsxs as WR}from"react/jsx-runtime";import{confirmPassword as tH}from"payload/shared";import"react";var Pd=t=>{let e=eH(12),{disabled:o,path:n}=t,r=n===void 0?"confirm-password":n,{t:s}=E(),i;e[0]!==r?(i={path:r,validate:oH},e[0]=r,e[1]=i):i=e[1];let{disabled:l,setValue:a,showError:c,value:u}=$e(i),d=c&&"error",f;e[2]!==d?(f=[ke,"confirm-password",d].filter(Boolean),e[2]=d,e[3]=f):f=e[3];let m=f.join(" "),p;return e[4]!==l||e[5]!==o||e[6]!==r||e[7]!==a||e[8]!==s||e[9]!==m||e[10]!==u?(p=WR("div",{className:m,children:[H0(Fe,{htmlFor:"field-confirm-password",label:s("authentication:confirmPassword"),required:!0}),WR("div",{className:`${ke}__wrap`,children:[H0(Ye,{path:r}),H0("input",{"aria-label":s("authentication:confirmPassword"),autoComplete:"off",disabled:!!(l||o),id:"field-confirm-password",name:"confirm-password",onChange:a,type:"password",value:u||""})]})]}),e[4]=l,e[5]=o,e[6]=r,e[7]=a,e[8]=s,e[9]=m,e[10]=u,e[11]=p):p=e[11],p};function oH(t,e){return tH(t,{name:"confirm-password",type:"text",required:!0,...e})}import{jsx as nH}from"react/jsx-runtime";import{password as sH}from"payload/shared";import{useCallback as iH,useMemo as aH}from"react";import{c as rH}from"react/compiler-runtime";import{jsx as ba,jsxs as U0}from"react/jsx-runtime";import{getTranslation as HR}from"@payloadcms/translations";import"react";var UR=t=>{let e=rH(28),{AfterInput:o,autoComplete:n,BeforeInput:r,className:s,description:i,Description:l,Error:a,inputRef:c,Label:u,label:d,localized:f,onChange:m,onKeyDown:p,path:h,placeholder:g,readOnly:b,required:y,rtl:v,showError:C,style:w,value:S,width:x}=t,F=n===void 0?"off":n,{i18n:I}=E(),R=C&&"error",D=b&&"read-only",_;e[0]!==s||e[1]!==R||e[2]!==D?(_=[ke,"password",s,R,D].filter(Boolean),e[0]=s,e[1]=R,e[2]=D,e[3]=_):_=e[3];let T=_.join(" "),A;return e[4]!==o||e[5]!==r||e[6]!==l||e[7]!==a||e[8]!==u||e[9]!==F||e[10]!==i||e[11]!==I||e[12]!==c||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==p||e[17]!==h||e[18]!==g||e[19]!==b||e[20]!==y||e[21]!==v||e[22]!==C||e[23]!==w||e[24]!==T||e[25]!==S||e[26]!==x?(A=U0("div",{className:T,style:{...w,width:x},children:[ba(ue,{CustomComponent:u,Fallback:ba(Fe,{label:d,localized:f,path:h,required:y})}),U0("div",{className:`${ke}__wrap`,children:[ba(ue,{CustomComponent:a,Fallback:ba(Ye,{path:h,showError:C})}),U0("div",{children:[r,ba("input",{"aria-label":HR(d,I),autoComplete:F,"data-rtl":v,disabled:b,id:`field-${h.replace(/\./g,"__")}`,name:h,onChange:m,onKeyDown:p,placeholder:HR(g,I),ref:c,type:"password",value:S||""}),o]}),ba(ue,{CustomComponent:l,Fallback:ba(Ue,{description:i,path:h})})]})]}),e[4]=o,e[5]=r,e[6]=l,e[7]=a,e[8]=u,e[9]=F,e[10]=i,e[11]=I,e[12]=c,e[13]=d,e[14]=f,e[15]=m,e[16]=p,e[17]=h,e[18]=g,e[19]=b,e[20]=y,e[21]=v,e[22]=C,e[23]=w,e[24]=T,e[25]=S,e[26]=x,e[27]=A):A=e[27],A};var lH=t=>{let{autoComplete:e,field:o,field:{admin:{className:n,disabled:r,placeholder:s,rtl:i}={},label:l,localized:a,required:c}={},inputRef:u,path:d,validate:f}=t,{t:m}=E(),p=xe(),{config:h}=W(),g=iH((_,T)=>{let A=d?d.split("."):[];return typeof f=="function"?f(_,{...T,required:c}):sH(_,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:A,preferences:{fields:{}},req:{payload:{config:h},t:m},required:!0,siblingData:{}})},[f,h,m,c,d]),{customComponents:{AfterInput:b,BeforeInput:y,Description:v,Error:C,Label:w}={},disabled:S,setValue:x,showError:F,value:I}=$e({path:d,validate:g}),R=il({fieldLocalized:!1,fieldRTL:i,locale:p,localizationConfig:h.localization||void 0}),D=aH(()=>Ke(o),[o]);return nH(UR,{AfterInput:b,autoComplete:e,BeforeInput:y,className:n,Description:v,Error:C,inputRef:u,Label:w,label:l,localized:a,onChange:_=>{x(_.target.value)},path:d,placeholder:s,readOnly:S||r,required:c,rtl:R,showError:F,style:D,value:I||""})},Ed=We(lH);var XR={array:Rd,blocks:ru,checkbox:Mr,code:su,collapsible:au,confirmPassword:Pd,date:Su,email:Ki,group:Iu,hidden:_u,join:ku,json:ju,number:Bu,password:Ed,point:Mu,radio:Gu,relationship:Yu,richText:Ju,row:qu,select:Qu,tabs:rd,text:la,textarea:sd,ui:id,upload:Dd},cH={...XR,Description:Ue,Error:Ye,Label:Fe,RowLabel:es};import{c as uH}from"react/compiler-runtime";import{setsAreEqual as dH}from"payload/shared";import{useEffect as mH}from"react";var Is=new Map([]),fH={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},ZR=t=>(fH[t.toLowerCase()]||t).trim().toLowerCase().replace("key",""),pH=t=>{let e=ZR(t);e==="meta"&&Is.forEach((o,n)=>n!=="meta"&&Is.delete(n)),Is.set(e,Date.now())},hH=t=>{let e=ZR(t);e==="meta"&&Is.clear(),Is.delete(e)},va=(t,e)=>{let o=uH(9),{cmdCtrlKey:n,editDepth:r,keyCodes:s}=t,{modalState:i}=ae(),l;o[0]!==n||o[1]!==r||o[2]!==e||o[3]!==s||o[4]!==i?(l=f=>{let m=f.detail?.key?f.detail:f;if(m.key===void 0)return;Is.forEach(gH),m.code&&pH(m.code);let p=window.navigator.userAgent.includes("Mac OS X"),h=[...Is.keys()].filter(bH);if(dH(new Set(h),new Set(s))&&(!n||p&&Is.has("meta")||!p&&m.ctrlKey)){if((Object.keys(i).filter(b=>i[b]?.isOpen)?.length+1||1)!==r)return;e(m)}},o[0]=n,o[1]=r,o[2]=e,o[3]=s,o[4]=i,o[5]=l):l=o[5];let a=l,c=vH,u,d;o[6]!==a?(u=()=>(document.addEventListener("keydown",a,!1),document.addEventListener("bypassKeyDown",a,!1),document.addEventListener("keyup",c,!1),()=>{document.removeEventListener("keydown",a),document.removeEventListener("bypassKeyDown",a),document.removeEventListener("keyup",c)}),d=[a,c],o[6]=a,o[7]=u,o[8]=d):(u=o[7],d=o[8]),mH(u,d)};function gH(t,e){Date.now()-t>3e3&&Is.delete(e)}function bH(t){return!["alt","ctrl","meta","shift"].includes(t)}function vH(t){t.code&&hH(t.code)}import{c as yH}from"react/compiler-runtime";import*as JR from"qs-esm";import{useEffect as YR,useRef as CH,useState as xh}from"react";var xH=(t,e)=>{let o=yH(30),n;o[0]!==e?(n=e===void 0?{}:e,o[0]=e,o[1]=n):n=o[1];let r=n,{initialData:s,initialParams:i}=r,l;o[2]!==i?(l=i===void 0?{}:i,o[2]=i,o[3]=l):l=o[3];let a=l,{i18n:c}=E(),u;o[4]!==s?(u=s||{},o[4]=s,o[5]=u):u=o[5];let[d,f]=xh(u),[m,p]=xh(a),[h,g]=xh(!s),[b,y]=xh(!1),{code:v}=xe(),C=CH(!1),w;o[6]!==v||o[7]!==m?(w=JR.stringify({locale:v,...typeof m=="object"?m:{}},{addQueryPrefix:!0}),o[6]=v,o[7]=m,o[8]=w):w=o[8];let S=w,x;o[9]!==c.language||o[10]!==s||o[11]!==S||o[12]!==t?(x=()=>{if(s&&!C.current){C.current=!0;return}let A=new AbortController;return t?(async()=>{y(!1),g(!0);try{let P=await ze.get(`${t}${S}`,{headers:{"Accept-Language":c.language},signal:A.signal});P.status>201&&y(!0);let j=await P.json();f(j),g(!1)}catch{A.signal.aborted||(y(!0),g(!1))}})():(y(!1),g(!1)),()=>{try{A.abort()}catch(P){let j=P}}},o[9]=c.language,o[10]=s,o[11]=S,o[12]=t,o[13]=x):x=o[13];let F;o[14]!==c.language||o[15]!==s||o[16]!==v||o[17]!==S||o[18]!==t?(F=[t,v,S,c.language,s],o[14]=c.language,o[15]=s,o[16]=v,o[17]=S,o[18]=t,o[19]=F):F=o[19],YR(x,F);let I,R;o[20]!==s?(I=()=>{s&&C.current&&f(s)},R=[s],o[20]=s,o[21]=I,o[22]=R):(I=o[21],R=o[22]),YR(I,R);let D;o[23]!==d||o[24]!==b||o[25]!==h?(D={data:d,isError:b,isLoading:h},o[23]=d,o[24]=b,o[25]=h,o[26]=D):D=o[26];let _;o[27]===Symbol.for("react.memo_cache_sentinel")?(_={setParams:p},o[27]=_):_=o[27];let T;return o[28]!==D?(T=[D,_],o[28]=D,o[29]=T):T=o[29],T};import{c as wH}from"react/compiler-runtime";import{useEffect as SH,useState as IH}from"react";var wh=t=>{let e=wH(5),[o,n]=IH(),r,s;e[0]!==t?(r=()=>{let l;return t&&(l=new ResizeObserver(a=>{a.forEach(c=>{let{contentBoxSize:u,contentRect:d}=c,f=0,m=0;if(u){let p=Array.isArray(u)?u[0]:u;if(p){let{blockSize:h,inlineSize:g}=p;f=g,m=h}}else if(d){let{height:p,width:h}=d;f=h,m=p}n({height:m,width:f})})}),l.observe(t)),()=>{l&&l.unobserve(t)}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),SH(r,s);let i;return e[3]!==o?(i={size:o},e[3]=o,e[4]=i):i=e[4],i};import{c as _H}from"react/compiler-runtime";import{flattenTopLevelFields as FH}from"payload/shared";var X0=t=>{let e=_H(4),{admin:o,fields:n}=t,{useAsTitle:r}=o,{i18n:s}=E(),i;return e[0]!==n||e[1]!==s||e[2]!==r?(i=FH(n,{i18n:s,moveSubFieldsToTop:!0})?.find(a=>"name"in a&&a.name===r),e[0]=n,e[1]=s,e[2]=r,e[3]=i):i=e[3],i};import{c as qR}from"react/compiler-runtime";import{jsx as Ih}from"react/jsx-runtime";import"react";import{jsx as Sh}from"react/jsx-runtime";import"react";var Nd=({className:t})=>Sh("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Sh("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),Z0=({className:t})=>Sh("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Sh("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})});var Ld="sort-header";function TH(){let t=qR(7),{handleSortChange:e,orderableFieldName:o,query:n}=lt(),s=(Array.isArray(n.sort)?n.sort[0]:n.sort)===o,i;t[0]!==e||t[1]!==s||t[2]!==o?(i=()=>{s||e(o)},t[0]=e,t[1]=s,t[2]=o,t[3]=i):i=t[3];let l=i,a;return t[4]!==l||t[5]!==s?(a={handleSortPress:l,isActive:s},t[4]=l,t[5]=s,t[6]=a):a=t[6],a}var DH=t=>{let e=qR(7),{appearance:o}=t,{handleSortPress:n,isActive:r}=TH(),{t:s}=E(),i=o&&`${Ld}--appearance-${o}`,l;e[0]!==i?(l=[Ld,i].filter(Boolean),e[0]=i,e[1]=l):l=e[1];let a=l.join(" "),c;return e[2]!==n||e[3]!==r||e[4]!==s||e[5]!==a?(c=Ih("div",{className:a,children:Ih("div",{className:`${Ld}__buttons`,children:Ih("button",{"aria-label":s("general:sortByLabelDirection",{direction:s("general:ascending"),label:"Order"}),className:`${Ld}__button ${r?`${Ld}--active`:""}`,onClick:n,type:"button",children:Ih(Nd,{})})})}),e[2]=n,e[3]=r,e[4]=s,e[5]=a,e[6]=c):c=e[6],c};import{c as RH}from"react/compiler-runtime";import{jsx as QR}from"react/jsx-runtime";import"react";var KR="sort-row",AH=()=>{let t=RH(2),{orderableFieldName:e,query:o}=lt(),n=o.sort===e||o.sort===`-${e}`,r=`${KR} ${n?"active":""}`,s;return t[0]!==r?(s=QR("div",{className:r,role:"button",tabIndex:0,children:QR(nn,{className:`${KR}__icon`})}),t[0]=r,t[1]=s):s=t[1],s};import{jsx as jn,jsxs as q0}from"react/jsx-runtime";import{DragOverlay as PH}from"@dnd-kit/core";import{useEffect as EH,useState as Q0}from"react";import{jsx as _h}from"react/jsx-runtime";var Y0=({cellMap:t,columns:e,dragAttributes:o={},dragListeners:n={},rowId:r,...s})=>_h("tr",{...s,children:e.map((i,l)=>{let{accessor:a}=i,c=i.renderedCells[t[r]];return a==="_dragHandle"?_h("td",{className:`cell-${a}`,children:_h("div",{...o,...n,children:c})},l):_h("td",{className:`cell-${a}`,children:c},l)})});import{jsx as J0}from"react/jsx-runtime";var e4=({children:t,className:e,rowId:o})=>typeof o>"u"?null:J0("div",{className:e,children:J0("table",{cellPadding:0,cellSpacing:0,children:J0("tbody",{children:t})})});var Fh="table",NH=({appearance:t="default",BeforeTable:e,collection:o,columns:n,data:r})=>{let{config:s}=W(),{data:i,orderableFieldName:l,query:a}=lt(),c=i?.docs||r,[u,d]=Q0(c),[f,m]=Q0({}),[p,h]=Q0();EH(()=>{d(c),m(Object.fromEntries(c.map((C,w)=>[String(C.id??C._id),w])))},[c]);let g=n?.filter(C=>C?.active);if(!g||g.filter(C=>!["_dragHandle","_select"].includes(C.accessor)).length===0)return jn("div",{children:"No columns selected"});let b=async({moveFromIndex:C,moveToIndex:w})=>{if(a.sort!==l&&a.sort!==`-${l}`){oe.warning('To reorder the rows you must first sort them by the "Order" column'),h(void 0);return}if(C===w){h(void 0);return}let S=u[C].id??u[C]._id,x=w>C?u[w]:u[w-1],F=w>C?u[w+1]:u[w],I=[...u];d(R=>{let D=[...R];return D[C][l]="pending",D.splice(w,0,D.splice(C,1)[0]),D});try{let R=x?{id:x.id??x._id,key:x[l]}:{id:F.id??F._id,key:F[l]},D=x&&a.sort===l||!x&&a.sort===`-${l}`?"greater":"less",_={collectionSlug:o.slug,docsToMove:[S],newKeyWillBe:D,orderableFieldName:l,target:R},T=await fetch(`${s.serverURL}${s.routes.api}/reorder`,{body:JSON.stringify(_),credentials:"include",headers:{"Content-Type":"application/json"},method:"POST"});if(T.status===403)throw new Error("You do not have permission to reorder these rows");if(!T.ok)throw new Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(T.status===200&&(await T.json()).message==="initial migration")throw new Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(R){let D=R instanceof Error?R.message:String(R);d(I),oe.error(D)}finally{h(void 0)}},y=({id:C})=>{h(C)},v=u.map(C=>C.id??C._id);return q0("div",{className:[Fh,t&&`${Fh}--appearance-${t}`].filter(Boolean).join(" "),children:[e,q0(kr,{ids:v,onDragEnd:b,onDragStart:y,children:[q0("table",{cellPadding:"0",cellSpacing:"0",children:[jn("thead",{children:jn("tr",{children:g.map((C,w)=>jn("th",{id:`heading-${C.accessor}`,children:C.Heading},w))})}),jn("tbody",{children:u.map((C,w)=>jn(Fn,{id:v[w],children:({attributes:S,isDragging:x,listeners:F,setNodeRef:I,transform:R,transition:D})=>jn(Y0,{cellMap:f,className:`row-${w+1}`,columns:g,dragAttributes:S,dragListeners:F,ref:I,rowId:C.id??C._id,style:{opacity:x?0:1,transform:R,transition:D}})},v[w]))})]}),jn(PH,{children:jn(e4,{className:[Fh,`${Fh}--drag-preview`].join(" "),rowId:p,children:jn(Y0,{cellMap:f,columns:g,rowId:p})})})]})]})};import{jsx as t4}from"react/jsx-runtime";import{toWords as LH,transformColumnsToSearchParams as $H}from"payload/shared";import"react";var kH="query-preset-columns-cell",jH=({cellData:t})=>t4("div",{className:kH,children:t?$H(t).map((e,o)=>{let n=!e.startsWith("-");return n?t4(it,{pillStyle:n?"always-white":"light",size:"small",children:LH(e)},o):null}):"No columns selected"});import{jsx as BH}from"react/jsx-runtime";import{toWords as Th}from"payload/shared";import"react";var MH=t=>{if(t.or&&t.or.length>0&&t.or[0].and&&t.or[0].and.length>0){let o=t.or[0]?.and?.[0];if(!o)return"No where query";let n=Object.keys(o)[0];if(!o[n])return"No where query";let r=Object.keys(o[n])[0],s=o[n][r];if(typeof s=="string")return`${Th(n)} ${r} ${Th(s)}`;if(Array.isArray(s))return`${Th(n)} ${r} ${s.map(i=>Th(i)).join(" or ")}`}return""},OH=({cellData:t})=>BH("div",{children:t?MH(t):"No where query"});import{jsx as o4,jsxs as r4}from"react/jsx-runtime";import{toWords as n4}from"payload/shared";import{Fragment as VH}from"react";var GH=({cellData:t})=>{let e=["read","update","delete"];return o4("p",{children:e.reduce((o,n,r)=>{let s=t?.[n];return s&&s.constraint&&o.push(r4(VH,{children:[r4("span",{children:[o4("strong",{children:n4(n)}),": ",n4(s.constraint)]}),r!==e.length-1&&", "]},n)),o},[])})};import{c as zH}from"react/compiler-runtime";import{jsx as K0,jsxs as WH}from"react/jsx-runtime";import{toWords as HH,transformColumnsToSearchParams as UH}from"payload/shared";import"react";var XH=t=>{let e=zH(5),{field:o}=t,{label:n,required:r}=o,{path:s,value:i}=$e(),l;return e[0]!==n||e[1]!==s||e[2]!==r||e[3]!==i?(l=WH("div",{className:"field-type query-preset-columns-field",children:[K0(Fe,{as:"h3",label:n,path:s,required:r}),K0("div",{className:"value-wrapper",children:i?UH(i).map(ZH):"No columns selected"})]}),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=l):l=e[4],l};function ZH(t,e){let o=!t.startsWith("-");return K0(it,{pillStyle:o?"always-white":"light-gray",size:"small",children:HH(t)},e)}import{jsx as _s,jsxs as Dh}from"react/jsx-runtime";import{getTranslation as YH}from"@payloadcms/translations";import{toWords as s4}from"payload/shared";import i4 from"react";var JH=(t,e)=>{if(!t)return null;let o=r=>{let s=Object.keys(r)[0];if(!r[s])return"No where query";let i=Object.keys(r[s])[0],l=r[s][i],a=u=>{if(typeof u=="object"&&u!=null)try{return new Date(u).toLocaleDateString()}catch{return"Unknown error has occurred"}return u?.toString()??""},c=Array.isArray(l)?l.map(a).join(", "):a(l);return Dh(it,{pillStyle:"always-white",size:"small",children:[_s("b",{children:s4(s)})," ",i," ",_s("b",{children:s4(c)})]})};return((r,s)=>r.or&&r.or.length>0?_s("div",{className:"or-condition",children:r.or.map((i,l)=>_s(i4.Fragment,{children:i.and&&i.and.length>0?Dh("div",{className:"and-condition",children:[l===0&&_s("span",{className:"label",children:`Filter ${s} where `}),l>0&&_s("span",{className:"label",children:" or "}),i.and.map((a,c)=>Dh(i4.Fragment,{children:[o(a),c<i.and.length-1&&_s("span",{className:"label",children:" and "})]},c))]}):o(i)},l))}):o(r))(t,e)},qH=t=>{let{field:e}=t,{label:o,required:n}=e,{path:r,value:s}=$e(),{collectionSlug:i}=lt(),{getEntityConfig:l}=W(),a=l({collectionSlug:i}),{i18n:c}=E();return Dh("div",{className:"field-type query-preset-where-field",children:[_s(Fe,{as:"h3",label:o,path:r,required:n}),_s("div",{className:"value-wrapper",children:s?JH(s,YH(a?.labels?.plural,c)):"No where query"})]})};import{c as l4}from"react/compiler-runtime";import{jsx as c4}from"react/jsx-runtime";import nU from"react";import{c as QH}from"react/compiler-runtime";import{useRouter as KH}from"next/navigation.js";import{useEffect as ey,useRef as eU}from"react";function tU(t,...e){t&&t.addEventListener&&t.addEventListener(...e)}function oU(t,...e){t&&t.removeEventListener&&t.removeEventListener(...e)}var rU=(t,e)=>{let o=QH(7),n=t===void 0?!0:t,r;o[0]!==n||o[1]!==e?(r=a=>{if(typeof n!="function"||n())return a.preventDefault(),e&&(a.returnValue=e),e},o[0]=n,o[1]=e,o[2]=r):r=o[2];let s=r,i,l;o[3]!==n||o[4]!==s?(i=()=>{if(n)return tU(window,"beforeunload",s),()=>oU(window,"beforeunload",s)},l=[n,s],o[3]=n,o[4]=s,o[5]=i,o[6]=l):(i=o[5],l=o[6]),ey(i,l)},a4=({hasAccepted:t=!1,message:e="Are you sure want to leave this page?",onAccept:o,onPrevent:n,prevent:r=!0})=>{rU(r,e);let{startRouteTransition:s}=Ze(),i=KH(),l=eU("");ey(()=>{function a(d,f){try{let m=new URL(d),p=new URL(f);if(m.hostname===p.hostname&&m.pathname===p.pathname&&m.search===p.search){let h=m.hash,g=p.hash;return h!==g&&m.href.replace(h,"")===p.href.replace(g,"")}}catch(m){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",m)}return!1}function c(d){for(;d&&d.tagName.toLowerCase()!=="a";)d=d.parentElement;return d}function u(d){try{let f=d.target,m=c(f);if(m){let p=window.location.href,h=m.href,g=a(p,h),b=m.download!=="",y=m.target==="_blank"||d.metaKey||d.ctrlKey;!(h===p||g||b||y)&&r&&(n||!window.confirm(e))&&(l.current=h,d.preventDefault(),d.stopPropagation(),typeof n=="function"&&n())}}catch(f){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",f)}}return r&&document.addEventListener("click",u,!0),()=>{document.removeEventListener("click",u,!0)}},[n,r,e]),ey(()=>{t&&l.current&&(o&&o(),s(()=>i.push(l.current)))},[t,o,i,s])};var $d="leave-without-saving",kd=t=>{let e=l4(17),{disablePreventLeave:o,onConfirm:n,onPrevent:r}=t,s=o===void 0?!1:o,i=$d,{closeModal:l,openModal:a}=ae(),c=lo(),{isValid:u}=Ge(),{user:d}=_e(),[f,m]=nU.useState(!1),p=!s&&!!((c||!u)&&d),h;e[0]!==r||e[1]!==a?(h=()=>{let I=document.activeElement?.href||null;r&&r(I),a($d)},e[0]=r,e[1]=a,e[2]=h):h=e[2];let g=h,b;e[3]!==l?(b=()=>{l($d)},e[3]=l,e[4]=b):b=e[4];let y=b,v;e[5]!==y||e[6]!==g||e[7]!==f||e[8]!==p?(v={hasAccepted:f,onAccept:y,onPrevent:g,prevent:p},e[5]=y,e[6]=g,e[7]=f,e[8]=p,e[9]=v):v=e[9],a4(v);let C;e[10]!==l?(C=()=>{l($d)},e[10]=l,e[11]=C):C=e[11];let w=C,S;e[12]!==n?(S=async()=>{if(n)try{await n()}catch(I){console.error("Error in LeaveWithoutSaving onConfirm:",I)}m(!0)},e[12]=n,e[13]=S):S=e[13];let x=S,F;return e[14]!==x||e[15]!==w?(F=c4(ty,{modalSlug:$d,onCancel:w,onConfirm:x}),e[14]=x,e[15]=w,e[16]=F):F=e[16],F},ty=t=>{let e=l4(5),{modalSlug:o,onCancel:n,onConfirm:r}=t,{t:s}=E(),i;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s?(i=c4(et,{body:s("general:changesNotSaved"),cancelLabel:s("general:stayOnThisPage"),confirmLabel:s("general:leaveAnyway"),heading:s("general:leaveWithoutSaving"),modalSlug:o,onCancel:n,onConfirm:r}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i):i=e[4],i};import{c as sU}from"react/compiler-runtime";import{jsx as jd,jsxs as oy}from"react/jsx-runtime";import{useEffect as iU}from"react";var Yl="document-take-over",Rh="document-take-over",ry=t=>{let e=sU(19),{handleBackToDashboard:o,isActive:n,onReadOnly:r}=t,{closeModal:s,openModal:i}=ae(),{t:l}=E(),{startRouteTransition:a}=Ze(),{clearRouteCache:c}=pt(),u,d;e[0]!==s||e[1]!==n||e[2]!==i?(u=()=>{n?i(Yl):s(Yl)},d=[n,i,s],e[0]=s,e[1]=n,e[2]=i,e[3]=u,e[4]=d):(u=e[3],d=e[4]),iU(u,d);let f;if(e[5]!==c||e[6]!==s||e[7]!==o||e[8]!==r||e[9]!==a||e[10]!==l){let m;e[12]!==o||e[13]!==a?(m=()=>{a(()=>o())},e[12]=o,e[13]=a,e[14]=m):m=e[14];let p;e[15]!==c||e[16]!==s||e[17]!==r?(p=()=>{r(),s(Yl),c()},e[15]=c,e[16]=s,e[17]=r,e[18]=p):p=e[18],f=jd(br,{className:Rh,closeOnBlur:!1,slug:Yl,children:oy("div",{className:`${Rh}__wrapper`,children:[oy("div",{className:`${Rh}__content`,children:[jd("h1",{children:l("general:editingTakenOver")}),jd("p",{children:l("general:anotherUserTakenOver")})]}),oy("div",{className:`${Rh}__controls`,children:[jd(te,{buttonStyle:"primary",id:`${Yl}-back-to-dashboard`,onClick:m,size:"large",children:l("general:backToDashboard")}),jd(te,{buttonStyle:"secondary",id:`${Yl}-view-read-only`,onClick:p,size:"large",children:l("general:viewReadOnly")})]})]})}),e[5]=c,e[6]=s,e[7]=o,e[8]=r,e[9]=a,e[10]=l,e[11]=f}else f=e[11];return f};import{c as aU}from"react/compiler-runtime";import{jsx as ya,jsxs as Bd}from"react/jsx-runtime";import{useEffect as lU}from"react";var Ah=t=>t&&typeof t=="object";var Fs="document-locked",Ph="document-locked",cU=t=>t?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(new Date(t)):"",ny=t=>{let e=aU(33),{handleGoBack:o,isActive:n,onReadOnly:r,onTakeOver:s,updatedAt:i,user:l}=t,{closeModal:a,openModal:c}=ae(),{t:u}=E(),{clearRouteCache:d}=pt(),{startRouteTransition:f}=Ze(),m,p;e[0]!==a||e[1]!==n||e[2]!==c?(m=()=>{n?c(Fs):a(Fs)},p=[n,c,a],e[0]=a,e[1]=n,e[2]=c,e[3]=m,e[4]=p):(m=e[3],p=e[4]),lU(m,p);let h;e[5]!==o||e[6]!==f?(h=()=>{f(()=>o())},e[5]=o,e[6]=f,e[7]=h):h=e[7];let g;if(e[8]!==d||e[9]!==a||e[10]!==o||e[11]!==r||e[12]!==s||e[13]!==f||e[14]!==u||e[15]!==h||e[16]!==i||e[17]!==l){let b;e[19]!==u||e[20]!==l?(b=Ah(l)?l.email??l.id:`${u("general:user")}: ${l}`,e[19]=u,e[20]=l,e[21]=b):b=e[21];let y;e[22]!==a||e[23]!==o||e[24]!==f?(y=()=>{a(Fs),f(()=>o())},e[22]=a,e[23]=o,e[24]=f,e[25]=y):y=e[25];let v;e[26]!==d||e[27]!==a||e[28]!==r?(v=()=>{r(),a(Fs),d()},e[26]=d,e[27]=a,e[28]=r,e[29]=v):v=e[29];let C;e[30]!==a||e[31]!==s?(C=()=>{s(),a(Fs)},e[30]=a,e[31]=s,e[32]=C):C=e[32],g=ya(br,{className:Ph,closeOnBlur:!1,onClose:h,slug:Fs,children:Bd("div",{className:`${Ph}__wrapper`,children:[Bd("div",{className:`${Ph}__content`,children:[ya("h1",{children:u("general:documentLocked")}),Bd("p",{children:[ya("strong",{children:b})," ",u("general:currentlyEditing")]}),Bd("p",{children:[u("general:editedSince")," ",ya("strong",{children:cU(i)})]})]}),Bd("div",{className:`${Ph}__controls`,children:[ya(te,{buttonStyle:"secondary",id:`${Fs}-go-back`,onClick:y,size:"large",children:u("general:goBack")}),ya(te,{buttonStyle:"secondary",id:`${Fs}-view-read-only`,onClick:v,size:"large",children:u("general:viewReadOnly")}),ya(te,{buttonStyle:"primary",id:`${Fs}-take-over`,onClick:C,size:"large",children:u("general:takeOver")})]})]})}),e[8]=d,e[9]=a,e[10]=o,e[11]=r,e[12]=s,e[13]=f,e[14]=u,e[15]=h,e[16]=i,e[17]=l,e[18]=g}else g=e[18];return g};import{c as uU}from"react/compiler-runtime";import{jsx as dU}from"react/jsx-runtime";import{getTranslation as mU}from"@payloadcms/translations";import cOe from"react";function sy(t){let e=uU(3),{i18n:o}=E(),{description:n}=t;if(n){let r;return e[0]!==n||e[1]!==o?(r=dU("div",{className:"custom-view-description",children:mU(n,o)}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r}return null}import{jsx as lr,jsxs as kh}from"react/jsx-runtime";import{formatAdminURL as qU}from"payload/shared";import{useEffect as QU,useRef as KU,useState as eX}from"react";import{c as bU}from"react/compiler-runtime";import{jsx as x4}from"react/jsx-runtime";import{usePathname as vU}from"next/navigation.js";import{formatAdminURL as yU}from"payload/shared";import"react";import{jsx as iy,jsxs as fU}from"react/jsx-runtime";import"react";var Md="graphic-account",u4=t=>fU("svg",{className:[Md,t?.active&&`${Md}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[iy("circle",{className:`${Md}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),iy("circle",{className:`${Md}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),iy("path",{className:`${Md}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]});var y4=_i(v4(),1);import{c as hU}from"react/compiler-runtime";import{jsx as gU}from"react/jsx-runtime";import"react";var C4=()=>{let t=hU(2),{user:e}=_e(),o=(0,y4.default)(e.email.trim().toLowerCase()),r=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,s=`https://www.gravatar.com/avatar/${o}${r}`,i;return t[0]!==s?(i=gU("img",{alt:"yas",className:"gravatar-account",height:25,src:s,style:{borderRadius:"50%"},width:25}),t[0]=s,t[1]=i):i=t[1],i};var cy=()=>{let t=bU(3),{config:e}=W(),{admin:o,routes:n}=e,{avatar:r,routes:s}=o,{account:i}=s,{admin:l}=n,{user:a}=_e(),u=vU()===yU({adminRoute:l,path:i});if(!a?.email||r==="default"){let d;return t[0]!==u?(d=x4(u4,{active:u}),t[0]=u,t[1]=d):d=t[1],d}if(r==="gravatar"){let d;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=x4(C4,{}),t[2]=d):d=t[2],d}};import{c as CU}from"react/compiler-runtime";import{jsx as xU}from"react/jsx-runtime";import{createContext as wU,use as SU,useState as IU}from"react";var w4=wU({Actions:{},setViewActions:()=>{}}),uy=()=>SU(w4),_U=t=>{let e=CU(4),{Actions:o,children:n}=t,[r,s]=IU(o),i;return e[0]!==o||e[1]!==n||e[2]!==r?(i=xU(w4,{value:{Actions:{...r,...o},setViewActions:s},children:n}),e[0]=o,e[1]=n,e[2]=r,e[3]=i):i=e[3],i};import{c as FU}from"react/compiler-runtime";import{jsx as Eh,jsxs as _4}from"react/jsx-runtime";import"react";import{jsx as S4}from"react/jsx-runtime";import"react";var dy=()=>S4("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S4("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})});import{jsx as I4}from"react/jsx-runtime";import"react";var my=()=>I4("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:I4("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})});var fy="hamburger",py=t=>{let e=FU(4),{t:o}=E(),{closeIcon:n,isActive:r}=t,s=n===void 0?"x":n,i=r===void 0?!1:r,l;return e[0]!==s||e[1]!==i||e[2]!==o?(l=_4("div",{className:fy,children:[!i&&Eh("div",{"aria-label":o("general:open"),className:`${fy}__open-icon`,title:o("general:open"),children:Eh(my,{})}),i&&_4("div",{"aria-label":o(s==="collapse"?"general:collapse":"general:close"),className:`${fy}__close-icon`,title:o(s==="collapse"?"general:collapse":"general:close"),children:[s==="x"&&Eh(dy,{}),s==="collapse"&&Eh(He,{direction:"left"})]})]}),e[0]=s,e[1]=i,e[2]=o,e[3]=l):l=e[3],l};import{c as RU}from"react/compiler-runtime";import{jsx as Ca,jsxs as AU}from"react/jsx-runtime";import{getTranslation as PU}from"@payloadcms/translations";import{useRouter as EU}from"next/navigation.js";import*as Lh from"qs-esm";import{Fragment as NU}from"react";import{c as TU}from"react/compiler-runtime";import{jsx as F4,jsxs as hy}from"react/jsx-runtime";import{getTranslation as DU}from"@payloadcms/translations";import"react";var Od="localizer-button",Nh=t=>{let e=TU(8),{ariaLabel:o,className:n}=t,r=xe(),{i18n:s,t:i}=E(),l;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==r||e[4]!==i){let a;e[6]!==n?(a=[Od,n].filter(Boolean),e[6]=n,e[7]=a):a=e[7],l=hy("div",{"aria-label":o||i("general:locale"),className:a.join(" "),"data-locale":r?r.code:void 0,children:[hy("div",{className:`${Od}__label`,children:[`${i("general:locale")}:`,"\xA0"]}),hy("div",{className:`${Od}__current`,children:[F4("span",{className:`${Od}__current-label`,children:`${DU(r.label,s)}`}),F4(He,{className:`${Od}__chevron`})]})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=r,e[4]=i,e[5]=l}else l=e[5];return l};var gy="localizer",T4=t=>{let e=RU(17),{className:o}=t,{config:n}=W(),{localization:r}=n,s=EU(),{startRouteTransition:i}=Ze(),{setLocaleIsLoading:l}=gf(),{i18n:a}=E(),c=xe();if(r){let{locales:u}=r,d;e[0]!==o?(d=[gy,o].filter(Boolean),e[0]=o,e[1]=d):d=e[1];let f=d.join(" "),m;if(e[2]!==a||e[3]!==c||e[4]!==u||e[5]!==s||e[6]!==l||e[7]!==i||e[8]!==f){let p;e[10]!==a||e[11]!==c||e[12]!==u||e[13]!==s||e[14]!==l||e[15]!==i?(p=h=>{let{close:g}=h;return Ca(Ie.ButtonGroup,{children:u.map(b=>{let y=PU(b.label,a);return Ca(Ie.Button,{active:c.code===b.code,disabled:c.code===b.code,onClick:()=>{l(!0),g();let v=new URLSearchParams(window.location.search),C=Lh.stringify({...Lh.parse(v.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:b.code},{addQueryPrefix:!0});i(()=>{s.push(C)})},children:y!==b.code?AU(NU,{children:[y,"\xA0",Ca("span",{className:`${gy}__locale-code`,"data-locale":b.code,children:`(${b.code})`})]}):Ca("span",{className:`${gy}__locale-code`,"data-locale":b.code,children:y})},b.code)})})},e[10]=a,e[11]=c,e[12]=u,e[13]=s,e[14]=l,e[15]=i,e[16]=p):p=e[16],m=Ca("div",{className:f,children:Ca(nt,{button:Ca(Nh,{}),horizontalAlign:"right",render:p,showScrollbar:!0,size:"large"})}),e[2]=a,e[3]=c,e[4]=u,e[5]=s,e[6]=l,e[7]=i,e[8]=f,e[9]=m}else m=e[9];return m}return null};import{jsx as LU}from"react/jsx-runtime";import{usePathname as $U}from"next/navigation.js";import Gd,{useEffect as Vd,useRef as kU}from"react";var by=Gd.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),xa=()=>Gd.use(by),jU=async t=>{let o=(await t("nav"))?.open;return typeof o=="boolean"?o:!0},vy=({children:t,initialIsOpen:e})=>{let{breakpoints:{l:o,m:n,s:r}}=$o(),s=$U(),{getPreference:i}=Ot(),l=kU(null),[a,c]=Gd.useState(e),[u,d]=Gd.useState(!1),[f,m]=Gd.useState(!1);return Vd(()=>{o===!1&&(async()=>{let h=await jU(i);c(h)})()},[o,i,c]),Vd(()=>{r===!0&&c(!1)},[s]),Vd(()=>{l.current&&(a&&n?l.current.style.overscrollBehavior="contain":l.current.style.overscrollBehavior="auto")},[a,n]),Vd(()=>{(o===!0||n===!0||r===!0)&&c(!1),m(!0);let p=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(p)}},[o,n,r]),Vd(()=>()=>{l.current&&(l.current.style.overscrollBehavior="auto")},[]),LU(by,{value:{hydrated:f,navOpen:a,navRef:l,setNavOpen:c,shouldAnimate:u},children:t})};import{c as BU}from"react/compiler-runtime";import{jsx as MU}from"react/jsx-runtime";import"react";var D4="nav-toggler",yy=t=>{let e=BU(15),{id:o,children:n,className:r,tabIndex:s}=t,i=s===void 0?0:s,{t:l}=E(),{setPreference:a}=Ot(),{navOpen:c,setNavOpen:u}=xa(),{breakpoints:d}=$o(),{l:f}=d,m=`${l(c?"general:close":"general:open")} ${l("general:menu")}`,p=c&&`${D4}--is-open`,h;e[0]!==r||e[1]!==p?(h=[D4,p,r].filter(Boolean),e[0]=r,e[1]=p,e[2]=h):h=e[2];let g=h.join(" "),b;e[3]!==f||e[4]!==c||e[5]!==u||e[6]!==a?(b=async()=>{u(!c),f||await a("nav",{open:!c},!0)},e[3]=f,e[4]=c,e[5]=u,e[6]=a,e[7]=b):b=e[7];let y;return e[8]!==n||e[9]!==o||e[10]!==m||e[11]!==g||e[12]!==b||e[13]!==i?(y=MU("button",{"aria-label":m,className:g,id:o,onClick:b,tabIndex:i,type:"button",children:n}),e[8]=n,e[9]=o,e[10]=m,e[11]=g,e[12]=b,e[13]=i,e[14]=y):y=e[14],y};import{c as YU}from"react/compiler-runtime";import{jsx as Mo,jsxs as P4}from"react/jsx-runtime";import{getTranslation as JU}from"@payloadcms/translations";import{Fragment as E4}from"react";import{jsx as R4,jsxs as OU}from"react/jsx-runtime";import"react";var $h=({fill:t})=>{let e=t||"var(--theme-elevation-1000)";return OU("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[R4("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:e}),R4("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:e})]})};import{c as VU}from"react/compiler-runtime";import{jsx as GU}from"react/jsx-runtime";import{createContext as zU,use as WU,useState as HU}from"react";var Ar=()=>WU(A4),A4=zU({}),Cy=t=>{let e=VU(4),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];let[r,s]=HU(n),i;return e[1]!==o||e[2]!==r?(i=GU(A4,{value:{setStepNav:s,stepNav:r},children:o}),e[1]=o,e[2]=r,e[3]=i):i=e[3],i};import{c as UU}from"react/compiler-runtime";import{useEffect as XU}from"react";var ZU=t=>{let e=UU(4),{nav:o}=t,{setStepNav:n}=Ar(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[n,o],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),XU(r,s),null};var zd="step-nav",N4=t=>{let e=YU(7),{className:o,CustomIcon:n}=t,{i18n:r}=E(),{stepNav:s}=Ar(),{config:i}=W(),{routes:l}=i,{admin:a}=l,{t:c}=E(),u;return e[0]!==n||e[1]!==a||e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==c?(u=Mo(E4,{children:s.length>0?P4("nav",{className:[zd,o].filter(Boolean).join(" "),children:[Mo(Xt,{className:`${zd}__home`,href:a,prefetch:!1,tabIndex:0,children:Mo("span",{title:c("general:dashboard"),children:Mo(ue,{CustomComponent:n,Fallback:Mo($h,{})})})}),Mo("span",{children:"/"}),s.map((d,f)=>{let m=JU(d.label,r);return s.length===f+1?Mo("span",{className:`${zd}__last`,children:m},f):P4(E4,{children:[d.url?Mo(Xt,{href:d.url,prefetch:!1,children:Mo("span",{children:m},f)}):Mo("span",{children:m},f),Mo("span",{children:"/"})]},f)})]}):Mo("div",{className:[zd,o].filter(Boolean).join(" "),children:Mo("div",{className:`${zd}__home`,children:Mo("span",{title:c("general:dashboard"),children:Mo(ue,{CustomComponent:n,Fallback:Mo($h,{})})})})})}),e[0]=n,e[1]=a,e[2]=o,e[3]=r,e[4]=s,e[5]=c,e[6]=u):u=e[6],u};var Oo="app-header";function tX({CustomAvatar:t,CustomIcon:e}){let{t:o}=E(),{Actions:n}=uy(),{config:{admin:{routes:{account:r}},localization:s,routes:{admin:i}}}=W(),{navOpen:l}=xa(),a=KU(null),[c,u]=eX(!1);QU(()=>{let f=()=>{let m=a.current;if(m){let p=m.scrollWidth>m.clientWidth;u(p)}};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[n]);let d=n?Object.values(n):[];return kh("header",{className:[Oo,l&&`${Oo}--nav-open`].filter(Boolean).join(" "),children:[lr("div",{className:`${Oo}__bg`}),lr("div",{className:`${Oo}__content`,children:kh("div",{className:`${Oo}__wrapper`,children:[lr(yy,{className:`${Oo}__mobile-nav-toggler`,tabIndex:-1,children:lr(py,{})}),kh("div",{className:`${Oo}__controls-wrapper`,children:[lr("div",{className:`${Oo}__step-nav-wrapper`,children:lr(N4,{className:`${Oo}__step-nav`,CustomIcon:e})}),kh("div",{className:`${Oo}__actions-wrapper`,children:[lr("div",{className:`${Oo}__actions`,ref:a,children:d.map((f,m)=>lr("div",{className:c&&m===d.length-1?`${Oo}__last-action`:"",children:f},m))}),c&&lr("div",{className:`${Oo}__gradient-placeholder`})]}),s&&lr(Nh,{ariaLabel:"invisible",className:`${Oo}__localizer-spacing`}),lr(Xt,{"aria-label":o("authentication:account"),className:`${Oo}__account`,href:qU({adminRoute:i,path:r}),prefetch:!1,tabIndex:0,children:lr(ue,{CustomComponent:t,Fallback:lr(cy,{})})})]})]})}),lr(T4,{className:`${Oo}__localizer`})]})}import{jsx as xy,jsxs as oX}from"react/jsx-runtime";import"react";var Wd="card",rX=t=>{let{id:e,actions:o,buttonAriaLabel:n,href:r,onClick:s,title:i,titleAs:l}=t,a=[Wd,e,(s||r)&&`${Wd}--has-onclick`].filter(Boolean).join(" ");return oX("div",{className:a,id:e,children:[xy(l??"div",{className:`${Wd}__title`,children:i}),o&&xy("div",{className:`${Wd}__actions`,children:o}),(s||r)&&xy(te,{"aria-label":n,buttonStyle:"none",className:`${Wd}__click`,el:"link",onClick:s,to:r})]})};import{c as nX}from"react/compiler-runtime";import{jsx as bi,jsxs as jh}from"react/jsx-runtime";import{getTranslation as sX}from"@payloadcms/translations";import{useRouter as iX}from"next/navigation.js";import{formatAdminURL as aX}from"payload/shared";import Jl from"react";var Bh="copy-locale-data",Mh="copy-locale",wy=()=>{let t=nX(36),{config:e}=W(),{localization:o,routes:n,serverURL:r}=e,{admin:s}=n,{code:i}=xe(),{id:l,collectionSlug:a,globalSlug:c}=Ne(),{i18n:u,t:d}=E(),f=lo(),{toggleModal:m}=ae(),{copyDataFromLocale:p}=Nt(),h=iX(),{startRouteTransition:g}=Ze(),b=o&&o.locales.map(lX)||[],y;t[0]!==i?(y=V=>V.value!==i,t[0]=i,t[1]=y):y=t[1];let v=b.filter(y),C;t[2]!==u||t[3]!==o?(C=V=>{let G=o&&o.locales.find(H=>H.code===V);return G&&G.label?sX(G.label,u):V},t[2]=u,t[3]=o,t[4]=C):C=t[4];let w=C,[S,x]=Jl.useState(!1),[F,I]=Jl.useState(null),[R,D]=Jl.useState(i),[_,T]=Jl.useState(!1),A,$;t[5]!==i||t[6]!==R?(A=()=>{R!==i&&D(i)},$=[i,R],t[5]=i,t[6]=R,t[7]=A,t[8]=$):(A=t[7],$=t[8]),Jl.useEffect(A,$);let P;t[9]!==s||t[10]!==a||t[11]!==p||t[12]!==c||t[13]!==l||t[14]!==_||t[15]!==h||t[16]!==r||t[17]!==g||t[18]!==m?(P=async V=>{let{from:G,to:H}=V;x(!0);try{await p({collectionSlug:a,docID:l,fromLocale:G,globalSlug:c,overrideData:_,toLocale:H}),x(!1),g(()=>h.push(aX({adminRoute:s,path:`/${a?`collections/${a}/${l}`:`globals/${c}`}`,serverURL:r})+`?locale=${H}`)),m(Mh)}catch(z){let Q=z;oe.error(Q.message)}},t[9]=s,t[10]=a,t[11]=p,t[12]=c,t[13]=l,t[14]=_,t[15]=h,t[16]=r,t[17]=g,t[18]=m,t[19]=P):P=t[19];let j=P;if(!l&&!c)return null;let B;t[20]!==f||t[21]!==d||t[22]!==m?(B=()=>{f?oe.info(d("general:unsavedChanges")):m(Mh)},t[20]=f,t[21]=d,t[22]=m,t[23]=B):B=t[23];let N;t[24]!==m?(N=()=>{m(Mh)},t[24]=m,t[25]=N):N=t[25];let L;t[26]!==j||t[27]!==S||t[28]!==R||t[29]!==d||t[30]!==F?(L=async()=>{if(R===F){oe.error(d("localization:cannotCopySameLocale"));return}S||await j({from:R,to:F})},t[26]=j,t[27]=S,t[28]=R,t[29]=d,t[30]=F,t[31]=L):L=t[31];let M;t[32]===Symbol.for("react.memo_cache_sentinel")?(M=V=>{V?.value&&D(V.value)},t[32]=M):M=t[32];let k;t[33]===Symbol.for("react.memo_cache_sentinel")?(k=V=>{V?.value&&I(V.value)},t[33]=k):k=t[33];let O;return t[34]!==_?(O=()=>T(!_),t[34]=_,t[35]=O):O=t[35],jh(Jl.Fragment,{children:[bi(Ie.Button,{id:`${Bh}__button`,onClick:B,children:d("localization:copyToLocale")}),jh(Tt,{className:Bh,gutter:!1,Header:bi(li,{onClose:N,title:d("localization:copyToLocale")}),slug:Mh,children:[jh("div",{className:`${Bh}__sub-header`,children:[bi("span",{children:R&&F?bi("div",{children:d("localization:copyFromTo",{from:w(R),to:w(F)})}):d("localization:selectLocaleToCopy")}),bi(te,{buttonStyle:"primary",disabled:!R||!F,iconPosition:"left",onClick:L,size:"medium",children:S?d("general:copying")+"...":d("general:copy")})]}),jh("div",{className:`${Bh}__content`,children:[bi(Wr,{label:d("localization:copyFrom"),name:"fromLocale",onChange:M,options:b,path:"fromLocale",readOnly:!0,value:R}),bi(Wr,{label:d("localization:copyTo"),name:"toLocale",onChange:k,options:v,path:"toLocale",value:F}),bi(Mr,{checked:_,field:{name:"overwriteExisting",label:d("general:overwriteExistingData")},onChange:O,path:"overwriteExisting"})]})]})]})};function lX(t){return{label:t.label,value:t.code}}import{c as gX}from"react/compiler-runtime";import{jsx as Bn,jsxs as B4}from"react/jsx-runtime";import{getTranslation as M4}from"@payloadcms/translations";import{useRouter as bX,useSearchParams as vX}from"next/navigation.js";import{mergeListSearchAndWhere as yX}from"payload/shared";import*as Ty from"qs-esm";import Hd from"react";import{jsx as cX}from"react/jsx-runtime";import{useSearchParams as uX}from"next/navigation.js";import*as $4 from"qs-esm";import{createContext as dX,use as mX,useCallback as Oh,useEffect as Sy,useMemo as fX,useRef as pX,useState as Iy}from"react";var zt=function(t){return t.AllAvailable="allAvailable",t.AllInPage="allInPage",t.None="none",t.Some="some",t}({}),k4=dX({count:void 0,getQueryParams:t=>"",getSelectedIds:()=>[],selectAll:void 0,selected:new Map,selectedIDs:[],setSelection:t=>{},toggleAll:t=>{},totalDocs:void 0}),L4=t=>{let e=[];for(let[o,n]of t)n&&e.push(o);return e},_y=({children:t,docs:e=[],totalDocs:o})=>{let n=pX({}),{user:r}=_e(),{code:s}=xe(),[i,l]=Iy(()=>{let v=new Map;return e.forEach(({id:C})=>{v.set(C,!1)}),v}),[a,c]=Iy("none"),[u,d]=Iy(0),f=uX(),{query:m}=lt(),p=Oh((v=!1)=>{let C=new Map;v?(c("allAvailable"),e.forEach(({id:w,_isLocked:S,_userEditing:x})=>{(!S||x?.id===r?.id)&&C.set(w,!0)})):a==="allAvailable"||a==="allInPage"?c("none"):e.forEach(({id:w,_isLocked:S,_userEditing:x})=>{(!S||x?.id===r?.id)&&C.set(w,a!=="some")}),l(C)},[e,a,r?.id]),h=Oh(v=>{let C=e.find(F=>F.id===v);if(C?._isLocked&&r?.id!==C?._userEditing.id)return;let w=i.get(v),S=typeof w=="boolean"?!w:!0,x=new Map(i.set(v,S));a==="allAvailable"&&!S&&c("some"),l(x)},[i,e,a,r?.id]),g=Oh(v=>{let C;if(a==="allAvailable")C=Vt(f)?.where||{id:{not_equals:""}};else{let w=[];for(let[S,x]of i)x&&w.push(S);C={id:{in:w}}}return v&&(C={and:[{...v},C]}),$4.stringify({locale:s,where:C},{addQueryPrefix:!0})},[a,i,s,f]),b=Oh(()=>L4(i),[i]);Sy(()=>{if(a==="allAvailable")return;let v=!1,C=!0;if(!i.size)C=!1,v=!1;else for(let[w,S]of i)C=C&&S,v=v||S;C&&i.size===e.length?c("allInPage"):c(v?"some":"none")},[a,i,o,e]),Sy(()=>{let v=0;if(a==="allAvailable")v=o;else for(let[C,w]of i)w&&v++;d(v)},[a,i,o]),Sy(()=>{c("none"),l(new Map)},[m]);let y=fX(()=>L4(i),[i]);return n.current={count:u,getQueryParams:g,getSelectedIds:b,selectAll:a,selected:i,selectedIDs:y,setSelection:h,toggleAll:p,totalDocs:o},cX(k4,{value:n.current,children:t})},vo=()=>mX(k4);import{c as hX}from"react/compiler-runtime";import{jsx as ql,jsxs as Fy}from"react/jsx-runtime";import j4 from"react";var Vh="list-selection";function Gh(t){let e=hX(5),{count:o,ListActions:n,SelectionActions:r}=t,{t:s}=E(),i;return e[0]!==n||e[1]!==r||e[2]!==o||e[3]!==s?(i=Fy("div",{className:Vh,children:[ql("span",{children:s("general:selectedCount",{count:o,label:""})}),n&&n.length>0&&Fy(j4.Fragment,{children:[ql("span",{children:"\u2014"}),ql("div",{className:`${Vh}__actions`,children:n})]}),r&&r.length>0&&Fy(j4.Fragment,{children:[ql("span",{children:"\u2014"}),ql("div",{className:`${Vh}__actions`,children:r})]})]}),e[0]=n,e[1]=r,e[2]=o,e[3]=s,e[4]=i):i=e[4],i}function Qt({children:t,className:e,...o}){return ql(te,{...o,buttonStyle:"none",className:[`${Vh}__button`,e].filter(Boolean).join(" "),children:t})}var Dy=t=>{let e=gX(6),{viewType:o}=t,{collection:n,modalPrefix:r}=t,{slug:s,trash:i}=n===void 0?{}:n,{permissions:l}=_e(),{count:a,selectAll:c,selectedIDs:u,toggleAll:d}=vo(),f=bX(),m=vX(),{clearRouteCache:p}=pt(),g=l?.collections?.[s]?.delete,b=c===zt.AllAvailable,y=b?[]:u;if(c===zt.None||!g)return null;let v=Vt(m)?.where,C=o==="trash"?{and:[...Array.isArray(v?.and)?v.and:v?[v]:[],{deletedAt:{exists:!0}}]}:v,w;return e[0]!==p||e[1]!==f||e[2]!==m||e[3]!==c||e[4]!==d?(w=()=>{d(),f.replace(Ty.stringify({...Vt(m),page:c?"1":void 0},{addQueryPrefix:!0})),p()},e[0]=p,e[1]=f,e[2]=m,e[3]=c,e[4]=d,e[5]=w):w=e[5],Bn(Hd.Fragment,{children:Bn(Ry,{afterDelete:w,modalPrefix:r,search:Vt(m)?.search,selections:{[s]:{all:c===zt.AllAvailable,ids:y,totalCount:b?a:y.length}},trash:i,viewType:o,where:C})})};function Ry({afterDelete:t,modalPrefix:e,search:o,selections:n,trash:r,viewType:s,where:i}){let{t:l}=E(),{config:{collections:a,routes:{api:c},serverURL:u}}=W(),{code:d}=xe(),{i18n:f}=E(),{openModal:m}=ae(),[p,h]=Hd.useState(!1),g=`${e?`${e}-`:""}confirm-delete-many-docs`,b=Hd.useCallback(async()=>{let C=Object.keys(n).length===1,w={};for(let[S,{all:x,ids:F=[]}]of Object.entries(n)){let I=a.find(({slug:R})=>R===S);if(I){let R;x?C&&i?R=s==="trash"?{and:[...Array.isArray(i.and)?i.and:[i],{deletedAt:{exists:!0}}]}:i:R=s==="trash"?{and:[{id:{not_equals:""}},{deletedAt:{exists:!0}}]}:{id:{not_equals:""}}:R={and:[{id:{in:F}},...s==="trash"?[{deletedAt:{exists:!0}}]:[]]};let D=`${u}${c}/${S}${Ty.stringify({limit:0,locale:d,where:yX({collectionConfig:I,search:o,where:R}),...s==="trash"?{trash:!0}:{}},{addQueryPrefix:!0})}`,_=s==="trash"||p||!I.trash?await ze.delete(D,{headers:{"Accept-Language":f.language,"Content-Type":"application/json"}}):await ze.patch(D,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":f.language,"Content-Type":"application/json"}});try{let{plural:T,singular:A}=I.labels,$=await _.json(),P=$?.docs.length||0,j=P>1?T:A;if(_.status<400||P>0){let B=I.trash&&!p&&s!=="trash",N;B?N="general:trashedCountSuccessfully":s==="trash"||p?N="general:permanentlyDeletedCountSuccessfully":N="general:deletedCountSuccessfully",oe.success(l(N,{count:P,label:M4(j,f)}))}$?.errors.length>0&&oe.error($.message,{description:$.errors.map(B=>B.message).join(`
`)}),w[S]={deletedCount:P,errors:$?.errors||null,ids:$?.docs.map(B=>B.id)||[],totalCount:$.totalDocs},_.status>400&&$?.errors.length===0&&(oe.error(l("error:unknown")),w[S].errors=[l("error:unknown")]);continue}catch(T){oe.error(l("error:unknown")),w[S]={deletedCount:0,errors:[T],ids:[],totalCount:0};continue}}}typeof t=="function"&&t(w)},[n,t,a,p,d,o,u,c,f,s,i,l]),{label:y,labelCount:v}=Object.entries(n).reduce((C,[w,S],x,F)=>{let I=a.find(({slug:R})=>R===w);if(I){let R=C.labelCount===void 0?S.totalCount:C.labelCount,D=`${C.labelCount!==void 0?`${S.totalCount} `:""}${M4(S.totalCount>1?I.labels.plural:I.labels.singular,f)}`,_;return x===F.length-1&&x!==0?_=`${C.label} and ${D}`:x>0?_=`${C.label}, ${D}`:_=D,{label:_,labelCount:R}}return C},{label:"",labelCount:void 0});return B4(Hd.Fragment,{children:[Bn(Qt,{"aria-label":l("general:delete"),className:"delete-documents__toggle",onClick:()=>{m(g)},children:l("general:delete")}),Bn(et,{body:B4(Hd.Fragment,{children:[Bn("p",{children:r?s==="trash"?Bn(Jt,{elements:{0:({children:C})=>Bn("strong",{children:C}),1:({children:C})=>Bn("strong",{children:C})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:l,variables:{count:v??0,label:y}}):l("general:aboutToTrashCount",{count:v,label:y}):l("general:aboutToDeleteCount",{count:v,label:y})}),r&&s!=="trash"&&Bn("div",{className:"delete-documents__checkbox",children:Bn(uo,{checked:p,id:"delete-forever",label:l("general:deletePermanently"),name:"delete-forever",onToggle:C=>h(C.target.checked)})})]}),confirmingLabel:l("general:deleting"),heading:l("general:confirmDeletion"),modalSlug:g,onConfirm:b})]})}import{c as pZ}from"react/compiler-runtime";import{jsx as rt,jsxs as _o,Fragment as hZ}from"react/jsx-runtime";import{getTranslation as gZ}from"@payloadcms/translations";import{formatAdminURL as bZ}from"payload/shared";import zy,{Fragment as Jd,useEffect as vZ}from"react";import{createContext as CX,use as O4}from"react";var zh=CX({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,isPreviewEnabled:void 0,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewURL:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIsLivePreviewing:()=>{},setLoadedURL:()=>{},setMeasuredDeviceSize:()=>{},setPreviewURL:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setURL:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},typeofLivePreviewURL:void 0,url:void 0,zoom:1}),yo=()=>O4(zh),Wh=()=>{let{isPreviewEnabled:t,previewURL:e,setPreviewURL:o}=O4(zh);return{isPreviewEnabled:t,previewURL:e,setPreviewURL:o}};import{jsx as G4,jsxs as wX}from"react/jsx-runtime";import{dequal as SX}from"dequal/lite";import{reduceFieldsToValues as z4,versionDefaults as IX}from"payload/shared";import _X,{useDeferredValue as FX,useEffect as W4,useRef as Ql,useState as TX}from"react";import{unflatten as xX}from"payload/shared";var V4=(t,e,o)=>{let n={data:{},valid:!0};return t&&(Object.keys(t).forEach(r=>{(o===!0||!t[r]?.disableFormData)&&(n.data[r]=t[r]?.value,t[r].valid||(n.valid=!1))}),e&&(n.data=xX(n.data))),n};var DX="autosave",H4=1e3,U4=({id:t,collection:e,global:o})=>{let{config:{routes:{api:n},serverURL:r}}=W(),{docConfig:s,lastUpdateTime:i,mostRecentVersionIsAutosaved:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c}=Ne(),{isValid:u,setBackgroundProcessing:d,submit:f}=Ge(),[m]=Vs(),p=lo(),h=ao(),{code:g}=xe(),{i18n:b,t:y}=E(),v=s?.versions,C=IX.autosaveInterval;v.drafts&&v.drafts.autosave&&(C=v.drafts.autosave.interval);let w=!!(s?.versions?.drafts&&s?.versions?.drafts.validate),[S,x]=TX(!1),F=FX(S),I=pn(m,C),R=Ql(m),D=Ql(p),_=Ql(g);R.current=m,D.current=p,_.current=g;let{queueTask:T}=na(),A=Ql(null),$=vt(()=>{A.current=void 0;let N,L,M=()=>{L-N<H4?A.current=setTimeout(()=>{x(!1)},H4-(L-N)):B()};T(async()=>{if(p){N=new Date().getTime(),x(!0);let k,O,V;e&&t&&(V=e.slug,k=`${r}${n}/${V}/${t}?depth=0&draft=true&autosave=true&locale=${_.current}`,O="PATCH"),o&&(V=o.slug,k=`${r}${n}/globals/${V}?depth=0&draft=true&autosave=true&locale=${_.current}`,O="POST");let{valid:G}=V4(R.current,!0);if(!(h&&!G&&v?.drafts&&v?.drafts?.validate)&&D.current&&k){let z=await f({acceptValues:{overrideLocalChanges:!1},action:k,context:{getDocPermissions:!1,incrementVersionCount:!l},disableFormWhileProcessing:!1,disableSuccessStatus:!0,method:O,overrides:{_status:"draft"},skipValidation:v?.drafts&&!v?.drafts?.validate});z&&z?.res?.ok&&!l&&(a(!0),c(J=>J+1)),L=new Date().getTime(),M()}}},{afterProcess:()=>{d(!1)},beforeProcess:()=>{d(!0)}})}),P=Ql(!1),j=Ql(z4(I));W4(()=>{if(!P.current){P.current=!0;return}let{updatedAt:N,...L}=z4(I),{updatedAt:M,...k}=j.current;SX(L,k)||(j.current=L,$())},[I]),W4(()=>()=>{B()},[]);let B=vt(()=>{A.current&&clearTimeout(A.current),x(!1)});return wX("div",{className:DX,children:[w&&!u&&G4(kd,{}),F&&y("general:saving"),!F&&!!i&&G4(_X.Fragment,{children:y("version:lastSavedAgo",{distance:s1({date:i,i18n:b})})})]})};import{jsx as Kl,jsxs as X4}from"react/jsx-runtime";import{getTranslation as Z4}from"@payloadcms/translations";import{useRouter as RX}from"next/navigation.js";import{formatAdminURL as AX}from"payload/shared";import{Fragment as Y4,useCallback as J4,useState as PX}from"react";var q4="delete-document",Q4=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=W(),f=d({collectionSlug:n}),{setModified:m}=Ge(),p=RX(),{i18n:h,t:g}=E(),{title:b}=Do(),{startRouteTransition:y}=Ze(),{openModal:v}=ae(),C=`delete-${e}`,[w,S]=PX(!1),x=J4(()=>{oe.error(g("error:deletingTitle",{title:b}))},[g,b]),F=J4(async()=>{m(!1);try{let I=w||!f.trash?await ze.delete(`${u}${c}/${n}/${e}`,{headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}):await ze.patch(`${u}${c}/${n}/${e}`,{body:JSON.stringify({deletedAt:new Date().toISOString()}),headers:{"Accept-Language":h.language,"Content-Type":"application/json"}}),R=await I.json();if(I.status<400){if(oe.success(g(w||!f.trash?"general:titleDeleted":"general:titleTrashed",{label:Z4(i,h),title:b})||R.message),s)return y(()=>p.push(AX({adminRoute:a,path:`/collections/${n}`})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}R.errors?R.errors.forEach(D=>oe.error(D.message)):x();return}catch{return x()}},[w,m,u,c,n,e,g,i,x,h,b,p,a,s,r,f,y]);return e?X4(Y4,{children:[Kl(Ie.Button,{id:o,onClick:()=>{v(C)},children:g("general:delete")}),Kl(et,{body:X4(Y4,{children:[Kl(Jt,{elements:{1:({children:I})=>Kl("strong",{children:I})},i18nKey:f.trash?"general:aboutToTrash":"general:aboutToDelete",t:g,variables:{label:Z4(i,h),title:l||b||e}}),f.trash&&Kl("div",{className:`${q4}__checkbox`,children:Kl(uo,{checked:w,id:"delete-forever",label:g("general:deletePermanently"),name:"delete-forever",onToggle:I=>S(I.target.checked)})})]}),className:q4,confirmingLabel:g("general:deleting"),heading:g("general:confirmDeletion"),modalSlug:C,onConfirm:F})]}):null};import{jsx as Ny,jsxs as kX}from"react/jsx-runtime";import{getTranslation as Ly}from"@payloadcms/translations";import{useRouter as jX}from"next/navigation.js";import{formatAdminURL as BX}from"payload/shared";import*as t6 from"qs-esm";import MX,{useCallback as e6,useMemo as OX}from"react";var wa=t=>{for(let e of t){if("localized"in e&&e.localized)return!0;switch(e.type){case"array":case"collapsible":case"group":case"row":if(e.fields&&wa(e.fields))return!0;break;case"blocks":if(e.blocks){for(let o of e.blocks)if(o.fields&&wa(o.fields))return!0}break;case"tabs":if(e.tabs){for(let o of e.tabs)if("localized"in o&&o.localized||"fields"in o&&o.fields&&wa(o.fields))return!0}break}}return!1};import{jsx as Sa,jsxs as Ay}from"react/jsx-runtime";import{getTranslation as EX}from"@payloadcms/translations";import{setsAreEqual as NX}from"payload/shared";import{useCallback as Py,useMemo as Ey,useState as LX}from"react";var $X=({i18n:t,localization:e})=>e.locales.map(o=>({label:EX(o.label,t),value:o.code})),Ud="select-locales-drawer",K4=({slug:t,localization:e,onConfirm:o})=>{let{i18n:n,t:r}=E(),{toggleModal:s}=ae(),[i,l]=LX([]),a=Ey(()=>$X({i18n:n,localization:e}),[e,n]),c=Ey(()=>a.map(p=>p.value),[a]),u=Ey(()=>NX(new Set(i),new Set(c)),[i,c]),d=Py(()=>{l(u?[]:[...c])},[u,c]),f=Py(p=>{l(h=>h.includes(p)?h.filter(g=>g!==p):[...h,p])},[]),m=Py(async()=>{await o({selectedLocales:i}),s(t)},[o,i,t,s]);return Ay(Tt,{className:Ud,gutter:!1,Header:Sa(li,{onClose:()=>{s(t)},title:`${r("general:duplicate")} ${r("localization:selectedLocales")}`}),slug:t,children:[Ay("div",{className:`${Ud}__sub-header`,children:[Sa("span",{children:r("localization:selectLocaleToDuplicate")}),Sa(te,{buttonStyle:"primary",disabled:i.length===0,iconPosition:"left",id:"#action-duplicate-confirm",onClick:m,size:"medium",children:r("general:duplicate")})]}),Ay("div",{className:`${Ud}__content`,children:[Sa("div",{className:`${Ud}__item`,children:Sa(uo,{checked:u,id:"select-locale-all",label:r("general:selectAll",{count:c.length,label:r("general:locales")}),onToggle:d})}),a.map(p=>Sa("div",{className:`${Ud}__item`,children:Sa(uo,{checked:i.includes(p.value),id:`select-locale-${p.value}`,label:p.label,onToggle:()=>f(p.value)})},p.value))]})]})};var $y=({id:t,slug:e,onDuplicate:o,redirectAfterDuplicate:n=!0,selectLocales:r,singularLabel:s})=>{let i=jX(),l=lo(),{openModal:a}=ae(),{code:c}=xe(),{setModified:u}=Ge(),{startRouteTransition:d}=Ze(),{config:{localization:f,routes:{admin:m,api:p},serverURL:h},getEntityConfig:g}=W(),b=g({collectionSlug:e}),{i18n:y,t:v}=E(),C=`duplicate-${t}`,w=`duplicate-locales-${t}`,S=OX(()=>r&&b?wa(b.fields):!1,[b,r]),x=e6(async R=>{let{selectedLocales:D}=R||{},_=D&&D.length>0,T={};c&&(T.locale=c),_&&(T.selectedLocales=D);let A={"Accept-Language":y.language,"Content-Type":"application/json",credentials:"include"};try{let $=await ze.post(`${h}${p}/${e}/${t}/duplicate${t6.stringify(T,{addQueryPrefix:!0})}`,{body:JSON.stringify({}),headers:A}),{doc:P,errors:j,message:B}=await $.json();if($.status<400){if(oe.success(B||v("general:successfullyDuplicated",{label:Ly(s,y)})),u(!1),n)return d(()=>i.push(BX({adminRoute:m,path:`/collections/${e}/${P.id}${c?`?locale=${c}`:""}`})));typeof o=="function"&&o({collectionConfig:b,doc:P})}else oe.error(j?.[0].message||B||v("error:unspecific",{label:Ly(s,y)}))}catch{oe.error(v("error:unspecific",{label:Ly(s,y)}))}},[m,p,b,y,t,c,o,n,i,h,u,s,e,d,v]),F=e6(async()=>{r?a(w):await x()},[x,w,r,a]),I=r?`${v("general:duplicate")} ${v("localization:selectedLocales")}`:v("general:duplicate");return!r||S?kX(MX.Fragment,{children:[Ny(Ie.Button,{id:`action-duplicate${S?"-locales":""}`,onClick:()=>{l?a(C):r?a(w):x()},children:I}),Ny(et,{body:v("general:unsavedChangesDuplicate"),confirmLabel:v("general:duplicateWithoutSaving"),heading:v("general:unsavedChanges"),modalSlug:C,onConfirm:F}),r&&f&&Ny(K4,{localization:f,onConfirm:x,slug:w})]}):null};import{jsx as r6}from"react/jsx-runtime";import"react";import{jsx as Xd,jsxs as VX}from"react/jsx-runtime";import{Fragment as o6}from"react";var Hh=({active:t=!0,className:e})=>Xd("svg",{className:[e,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?Xd(o6,{children:Xd("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):VX(o6,{children:[Xd("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),Xd("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})});var n6="live-preview-toggler",s6=()=>{let{isLivePreviewing:t,setIsLivePreviewing:e,url:o}=yo(),{t:n}=E();return o?r6("button",{"aria-label":n(t?"general:exitLivePreview":"general:livePreview"),className:[n6,t&&`${n6}--active`].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{e(!t)},title:n(t?"general:exitLivePreview":"general:livePreview"),type:"button",children:r6(Hh,{active:t})}):null};import{c as zX}from"react/compiler-runtime";import{jsx as l6,jsxs as WX}from"react/jsx-runtime";import{useState as HX}from"react";import{jsx as i6,jsxs as GX}from"react/jsx-runtime";import"react";var a6=({className:t})=>GX("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[i6("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),i6("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var c6="locked",Zd=t=>{let e=zX(8),{className:o,user:n}=t,[r,s]=HX(!1),{t:i}=E(),l=Ah(n)?n.email??n.id:i("general:anotherUser"),a;e[0]!==o?(a=[c6,o].filter(Boolean),e[0]=o,e[1]=a):a=e[1];let c=a.join(" "),u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),d=()=>s(!1),e[2]=u,e[3]=d):(u=e[2],d=e[3]);let f=`${l} ${i("general:isEditing")}`,m;return e[4]!==r||e[5]!==c||e[6]!==f?(m=WX("div",{className:c,onMouseEnter:u,onMouseLeave:d,role:"button",tabIndex:0,children:[l6(To,{alignCaret:"left",className:`${c6}__tooltip`,position:"top",show:r,children:f}),l6(a6,{})]}),e[4]=r,e[5]=c,e[6]=f,e[7]=m):m=e[7],m};import{jsx as Uh,jsxs as UX}from"react/jsx-runtime";import{getTranslation as u6}from"@payloadcms/translations";import{useRouter as XX}from"next/navigation.js";import{formatAdminURL as ZX}from"payload/shared";import*as m6 from"qs-esm";import{Fragment as YX,useCallback as d6}from"react";var f6=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=W(),f=d({collectionSlug:n}),m=XX(),{i18n:p,t:h}=E(),{title:g}=Do(),{startRouteTransition:b}=Ze(),{openModal:y}=ae(),v=`perma-delete-${e}`,C=d6(()=>{oe.error(h("error:deletingTitle",{title:g}))},[h,g]),w=d6(async()=>{try{let S=`${u}${c}/${n}?${m6.stringify({trash:!0,where:{and:[{id:{equals:e}},{deletedAt:{exists:!0}}]}})}`,x=await ze.delete(S,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}),F=await x.json();if(x.status<400){if(oe.success(h("general:titleDeleted",{label:u6(i,p),title:g})||F.message),s)return b(()=>m.push(ZX({adminRoute:a,path:`/collections/${n}/trash`})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}F.errors?F.errors.forEach(I=>oe.error(I.message)):C()}catch{C()}},[u,c,n,e,h,i,C,p,g,m,a,s,r,f,b]);return e?UX(YX,{children:[Uh(te,{buttonStyle:"secondary",id:o,onClick:()=>{y(v)},children:h("general:permanentlyDelete")}),Uh(et,{body:Uh(Jt,{elements:{1:({children:S})=>Uh("strong",{children:S})},i18nKey:"general:aboutToPermanentlyDelete",t:h,variables:{label:u6(i,p),title:l||g||e}}),confirmingLabel:h("general:deleting"),heading:h("general:confirmDeletion"),modalSlug:v,onConfirm:w})]}):null};import{c as JX}from"react/compiler-runtime";import{jsx as h6}from"react/jsx-runtime";import"react";import{jsx as p6}from"react/jsx-runtime";import"react";var Yd=t=>{let{className:e}=t;return p6("svg",{className:[e,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:p6("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};var qX="preview-btn";function ky(t){let e=JX(3),{previewURL:o}=Wh(),{t:n}=E();if(!o)return null;let r;return e[0]!==o||e[1]!==n?(r=h6("a",{"aria-label":n("version:preview"),className:qX,href:o,id:"preview-button",target:"_blank",title:n("version:preview"),children:h6(Yd,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}import{jsx as tc,jsxs as S6}from"react/jsx-runtime";import*as I6 from"qs-esm";import By,{useCallback as My,useEffect as oZ,useState as rZ}from"react";import{jsx as so,jsxs as _a}from"react/jsx-runtime";import{getTranslation as eZ}from"@payloadcms/translations";import*as x6 from"qs-esm";import Yo,{useCallback as tZ,useMemo as y6}from"react";import{jsx as Ia,jsxs as g6}from"react/jsx-runtime";import"react";var b6="table",jy=({appearance:t,BeforeTable:e,columns:o,data:n})=>{let r=o?.filter(s=>s?.active);return!r||r.length===0?Ia("div",{children:"No columns selected"}):g6("div",{className:[b6,t&&`${b6}--appearance-${t}`].filter(Boolean).join(" "),children:[e,g6("table",{cellPadding:"0",cellSpacing:"0",children:[Ia("thead",{children:Ia("tr",{children:r.map((s,i)=>Ia("th",{id:`heading-${s.accessor.replace(/\./g,"__")}`,children:s.Heading},i))})}),Ia("tbody",{children:n&&n?.map((s,i)=>Ia("tr",{className:`row-${i+1}`,children:r.map((l,a)=>{let{accessor:c}=l;return Ia("td",{className:`cell-${c.replace(/\./g,"__")}`,children:l.renderedCells[i]},a)})},typeof s.id=="string"||typeof s.id=="number"?String(s.id):i))})]})]})};import{jsx as Mn,jsxs as QX}from"react/jsx-runtime";import{getTranslation as KX}from"@payloadcms/translations";import"react";var v6=({dateFormat:t,deleteHandler:e,docs:o,i18n:n,localization:r,supportedTimezones:s,t:i})=>{let l=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:Mn("span",{children:i("version:type")}),renderedCells:o.map(a=>{let c=a.input?.type;return QX(it,{pillStyle:c==="publish"?"success":"warning",size:"small",children:[c==="publish"&&i("version:publish"),c==="unpublish"&&i("version:unpublish")]},a.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:Mn("span",{children:i("general:time")}),renderedCells:o.map(a=>Mn("span",{children:Br({date:a.waitUntil,i18n:n,pattern:t,timezone:a.input.timezone})},a.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:Mn("span",{children:i("general:timezone")}),renderedCells:o.map(a=>{let u=s.find(d=>d.value===a.input.timezone)?.label||a.input.timezone;return Mn("span",{children:u||i("general:noValue")},a.id)})}];return r&&l.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:Mn("span",{children:i("general:locale")}),renderedCells:o.map(a=>{if(a.input.locale){let c=r.locales.find(u=>u.code===a.input.locale);if(c)return Mn("span",{children:KX(c.label,n)},a.id)}return Mn("span",{children:i("general:all")},a.id)})}),l.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:Mn("span",{children:i("general:delete")}),renderedCells:o.map(a=>Mn(te,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:c=>{c.preventDefault(),e(a.id)},tooltip:i("general:delete")},a.id))}),l};var ec="schedule-publish",C6={label:"All",value:"all"},w6=({slug:t,defaultType:e,schedulePublishConfig:o})=>{let{toggleModal:n}=ae(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:s,supportedTimezones:i}},localization:l,routes:{api:a},serverURL:c}}=W(),{id:u,collectionSlug:d,globalSlug:f}=Ne(),{title:m}=Do(),{i18n:p,t:h}=E(),{schedulePublish:g}=Nt(),[b,y]=Yo.useState(e||"publish"),[v,C]=Yo.useState(),[w,S]=Yo.useState(s),[x,F]=Yo.useState(C6),[I,R]=Yo.useState(!1),D=h("general:schedulePublishFor",{title:m}),[_,T]=Yo.useState(),[A,$]=Yo.useState(),P=Yo.useRef(()=>null),j=Intl.DateTimeFormat().resolvedOptions().timeZone,B=Yo.useMemo(()=>{if(l){let G=l.locales.map(({code:H,label:z})=>({label:eZ(z,p),value:H}));return G.unshift(C6),G}return[]},[l,p]),N=Yo.useCallback(async()=>{let G={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};d&&(G.where.and.push({"input.doc.value":{equals:String(u)}}),G.where.and.push({"input.doc.relationTo":{equals:d}})),f&&G.where.and.push({"input.global":{equals:f}});let{docs:H}=await ze.post(`${c}${a}/payload-jobs`,{body:x6.stringify(G),headers:{"Accept-Language":p.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(z=>z.json());$(v6({dateFormat:r,deleteHandler:P.current,docs:H,i18n:p,localization:l,supportedTimezones:i,t:h})),T(H)},[d,f,c,a,p,r,l,i,h,u]),L=Yo.useCallback(async G=>{try{await g({deleteID:G}),await N(),oe.success(h("general:deletedSuccessfully"))}catch(H){console.error(H),oe.error(H.message)}},[N,g,h]);Yo.useEffect(()=>{P.current=L},[L]);let M=Yo.useCallback(async()=>{if(!v)return oe.error(h("general:noDateSelected"));R(!0);let G;typeof x=="object"&&x.value!=="all"&&b==="publish"&&(G=x.value);try{await g({type:b,date:v,doc:d?{relationTo:d,value:String(u)}:void 0,global:f||void 0,locale:G,timezone:w}),C(void 0),oe.success(h("version:scheduledSuccessfully")),N()}catch(H){console.error(H),oe.error(H.message)}R(!1)},[v,x,b,h,g,d,u,f,w,N]),k=y6(()=>{if(w&&j&&v){let G=oo.tz(w),H=oo.tz(j),z=new oo(v).withTimeZone(w),Q=rn(z,G);return rn(Q,H).toISOString()}return v},[w,v,j]),O=tZ(G=>{if(w&&G){let H=oo.tz(w),z=new oo(G),Q=rn(z,H);C(Q||null)}else C(G||null)},[C,w]);Yo.useEffect(()=>{_||(async()=>await N())()},[_,N]);let V=y6(()=>v&&a3(v)?new Date:Us(new Date),[v]);return _a(Tt,{className:ec,gutter:!1,Header:_a("div",{className:`${ec}__drawer-header`,children:[so("h2",{title:D,children:D}),so(Yp,{onClick:()=>n(t)})]}),slug:t,children:[_a(wo,{className:`${ec}__scheduler`,children:[so(Fe,{label:h("version:type"),required:!0}),_a("ul",{className:`${ec}__type`,children:[so("li",{children:so(Vu,{id:`${t}-type`,isSelected:b==="publish",onChange:()=>y("publish"),option:{label:h("version:publish"),value:"publish"},path:`${t}-type`,readOnly:I})}),so("li",{children:so(Vu,{id:`${t}-type`,isSelected:b==="unpublish",onChange:()=>y("unpublish"),option:{label:h("version:unpublish"),value:"unpublish"},path:`${t}-type`,readOnly:I})})]}),so("br",{}),so(Fe,{label:h("general:time"),path:"time",required:!0}),so(cl,{id:"time",maxTime:U2(),minDate:new Date,minTime:V,onChange:G=>O(G),pickerAppearance:"dayAndTime",readOnly:I,timeFormat:o?.timeFormat,timeIntervals:o?.timeIntervals??5,value:k}),i.length>0&&so(wu,{id:"timezone-picker",onChange:S,options:i,selectedTimezone:w}),so("br",{}),B.length>0&&b==="publish"&&_a(Yo.Fragment,{children:[so(Fe,{label:h("localization:localeToPublish")}),so(ft,{onChange:G=>F(G),options:B,value:x}),so("br",{})]}),_a("div",{className:`${ec}__actions`,children:[so(te,{buttonStyle:"primary",disabled:I,id:"scheduled-publish-save",onClick:M,type:"button",children:h("general:save")}),I?so("span",{children:h("general:saving")}):null]})]}),_a(wo,{className:`${ec}__upcoming`,children:[so("h4",{children:h("general:upcomingEvents")}),!_&&so(It,{}),_?.length===0&&so(tn,{type:"info",children:h("general:noUpcomingEventsScheduled")}),_?.length>0&&so(jy,{appearance:"condensed",columns:A,data:_})]})]})};function Oy({label:t}){let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,hasPublishedDoc:s,hasPublishPermission:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u,uploadStatus:d}=Ne(),{config:f,getEntityConfig:m}=W(),{submit:p}=Ge(),h=lo(),g=ut(),{code:b}=xe(),{isModalOpen:y,toggleModal:v}=ae(),C=`schedule-publish-${e}`,{localization:w,routes:{api:S},serverURL:x}=f,{t:F}=E(),I=t||F("version:publishChanges"),R=By.useMemo(()=>{if(o)return m({collectionSlug:o});if(r)return m({globalSlug:r})},[o,r,m]),D=u>0,_=typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.schedulePublish,T=i&&(h||D||!s)&&d!=="uploading",A=!!_,$=!!(typeof R?.versions?.drafts=="object"&&R?.versions?.drafts.autosave),P=!!(A&&i&&(r||o&&e)&&($||!h)),[j,B]=rZ(!1);oZ(()=>{let U=wa(R?.fields);B(U)},[R?.fields]);let N=w&&j&&i,M=vr()==="update"&&!h,k=My(async()=>{if(M)return;let U=`?locale=${b}&depth=0&fallback-locale=null&draft=true`,re,ce="POST";o&&(re=`${x}${S}/${o}${e?`/${e}`:""}${U}`,e&&(ce="PATCH")),r&&(re=`${x}${S}/globals/${r}${U}`),await p({action:re,method:ce,overrides:{_status:"draft"},skipValidation:!0})},[p,o,r,x,S,b,e,M]);va({cmdCtrlKey:!0,editDepth:g,keyCodes:["s"]},U=>{U.preventDefault(),U.stopPropagation(),k&&n.versions?.drafts&&n.versions?.drafts?.autosave&&k()});let O=My(async()=>{if(d==="uploading")return;await p({overrides:{_status:"published"}})&&(c(0),a(!1),l(!0))},[l,p,c,d,a]),V=My(async U=>{if(d==="uploading")return;let re=I6.stringify({depth:0,publishSpecificLocale:U}),ce=`${x}${S}${r?`/globals/${r}`:`/${o}${e?`/${e}`:""}`}${re?"?"+re:""}`;await p({action:ce,overrides:{_status:"published"}})&&l(!0)},[S,o,r,e,x,l,p,d]),G=!w||w&&w.defaultLocalePublishOption!=="active",H=w&&w?.locales.find(U=>typeof U=="string"?U===b:U.code===b),z=H&&(typeof H.label=="string"?H.label:H.label?.[b]??void 0),Q=G?O:()=>V(H.code),J=G?I:F("version:publishIn",{locale:z}),X=G?()=>V(H.code):O,ie=G?F("version:publishIn",{locale:z}):F("version:publishAllLocales");return i?S6(By.Fragment,{children:[tc(Tr,{buttonId:"action-save",disabled:!T,enableSubMenu:P,onClick:Q,size:"medium",SubMenuPopupContent:N||P?({close:U})=>S6(By.Fragment,{children:[P&&tc(Ie.ButtonGroup,{children:tc(Ie.Button,{id:"schedule-publish",onClick:()=>[v(C),U()],children:F("version:schedulePublish")})},"schedule-publish"),N&&tc(Ie.ButtonGroup,{children:tc(Ie.Button,{id:"publish-locale",onClick:X,children:ie})})]}):void 0,type:"button",children:w?J:I}),P&&y(C)&&tc(w6,{defaultType:D?"publish":"unpublish",schedulePublishConfig:typeof _=="object"&&_,slug:C})]}):null}import{jsx as oc,jsxs as _6}from"react/jsx-runtime";import{getTranslation as F6}from"@payloadcms/translations";import{useRouter as nZ}from"next/navigation.js";import{formatAdminURL as sZ}from"payload/shared";import*as A6 from"qs-esm";import{Fragment as T6,useCallback as D6,useState as iZ}from"react";var R6="restore-button",P6=t=>{let{id:e,buttonId:o,collectionSlug:n,onRestore:r,redirectAfterRestore:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=W(),f=d({collectionSlug:n}),m=nZ(),{i18n:p,t:h}=E(),{title:g}=Do(),{startRouteTransition:b}=Ze(),{openModal:y}=ae(),v=`restore-${e}`,[C,w]=iZ(!1),S=D6(()=>{oe.error(h("error:restoringTitle",{title:g}))},[h,g]),x=D6(async()=>{try{let F=`${u}${c}/${n}?${A6.stringify({trash:!0,where:{and:[{id:{equals:e}},{deletedAt:{exists:!0}}]}})}`,I={deletedAt:null};f?.versions?.drafts&&(I._status=C?"published":"draft");let R=await ze.patch(F,{body:JSON.stringify(I),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}),D=await R.json();if(R.status<400){if(oe.success(h("general:titleRestored",{label:F6(i,p),title:g})||D.message),s)return b(()=>m.push(sZ({adminRoute:a,path:`/collections/${n}/${e}`})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}D.errors?D.errors.forEach(_=>oe.error(_.message)):S()}catch{S()}},[u,c,n,e,h,i,S,p,g,m,a,s,r,f,b,C]);return e?_6(T6,{children:[oc(te,{buttonStyle:"primary",id:o,onClick:()=>{y(v)},children:h("general:restore")},o),oc(et,{body:_6(T6,{children:[oc(Jt,{elements:{1:({children:F})=>oc("strong",{children:F})},i18nKey:f?.versions?.drafts?"general:aboutToRestoreAsDraft":"general:aboutToRestore",t:h,variables:{label:F6(i,p),title:l||g||e}}),f?.versions?.drafts&&oc("div",{className:`${R6}__checkbox`,children:oc(uo,{checked:C,id:"restore-as-published",label:h("general:restoreAsPublished"),name:"restore-as-published",onToggle:F=>w(F.target.checked)})})]}),className:R6,confirmingLabel:h("general:restoring"),heading:h("general:confirmRestoration"),modalSlug:v,onConfirm:x})]}):null};import{jsx as aZ}from"react/jsx-runtime";import{useRef as lZ}from"react";function Vy({label:t}){let{uploadStatus:e}=Ne(),{t:o}=E(),{submit:n}=Ge(),r=lo(),s=t||o("general:save"),i=lZ(null),l=ut(),c=vr()==="update"&&!r||e==="uploading";return va({cmdCtrlKey:!0,editDepth:l,keyCodes:["s"]},d=>{d.preventDefault(),d.stopPropagation(),i?.current&&i.current.click()}),aZ(Tr,{buttonId:"action-save",disabled:c,onClick:()=>{if(e!=="uploading")return void n()},ref:i,size:"medium",type:"button",children:s})}import{jsx as cZ}from"react/jsx-runtime";import{useCallback as uZ,useRef as dZ}from"react";var mZ="save-draft";function Gy(t){let{config:{routes:{api:e},serverURL:o}}=W(),{id:n,collectionSlug:r,globalSlug:s,setUnpublishedVersionCount:i,uploadStatus:l}=Ne(),a=lo(),{code:c}=xe(),u=dZ(null),d=ut(),{t:f}=E(),{submit:m}=Ge(),h=vr()==="update"&&!a||l==="uploading",g=uZ(async()=>{if(h)return;let b=`?locale=${c}&depth=0&fallback-locale=null&draft=true`,y,v="POST";r&&(y=`${o}${e}/${r}${n?`/${n}`:""}${b}`,n&&(v="PATCH")),s&&(y=`${o}${e}/globals/${s}${b}`),await m({action:y,method:v,overrides:{_status:"draft"},skipValidation:!0}),i(C=>C+1)},[m,r,s,o,e,c,n,h,i]);return va({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},b=>{b.preventDefault(),b.stopPropagation(),u?.current&&u.current.click()}),cZ(Tr,{buttonId:"action-save-draft",buttonStyle:"secondary",className:mZ,disabled:h,onClick:()=>void g(),ref:u,size:"medium",type:"button",children:f("version:saveDraft")})}import{jsx as rc,jsxs as Xh}from"react/jsx-runtime";import E6,{useCallback as fZ}from"react";var nc="status",N6=()=>{let{id:t,collectionSlug:e,docPermissions:o,globalSlug:n,hasPublishedDoc:r,incrementVersionCount:s,isTrashed:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u}=Ne(),{toggleModal:d}=ae(),{config:{routes:{api:f},serverURL:m}}=W(),{reset:p}=Ge(),{code:h}=xe(),{i18n:g,t:b}=E(),y=`confirm-un-publish-${t}`,v=`confirm-revert-${t}`,C;u>0&&r?C="changed":r?r&&u<=0&&(C="published"):C="draft";let w=i?r?"previouslyPublished":"previouslyDraft":C,S=fZ(async F=>{let I,R,D;F==="unpublish"&&(D={_status:"draft"}),e&&(I=`${m}${f}/${e}/${t}?locale=${h}&fallback-locale=null&depth=0`,R="patch"),n&&(I=`${m}${f}/globals/${n}?locale=${h}&fallback-locale=null&depth=0`,R="post"),F==="revert"&&(D=await ze.get(I,{headers:{"Accept-Language":g.language,"Content-Type":"application/json"}}).then(A=>A.json()));let _=await ze[R](I,{body:JSON.stringify(D),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}});if(_.status===200){let T,A=await _.json();n?T=A.result:e&&(T=A.doc),p(T),oe.success(A.message),s(),a(!1),F==="unpublish"?l(!1):F==="revert"&&c(0)}else try{let T=await _.json();T.errors?.[0]?.message?oe.error(T.errors[0].message):T.error?oe.error(T.error):oe.error(b("error:unPublishingDocument"))}catch{oe.error(b("error:unPublishingDocument"))}},[f,e,n,t,g.language,s,h,p,m,c,a,b,l]),x=o?.update;return C?rc("div",{className:nc,title:`${b("version:status")}: ${b(`version:${w}`)}`,children:Xh("div",{className:`${nc}__value-wrap`,children:[Xh("span",{className:`${nc}__label`,children:[b("version:status"),":\xA0"]}),rc("span",{className:`${nc}__value`,children:b(`version:${w}`)}),!i&&x&&C==="published"&&Xh(E6.Fragment,{children:["\xA0\u2014\xA0",rc(te,{buttonStyle:"none",className:`${nc}__action`,id:"action-unpublish",onClick:()=>d(y),children:b("version:unpublish")}),rc(et,{body:b("version:aboutToUnpublish"),confirmingLabel:b("version:unpublishing"),heading:b("version:confirmUnpublish"),modalSlug:y,onConfirm:()=>S("unpublish")})]}),!i&&x&&r&&C==="changed"&&Xh(E6.Fragment,{children:["\xA0\u2014\xA0",rc(te,{buttonStyle:"none",className:`${nc}__action`,id:"action-revert-to-published",onClick:()=>d(v),children:b("version:revertToPublished")}),rc(et,{body:b("version:aboutToRevertToPublished"),confirmingLabel:b("version:reverting"),heading:b("version:confirmRevertToSaved"),modalSlug:v,onConfirm:()=>S("revert")})]})]})}):null};var Bt="doc-controls",Wy=t=>{let e=pZ(5),{id:o,slug:n,BeforeDocumentControls:r,customComponents:s,data:i,disableActions:l,disableCreate:a,EditMenuItems:c,hasSavePermission:u,isAccountView:d,isEditing:f,isInDrawer:m,isTrashed:p,onDelete:h,onDrawerCreateNew:g,onDuplicate:b,onRestore:y,onTakeOver:v,permissions:C,readOnlyForIncomingUser:w,redirectAfterDelete:S,redirectAfterDuplicate:x,redirectAfterRestore:F,user:I}=t,{PreviewButton:R,PublishButton:D,SaveButton:_,SaveDraftButton:T}=s===void 0?{}:s,{i18n:A,t:$}=E(),P=ut(),{config:j,getEntityConfig:B}=W(),N=B({collectionSlug:n}),L=B({globalSlug:n}),{isLivePreviewEnabled:M}=yo(),{admin:k,localization:O,routes:V}=j,{dateFormat:G}=k,{admin:H}=V,[z,Q]=zy.useState(""),[J,X]=zy.useState(""),ie=$r(),U=Di(),re,ce;e[0]!==i||e[1]!==G||e[2]!==A?(re=()=>{i?.updatedAt&&Q(Br({date:i.updatedAt,i18n:A,pattern:G})),i?.createdAt&&X(Br({date:i.createdAt,i18n:A,pattern:G}))},ce=[i,A,G],e[0]=i,e[1]=G,e[2]=A,e[3]=re,e[4]=ce):(re=e[3],ce=e[4]),vZ(re,ce);let ge=C&&"create"in C&&C.create,de=C&&"delete"in C&&C.delete,me=!!(N&&o&&!l&&(ge||de)),Oe=!o&&N?.versions?.drafts&&N.versions?.drafts.validate,Te=N?.versions?.drafts,he=L?.versions?.drafts,we=Te&&Te?.autosave||he&&he?.autosave,K=Te&&Te?.autosave,Pe=he&&he?.autosave,qe=K&&Te.autosave!==!1&&Te.autosave.showSaveDraftButton===!0||Pe&&he.autosave!==!1&&he.autosave.showSaveDraftButton===!0,Z=O&&!N?.admin?.disableCopyToLocale,Y=N&&N.folders,q=I&&w;return _o(wo,{className:Bt,children:[_o("div",{className:`${Bt}__wrapper`,children:[_o("div",{className:`${Bt}__content`,children:[q||Y?_o("div",{className:`${Bt}__meta-icons`,children:[q&&rt(Zd,{className:`${Bt}__locked-controls`,user:I}),Y&&j.folders&&!p&&rt(pd,{folderCollectionSlug:j.folders.slug,folderFieldName:j.folders.fieldName})]}):null,_o("ul",{className:`${Bt}__meta`,children:[N&&!f&&!d&&rt("li",{className:`${Bt}__list-item`,children:rt("p",{className:`${Bt}__value`,children:A.t("general:creatingNewLabel",{label:gZ(N?.labels?.singular??A.t("general:document"),A)})})}),(N?.versions?.drafts||L?.versions?.drafts)&&_o(Jd,{children:[(L||N&&f)&&rt("li",{className:[`${Bt}__status`,`${Bt}__list-item`].filter(Boolean).join(" "),children:rt(N6,{})}),u&&we&&!Oe&&!p&&rt("li",{className:`${Bt}__list-item`,children:rt(U4,{collection:N,global:L,id:o,publishedDocUpdatedAt:i?.createdAt})})]}),N?.timestamps&&(f||d)&&_o(Jd,{children:[_o("li",{className:[`${Bt}__list-item`,`${Bt}__value-wrap`].filter(Boolean).join(" "),title:i?.updatedAt?z:"",children:[_o("p",{className:`${Bt}__label`,children:[A.t(p?"general:deleted":"general:lastModified"),":\xA0"]}),i?.updatedAt&&rt("p",{className:`${Bt}__value`,children:z})]}),_o("li",{className:[`${Bt}__list-item`,`${Bt}__value-wrap`].filter(Boolean).join(" "),title:i?.createdAt?J:"",children:[_o("p",{className:`${Bt}__label`,children:[A.t("general:created"),":\xA0"]}),i?.createdAt&&rt("p",{className:`${Bt}__value`,children:J})]})]})]})]}),_o("div",{className:`${Bt}__controls-wrapper`,children:[_o("div",{className:`${Bt}__controls`,children:[r,M&&!m&&rt(s6,{}),(N?.admin.preview||L?.admin.preview)&&rt(ue,{CustomComponent:R,Fallback:rt(ky,{})}),u&&!p&&rt(Jd,{children:N?.versions?.drafts||L?.versions?.drafts?_o(Jd,{children:[(Oe||!we||we&&qe)&&rt(ue,{CustomComponent:T,Fallback:rt(Gy,{})}),rt(ue,{CustomComponent:D,Fallback:rt(Oy,{})})]}):rt(ue,{CustomComponent:_,Fallback:rt(Vy,{})})}),de&&p&&rt(f6,{buttonId:"action-permanently-delete",collectionSlug:N?.slug,id:o.toString(),onDelete:h,redirectAfterDelete:S,singularLabel:N?.labels?.singular}),u&&p&&rt(P6,{buttonId:"action-restore",collectionSlug:N?.slug,id:o.toString(),onRestore:y,redirectAfterRestore:F,singularLabel:N?.labels?.singular}),I&&w&&rt(te,{buttonStyle:"secondary",id:"take-over",onClick:v,size:"medium",type:"button",children:$("general:takeOver")})]}),me&&!w&&rt(nt,{button:_o("div",{className:`${Bt}__dots`,children:[rt("div",{}),rt("div",{}),rt("div",{})]}),className:`${Bt}__popup`,disabled:U||ie,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:_o(Ie.ButtonGroup,{children:[Z&&rt(wy,{}),ge&&_o(zy.Fragment,{children:[!a&&rt(Jd,{children:P>1?rt(Ie.Button,{id:"action-create",onClick:g,children:A.t("general:createNew")}):rt(Ie.Button,{href:bZ({adminRoute:H,path:`/collections/${N?.slug}/create`}),id:"action-create",children:A.t("general:createNew")})}),N.disableDuplicate!==!0&&f&&_o(hZ,{children:[rt($y,{id:o,onDuplicate:b,redirectAfterDuplicate:x,singularLabel:N?.labels?.singular,slug:N?.slug}),O&&rt($y,{id:o,onDuplicate:b,redirectAfterDuplicate:x,selectLocales:!0,singularLabel:N?.labels?.singular,slug:N?.slug})]})]}),de&&rt(Q4,{buttonId:"action-delete",collectionSlug:N?.slug,id:o.toString(),onDelete:h,redirectAfterDelete:S,singularLabel:N?.labels?.singular,useAsTitle:N?.admin?.useAsTitle}),c]})})]})]}),rt("div",{className:`${Bt}__divider`})]})};import{jsx as j6}from"react/jsx-runtime";import"react";var L6=/^<(?<name>[^\s/>]+)[^>]*>$/,$6=/^<(?<isEnd>\/)?(?<name>[^\s>]+)[^>]*>$/,Hy=/^<[^>]+>/,yZ=/^<img[^>]*>$/,k6=/^<video[^>]*>.*?<\/video>$/ms,Zh=class{config;leastCommonLength=1/0;matchedBlockList=[];newTokens=[];oldTokens=[];operationList=[];sideBySideContents;unifiedContent;constructor(e,o,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:r=1e3,greedyMatch:s=!0,minMatchedSize:i=2,tokenizeByCharacter:l=!1}={}){if(this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:r,greedyMatch:s,minMatchedSize:i},e=e.trim(),o=o.trim(),e===o){this.unifiedContent=e;let c=0,u=e.replace(/<([^\s/>]+)[^>]*>/g,(d,f)=>{let m=f.length+1;return`${d.slice(0,m)} data-seq="${++c}"${d.slice(m)}`});this.sideBySideContents=[u,u];return}let a=l?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=a(e),this.newTokens=a(o),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}computeBestMatchedBlock(e,o,n,r){let s=null;for(let i=e;i<o;i++){let l=Math.min(o-i,r-n),a=this.slideBestMatchedBlock(i,n,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}for(let i=n;i<r;i++){let l=Math.min(o-e,r-i),a=this.slideBestMatchedBlock(e,i,l);if(a&&(!s||a.size>s.size)&&(s=a,a.size>this.leastCommonLength))return s}return s}computeMatchedBlockList(e,o,n,r,s=[]){let i=this.computeBestMatchedBlock(e,o,n,r);return i?(e<i.oldStart&&n<i.newStart&&this.computeMatchedBlockList(e,i.oldStart,n,i.newStart,s),s.push(i),o>i.oldEnd&&r>i.newEnd&&this.computeMatchedBlockList(i.oldEnd,o,i.newEnd,r,s),s):[]}dressUpBlockTag(e,o){return e==="create"?`<div class="${this.config.classNames.createBlock}">${o}</div>`:e==="delete"?`<div class="${this.config.classNames.deleteBlock}">${o}</div>`:""}dressUpDiffContent(e,o){let n=o.length;if(!n)return"";let r="",s=0,i=-1;for(let l of o){i++;let a=l.includes('data-enable-match="true"'),c=l.includes('data-enable-match="false"'),u=!!l.match(Hy)?.length;if(c)s=i+1,r+=l;else if(!a&&u)i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1,l.match(k6)?r+=this.dressUpBlockTag(e,l):r+=l;else if(a&&u){i>s&&(r+=this.dressUpText(e,o.slice(s,i))),s=i+1;let d=this.dressupMatchEnabledHtmlTag(e,l);r+=d}}return s<n&&(r+=this.dressUpText(e,o.slice(s))),r}dressUpInlineTag(e,o){return e==="create"?`<span class="${this.config.classNames.createInline}">${o}</span>`:e==="delete"?`<span class="${this.config.classNames.deleteInline}">${o}</span>`:""}dressupMatchEnabledHtmlTag(e,o){let n=o.match(L6)?.groups?.name;if(!n)return o;let r=n.length+1,s=e==="create"?"create":"delete";return`${o.slice(0,r)} data-match-type="${s}"${o.slice(r,o.length)}`}dressUpText(e,o){let n=o.join("");return n.trim()?e==="create"?`<span data-match-type="create">${n}</span>`:e==="delete"?`<span data-match-type="delete">${n}</span>`:"":""}getMatchedBlockList(){let e=this.oldTokens.length,o=this.newTokens.length,n=null,r=0;for(;r<e&&r<o&&this.oldTokens[r]===this.newTokens[r];)r++;r>=this.config.minMatchedSize&&(n={newEnd:r,newStart:0,oldEnd:r,oldStart:0,size:r});let s=null,i=e-1,l=o-1;for(;r<=i&&r<=l&&this.oldTokens[i]===this.newTokens[l];)i--,l--;let a=e-1-i;a>=this.config.minMatchedSize&&(s={newEnd:o,newStart:l+1,oldEnd:e,oldStart:i+1,size:a});let c=n?r:0,u=s?i+1:e,d=n?r:0,f=s?l+1:o;if(this.config.greedyMatch){let p=Math.min(u-c,f-d);p>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(p/3))}let m=this.computeMatchedBlockList(c,u,d,f);return n&&m.unshift(n),s&&m.push(s),m}getOperationList(){let e=[],o=0,n=0;for(let c of this.matchedBlockList){let u=o===c.oldStart,d=n===c.newStart,f={newEnd:c.newStart,newStart:n,oldEnd:c.oldStart,oldStart:o};!u&&!d?e.push(Object.assign(f,{type:"replace"})):u&&!d?e.push(Object.assign(f,{type:"create"})):!u&&d&&e.push(Object.assign(f,{type:"delete"})),e.push({type:"equal",newEnd:c.newEnd,newStart:c.newStart,oldEnd:c.oldEnd,oldStart:c.oldStart}),o=c.oldEnd,n=c.newEnd}let r=this.oldTokens.length,s=this.newTokens.length,i={newEnd:s,newStart:n,oldEnd:r,oldStart:o},l=o===r,a=n===s;return!l&&!a?e.push(Object.assign(i,{type:"replace"})):l&&!a?e.push(Object.assign(i,{type:"create"})):!l&&a&&e.push(Object.assign(i,{type:"delete"})),e}slideBestMatchedBlock(e,o,n){let r=0,s=null,i=0;for(let l=0;l<n;l++)this.oldTokens[e+l]===this.newTokens[o+l]?i++:i=0,i>r&&(r=i,s={newEnd:o+l+1,newStart:o+l-i+1,oldEnd:e+l+1,oldStart:e+l-i+1,size:i});return r>=this.config.minMatchedSize?s:null}tokenizeByCharacter(e){let o=[],n=0,r=/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>/gs,s;for(;(s=r.exec(e))!==null;){let l=e.substring(n,s.index);if(l)for(let a of l)o.push(a);o.push(s[0]),n=s.index+s[0].length}let i=e.substring(n);for(let l of i)o.push(l);return o}tokenizeByWord(e){return e.match(/<picture[^>]*>.*?<\/picture>|<video[^>]*>.*?<\/video>|<[^>]+>|\w+\b|\s+|[^<>\w]/gs)||[]}getSideBySideContents(){if(this.sideBySideContents!==void 0)return this.sideBySideContents;let e="",o="",n=0;this.operationList.forEach(s=>{switch(s.type){case"create":{o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}case"delete":{let i=this.oldTokens.slice(s.oldStart,s.oldEnd);e+=this.dressUpDiffContent("delete",i);break}case"equal":{let i=this.newTokens.slice(s.newStart,s.newEnd),l="";for(let a of i){let c=a.match(L6);if(c){n+=1;let u=(c?.groups?.name?.length??0)+1;l+=`${a.slice(0,u)} data-seq="${n}"${a.slice(u)}`}else l+=a}e+=l,o+=l;break}case"replace":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(s.oldStart,s.oldEnd)),o+=this.dressUpDiffContent("create",this.newTokens.slice(s.newStart,s.newEnd));break}default:console.error("Richtext diff error - invalid operation: "+String(s.type))}});let r=[e,o];return this.sideBySideContents=r,r}getUnifiedContent(){if(this.unifiedContent!==void 0)return this.unifiedContent;let e="";return this.operationList.forEach(o=>{switch(o.type){case"create":{e+=this.dressUpDiffContent("create",this.newTokens.slice(o.newStart,o.newEnd));break}case"delete":{e+=this.dressUpDiffContent("delete",this.oldTokens.slice(o.oldStart,o.oldEnd));break}case"equal":{for(let n of this.newTokens.slice(o.newStart,o.newEnd))e+=n;break}case"replace":{let n=this.oldTokens.slice(o.oldStart,o.oldEnd),r=this.newTokens.slice(o.newStart,o.newEnd);if(n.length===1&&r.length===1&&n[0]?.match(Hy)&&r[0]?.match(Hy)){e+=r[0];break}let s=[],i=[],l=o.newStart;for(let a=o.oldStart;a<o.oldEnd;a++){let c=this.oldTokens[a];if(!c)continue;let u=c?.match($6);if(u){if([yZ,k6].some(f=>c?.match(f))){s.push(c);continue}e+=this.dressUpDiffContent("delete",s),s.splice(0);let d=!1;for(let f=l;f<o.newEnd;f++){let m=this.newTokens[f];if(!m)continue;let p=m?.match($6);if(p&&p.groups?.name===u.groups?.name&&p.groups?.isEnd===u.groups?.isEnd){d=!0,e+=this.dressUpDiffContent("create",i),e+=m,i.splice(0),l=f+1;break}else i.push(m)}d||(e+=c,i.splice(0))}else s.push(c)}l<o.newEnd&&i.push(...this.newTokens.slice(l,o.newEnd)),e+=this.dressUpDiffContent("delete",s),e+=this.dressUpDiffContent("create",i);break}default:console.error("Richtext diff error - invalid operation: "+String(o.type))}}),this.unifiedContent=e,e}};var B6="html-diff",CZ=({fromHTML:t,toHTML:e,tokenizeByCharacter:o})=>{let n=new Zh(t,e,{tokenizeByCharacter:o}),[r,s]=n.getSideBySideContents(),i=r?j6("div",{className:`${B6}__diff-old html-diff`,dangerouslySetInnerHTML:{__html:r}}):null,l=s?j6("div",{className:`${B6}__diff-new html-diff`,dangerouslySetInnerHTML:{__html:s}}):null;return{From:i,To:l}};import{useEffect as FZ}from"react";import{jsx as xZ}from"react/jsx-runtime";import{createContext as wZ,use as SZ,useEffect as IZ,useRef as _Z}from"react";var M6=wZ(null),O6=({children:t})=>{let e=_Z(new Set);return IZ(()=>{let r=s=>{e.current.forEach(({handler:i,ref:l})=>{l.current&&!l.current.contains(s.target)&&i()})};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]),xZ(M6,{value:{register:r=>e.current.add(r),unregister:r=>e.current.delete(r)},children:t})},Uy=()=>{let t=SZ(M6);if(!t)throw new Error("useClickOutside must be used within a ClickOutsideProvider");return t};function TZ(t,e,o=!0){let{register:n,unregister:r}=Uy();FZ(()=>{if(!o||!t.current)return;let s={handler:e,ref:t};return n(s),()=>r(s)},[t,e,o,n,r])}import{c as U6}from"react/compiler-runtime";import{jsx as qd,jsxs as BZ}from"react/jsx-runtime";import{useState as MZ}from"react";import{c as Zy}from"react/compiler-runtime";import{jsx as Fo,jsxs as Yh}from"react/jsx-runtime";import{getTranslation as DZ}from"@payloadcms/translations";import{useRouter as RZ,useSearchParams as AZ}from"next/navigation.js";import{combineWhereConstraints as PZ,mergeListSearchAndWhere as EZ,unflatten as V6}from"payload/shared";import*as Xy from"qs-esm";import G6,{useCallback as z6,useEffect as NZ,useMemo as W6,useState as LZ}from"react";var $Z=t=>{let e=Zy(7),{action:o,disabled:n}=t,{submit:r}=Ge(),{t:s}=E(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=Fo(Tr,{className:`${Jo}__save`,disabled:n,onClick:l,children:s("general:save")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},kZ=t=>{let e=Zy(7),{action:o,disabled:n}=t,{submit:r}=Ge(),{t:s}=E(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=Fo(Tr,{className:`${Jo}__publish`,disabled:n,onClick:l,children:s("version:publishChanges")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},jZ=t=>{let e=Zy(7),{action:o,disabled:n}=t,{submit:r}=Ge(),{t:s}=E(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=Fo(Tr,{buttonStyle:"secondary",className:`${Jo}__draft`,disabled:n,onClick:l,children:s("version:saveDraft")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},H6=t=>{let{collection:e,collection:{fields:o,labels:{plural:n,singular:r}}={},count:s,drawerSlug:i,ids:l,onSuccess:a,selectAll:c,selectedFields:u,setSelectedFields:d,where:f}=t,{permissions:m,user:p}=_e(),{code:h}=xe(),{closeModal:g}=ae(),{config:{routes:{api:b},serverURL:y}}=W(),{getFormState:v}=Nt(),{i18n:C,t:w}=E(),[S,x]=LZ(!1),F=RZ(),I=G6.useRef(null),{clearRouteCache:R}=pt(),D=m?.collections?.[e.slug],_=AZ(),T=W6(()=>V6(u.reduce((B,N)=>(B[N.value.path]=!0,B),{})),[u]),A=z6(async({formState:B,submitted:N})=>{let L=Ir(I),{state:M}=await v({collectionSlug:e.slug,docPermissions:D,docPreferences:null,formState:B,operation:"update",schemaPath:e.slug,select:T,signal:L.signal,skipValidation:!N});return I.current=null,M},[v,e,D,T]);NZ(()=>{let B=I.current;return()=>{Sr(B)}},[]);let $=W6(()=>{let B=[];f&&B.push(f);let N=EZ({collectionConfig:e,search:_.get("search")});return N&&B.push(N),c?B.push(Vt(_)?.where||{id:{not_equals:""}}):B.push({id:{in:l||[]}}),Xy.stringify({locale:h,where:PZ(B)},{addQueryPrefix:!0})},[e,_,c,l,h,f]),P=()=>{F.replace(Xy.stringify({...Vt(_),page:c?"1":void 0},{addQueryPrefix:!0})),R(),g(i),typeof a=="function"&&a()},j=z6(async({dispatchFields:B,formState:N,selected:L})=>{x(!0),d(L||[]);let{state:M}=await v({collectionSlug:e.slug,docPermissions:D,docPreferences:null,formState:N,operation:"update",schemaPath:e.slug,select:V6(L.reduce((k,O)=>(k[O.value.path]=!0,k),{})),skipValidation:!0});B({type:"UPDATE_MANY",formState:M}),x(!1)},[v,e.slug,D,d]);return Fo(Xc,{collectionSlug:e.slug,currentEditor:p,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:Fo(Tf,{value:"update",children:Yh("div",{className:`${Jo}__main`,children:[Yh("div",{className:`${Jo}__header`,children:[Fo("h2",{className:`${Jo}__header__title`,children:w("general:editingLabel",{count:s,label:DZ(s>1?n:r,C)})}),Fo("button",{"aria-label":w("general:close"),className:`${Jo}__header__close`,id:`close-drawer__${i}`,onClick:()=>g(i),type:"button",children:Fo(ht,{})})]}),Yh(vs,{className:`${Jo}__form`,isInitializing:S,onChange:[A],onSuccess:P,children:[Fo(oh,{fields:o,onChange:j,permissions:D.fields}),u.length===0?null:Fo("div",{className:"render-fields",children:u.map((B,N)=>{let{value:{field:L,fieldPermissions:M,path:k}}=B;return Fo(Ol,{clientFieldConfig:L,indexPath:"",parentPath:"",parentSchemaPath:"",path:k,permissions:M},`${k}-${N}`)})}),Fo("div",{className:`${Jo}__sidebar-wrap`,children:Fo("div",{className:`${Jo}__sidebar`,children:Fo("div",{className:`${Jo}__sidebar-sticky-wrap`,children:Fo("div",{className:`${Jo}__document-actions`,children:e?.versions?.drafts?Yh(G6.Fragment,{children:[Fo(jZ,{action:`${y}${b}/${e.slug}${$}&draft=true`,disabled:u.length===0}),Fo(kZ,{action:`${y}${b}/${e.slug}${$}&draft=true`,disabled:u.length===0})]}):Fo($Z,{action:`${y}${b}/${e.slug}${$}`,disabled:u.length===0})})})})})]})]})})})};var Jo="edit-many",OZ=t=>{let e=U6(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=vo(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let l=n===zt.AllAvailable,a;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==l?(a=qd(Qd,{...t,count:o,ids:r,onSuccess:i,selectAll:l}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=l,e[7]=a):a=e[7],a},Qd=t=>{let e=U6(16),{collection:o,count:n,ids:r,modalPrefix:s,onSuccess:i,selectAll:l,where:a}=t,{permissions:c}=_e(),{openModal:u}=ae(),{t:d}=E(),f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0];let[m,p]=MZ(f),h=c?.collections?.[o.slug],g=`${s?`${s}-`:""}edit-${o.slug}`;if(n===0||!h?.update)return null;let b;e[1]===Symbol.for("react.memo_cache_sentinel")?(b=[Jo,`${Jo}__toggle`].filter(Boolean),e[1]=b):b=e[1];let y;if(e[2]!==o||e[3]!==n||e[4]!==g||e[5]!==r||e[6]!==i||e[7]!==u||e[8]!==l||e[9]!==m||e[10]!==d||e[11]!==a){let v;e[13]!==g||e[14]!==u?(v=()=>{u(g),p([])},e[13]=g,e[14]=u,e[15]=v):v=e[15],y=BZ("div",{className:b.join(" "),children:[qd(Qt,{"aria-label":d("general:edit"),onClick:v,children:d("general:edit")}),qd(os,{children:qd(Tt,{Header:null,slug:g,children:qd(H6,{collection:o,count:n,drawerSlug:g,ids:r,onSuccess:i,selectAll:l,selectedFields:m,setSelectedFields:p,where:a})})})]}),e[2]=o,e[3]=n,e[4]=g,e[5]=r,e[6]=i,e[7]=u,e[8]=l,e[9]=m,e[10]=d,e[11]=a,e[12]=y}else y=e[12];return y};import{c as VZ}from"react/compiler-runtime";import{jsx as GZ}from"react/jsx-runtime";import"react";function zZ(t){let e=VZ(3),o=ut(),n;return e[0]!==o||e[1]!==t?(n=GZ(br,{closeOnBlur:!1,...t,style:{...t.style||{},zIndex:`calc(100 + ${o||0} + 1)`}}),e[0]=o,e[1]=t,e[2]=n):n=e[2],n}import{c as WZ}from"react/compiler-runtime";import{jsx as Jh,jsxs as HZ}from"react/jsx-runtime";import UZ from"react";function Yy(t){let e=WZ(12),{highlightField:o,setKey:n}=t,{id:r}=Ne(),{toggleModal:s}=ae(),{t:i}=E(),l=`generate-confirmation-${r}`,a;e[0]!==o||e[1]!==n||e[2]!==i?(a=()=>{n(),oe.success(i("authentication:newAPIKeyGenerated")),o(!0)},e[0]=o,e[1]=n,e[2]=i,e[3]=a):a=e[3];let c=a,u;e[4]!==l||e[5]!==s?(u=()=>{s(l)},e[4]=l,e[5]=s,e[6]=u):u=e[6];let d;return e[7]!==c||e[8]!==l||e[9]!==i||e[10]!==u?(d=HZ(UZ.Fragment,{children:[Jh(te,{buttonStyle:"secondary",onClick:u,size:"small",children:i("authentication:generateNewAPIKey")}),Jh(et,{body:Jh(Jt,{elements:{1:XZ},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:l,onConfirm:c})]}),e[7]=c,e[8]=l,e[9]=i,e[10]=u,e[11]=d):d=e[11],d}function XZ(t){let{children:e}=t;return Jh("strong",{children:e})}import{c as ZZ}from"react/compiler-runtime";import{useEffect as YZ}from"react";function JZ(t){let e=ZZ(4),{permissions:o}=t,{setPermissions:n}=_e(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[o,n],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),YZ(r,s),null}import{jsx as ho,jsxs as EY}from"react/jsx-runtime";import{getTranslation as mc}from"@payloadcms/translations";import{validateWhereQuery as NY}from"payload/shared";import LY,{Fragment as $Y,useEffect as LA,useRef as $A,useState as kY}from"react";import{jsx as Jy,jsxs as qZ}from"react/jsx-runtime";import"react";var qy="dots",qh=({ariaLabel:t,className:e,noBackground:o,orientation:n="vertical"})=>qZ("div",{"aria-label":t,className:[e,qy,o&&`${qy}--no-background`,n&&`${qy}--${n}`].filter(Boolean).join(" "),children:[Jy("div",{}),Jy("div",{}),Jy("div",{})]});import{jsx as eg,jsxs as Qy}from"react/jsx-runtime";import{useMemo as tY}from"react";import{getTranslation as tm}from"@payloadcms/translations";import{fieldAffectsData as J6,fieldIsHiddenOrDisabled as eY,fieldIsID as q6,tabHasName as Q6}from"payload/shared";var Qh=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],QZ=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"}],ic={label:"exists",value:"exists"},Jr=[...Qh,...QZ,ic],X6=[...Jr,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],KZ=[...Qh,{label:"near",value:"near"}],Z6={label:"within",value:"within"},Y6={label:"intersects",value:"intersects"},Kd={label:"isLike",value:"like"},em={label:"isNotLike",value:"not_like"},sc={label:"contains",value:"contains"},ac={checkbox:{component:"Text",operators:[...Qh,ic]},code:{component:"Text",operators:[...Jr,Kd,em,sc]},date:{component:"Date",operators:[...X6,ic]},email:{component:"Text",operators:[...Jr,sc]},json:{component:"Text",operators:[...Jr,Kd,sc,em,Z6,Y6]},number:{component:"Number",operators:[...X6,ic]},point:{component:"Point",operators:[...KZ,ic,Z6,Y6]},radio:{component:"Select",operators:[...Jr]},relationship:{component:"Relationship",operators:[...Jr]},richText:{component:"Text",operators:[...Jr,Kd,em,sc]},select:{component:"Select",operators:[...Jr]},text:{component:"Text",operators:[...Jr,Kd,em,sc]},textarea:{component:"Text",operators:[...Jr,Kd,em,sc]},upload:{component:"Relationship",operators:[...Jr]}},Kh=({field:t,operator:e})=>{let o=[];return t.type==="relationship"&&Array.isArray(t.relationTo)?"hasMany"in t&&t.hasMany?o=[...Qh,ic]:o=[...Jr]:o=[...ac[t.type].operators],{validOperator:e&&o.find(({value:n})=>n===e)?e:o[0].value,validOperators:o}};var On=({fieldPermissions:t,fields:e,i18n:o,labelPrefix:n,pathPrefix:r})=>e.reduce((s,i)=>{let l=r;if(eY(i)&&!q6(i)||"virtual"in i&&i.virtual===!0)return s;let a=!1;if("virtual"in i&&typeof i.virtual=="string"&&(l=l?l+"."+i.virtual:i.virtual,J6(i)&&(a=!0)),i.type==="tabs"&&"tabs"in i)return i.tabs.forEach(u=>{if(typeof u.label!="boolean"){let d=tm(u.label,o),f=n?n+" > "+d:d,m=Q6(u)&&u.name?l?l+"."+u.name:u.name:l;typeof d=="string"&&s.push(...On({fieldPermissions:typeof t=="boolean"?t:Q6(u)&&u.name?t?.[u.name]?.fields||t?.[u.name]:t,fields:u.fields,i18n:o,labelPrefix:f,pathPrefix:m}))}}),s;if(i.type==="row"&&"fields"in i)return s.push(...On({fieldPermissions:t,fields:i.fields,i18n:o,labelPrefix:n,pathPrefix:l})),s;if(i.type==="collapsible"&&"fields"in i){let c=tm(i.label||"",o),u=n?n+" > "+c:c;return s.push(...On({fieldPermissions:t,fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:l})),s}if(i.type==="group"&&"fields"in i){let c=tm(i.label||"",o),u=n?c?n+" > "+c:n:c;if(J6(i)){let d=i.name?l?l+"."+i.name:i.name:l;s.push(...On({fieldPermissions:typeof t=="boolean"?t:t?.[i.name]?.fields||t?.[i.name],fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:d}))}else s.push(...On({fieldPermissions:t,fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:l}));return s}if(i.type==="array"&&"fields"in i){let c=tm(i.label||"",o),u=n?c?n+" > "+c:n:c,d=i.name?l?l+"."+i.name:i.name:l;return s.push(...On({fieldPermissions:typeof t=="boolean"?t:t?.[i.name]?.fields||t?.[i.name],fields:i.fields,i18n:o,labelPrefix:u,pathPrefix:d})),s}if(typeof ac[i.type]=="object"&&(q6(i)||t===!0||t?.[i.name]===!0||t?.[i.name]?.read===!0)){let c=new Set,{validOperators:u}=Kh({field:i}),d=u.reduce((g,b)=>{if(!c.has(b.value)){c.add(b.value);let y=`operators:${b.label}`;g.push({...b,label:o.t(y)})}return g},[]),f=tm(i.label||"",o),m=n?ad({field:i,prefix:n}):f,p;a?p=l:l?p=Ml(l,i):p=i.name;let h={label:m,plainTextLabel:`${n?n+" > ":""}${f}`,value:p,...ac[i.type],field:i,operators:d};return s.push(h),s}return s},[]);var tg="group-by-builder",oY=["text","textarea","number","select","relationship","date","checkbox","radio","email","number","upload"],K6=({collectionSlug:t,fields:e})=>{let{i18n:o,t:n}=E(),{permissions:r}=_e(),s=r?.collections?.[t]?.fields,i=tY(()=>On({fieldPermissions:s,fields:e,i18n:o}),[e,s,o]),{query:l,refineListData:a}=lt(),c=l.groupBy?.replace(/^-/,""),u=i.find(d=>d.value===c);return Qy("div",{className:tg,children:[Qy("div",{className:`${tg}__header`,children:[eg("p",{children:n("general:groupByLabel",{label:""})}),l.groupBy&&eg("button",{className:`${tg}__clear-button`,id:"group-by--reset",onClick:async()=>{await a({groupBy:""})},type:"button",children:n("general:clear")})]}),Qy("div",{className:`${tg}__inputs`,children:[eg(ft,{filterOption:(d,f)=>(d?.data?.plainTextLabel||d.label).toLowerCase().includes(f.toLowerCase()),id:"group-by--field-select",isClearable:!0,isMulti:!1,onChange:async d=>{let f=d===null?void 0:d.value;d===null&&await a({groupBy:"",page:1}),await a({groupBy:f?l.groupBy?.startsWith("-")?`-${f}`:f:void 0,page:1})},options:i.filter(d=>!d.field.admin.disableGroupBy&&d.value!=="id"&&oY.includes(d.field.type)),value:{label:u?.label||n("general:selectValue"),value:c||""}}),eg(Wr,{id:"group-by--sort",isClearable:!1,name:"direction",onChange:async({value:d})=>{c&&await a({groupBy:d==="asc"?c:`-${c}`,page:1})},options:[{label:n("general:ascending"),value:"asc"},{label:n("general:descending"),value:"desc"}],path:"direction",readOnly:!c,value:l.groupBy?typeof l.groupBy=="string"?`${l.groupBy.startsWith("-")?"desc":"asc"}`:"":"asc"})]})]})};import{jsx as Pr,jsxs as om}from"react/jsx-runtime";import{getTranslation as rA}from"@payloadcms/translations";import{transformColumnsToPreferences as nA,transformColumnsToSearchParams as sA}from"payload/shared";import{Fragment as iA,useCallback as og,useMemo as iY}from"react";import{c as rY}from"react/compiler-runtime";import{jsx as lc,jsxs as nY}from"react/jsx-runtime";import{getTranslation as sY}from"@payloadcms/translations";import{jsx as eA}from"react/jsx-runtime";import"react";var tA=({className:t})=>eA("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:eA("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})});var Fa="active-query-preset";function oA(t){let e=rY(11),{activePreset:o,openPresetListDrawer:n,resetPreset:r}=t,{i18n:s,t:i}=E(),{getEntityConfig:l}=W(),a;if(e[0]!==o||e[1]!==l||e[2]!==s||e[3]!==n||e[4]!==r||e[5]!==i){let c=l({collectionSlug:"payload-query-presets"}),u=o&&`${Fa}--active`,d;e[7]!==u?(d=[Fa,u].filter(Boolean),e[7]=u,e[8]=d):d=e[8];let f;e[9]!==n?(f=()=>{n()},e[9]=n,e[10]=f):f=e[10],a=lc(it,{className:d.join(" "),id:"select-preset",onClick:f,pillStyle:"light",size:"small",children:nY("div",{className:`${Fa}__label`,children:[o?.isShared&&lc(tA,{className:`${Fa}__shared`}),lc("div",{className:`${Fa}__label-text-max-width`,children:lc("div",{className:`${Fa}__label-text`,children:o?.title||i("general:selectLabel",{label:sY(c.labels.singular,s)})})}),o?lc("div",{className:`${Fa}__clear`,id:"clear-preset",onClick:async m=>{m.stopPropagation(),await r()},onKeyDown:async m=>{(m.key==="Enter"||m.key===" ")&&(m.stopPropagation(),await r())},role:"button",tabIndex:0,children:lc(ht,{})}):null]})}),e[0]=o,e[1]=l,e[2]=s,e[3]=n,e[4]=r,e[5]=i,e[6]=a}else a=e[6];return a}var aA="confirm-delete-preset",cc="payload-query-presets",rg="query-preset-bar",lA=({activePreset:t,collectionSlug:e,queryPresetPermissions:o})=>{let{modified:n,query:r,refineListData:s,setModified:i}=lt(),{i18n:l,t:a}=E(),{openModal:c}=ae(),{config:{routes:{api:u}},getEntityConfig:d}=W(),f=d({collectionSlug:cc}),[m,,{openDrawer:p}]=Dt({id:t?.id,collectionSlug:cc}),[h,,{closeDrawer:g,openDrawer:b}]=Dt({collectionSlug:cc}),y=iY(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:e}}}),[e]),[v,,{closeDrawer:C,openDrawer:w}]=ra({collectionSlugs:[cc],filterOptions:y,selectedCollection:cc}),S=og(async D=>{await s({columns:D.columns?sA(D.columns):void 0,preset:D.id,where:D.where},!1)},[s]),x=og(async()=>{await s({columns:[],preset:"",where:{}},!1)},[s]),F=og(async()=>{try{await fetch(`${u}/${cc}/${t.id}`,{method:"DELETE"}).then(async D=>{try{let _=await D.json();D.status<400?(oe.success(a("general:titleDeleted",{label:rA(f?.labels?.singular,l),title:t.title})),await x()):_.errors?_.errors.forEach(T=>oe.error(T.message)):oe.error(a("error:deletingTitle",{title:t.title}))}catch{oe.error(a("error:deletingTitle",{title:t.title}))}})}catch{oe.error(a("error:deletingTitle",{title:t.title}))}},[u,t?.id,t?.title,a,f,l,x]),I=og(async()=>{try{await fetch(`${u}/payload-query-presets/${t.id}`,{body:JSON.stringify({columns:nA(r.columns),where:r.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async D=>{try{let _=await D.json();D.status<400?(oe.success(a("general:updatedLabelSuccessfully",{label:rA(f?.labels?.singular,l)})),i(!1)):_.errors?_.errors.forEach(T=>oe.error(T.message)):oe.error(a("error:unknown"))}catch{oe.error(a("error:unknown"))}})}catch{oe.error(a("error:unknown"))}},[u,t?.id,r.columns,r.where,a,f?.labels?.singular,l,i]),R=t&&n;return om(iA,{children:[om("div",{className:rg,children:[om("div",{className:`${rg}__menu`,children:[Pr(oA,{activePreset:t,openPresetListDrawer:w,resetPreset:x}),Pr(it,{"aria-label":a("general:newLabel",{label:f?.labels?.singular}),className:`${rg}__create-new-preset`,icon:Pr(tr,{}),id:"create-new-preset",onClick:()=>{b()},size:"small"})]}),om("div",{className:`${rg}__menu-items`,children:[R&&Pr(Qt,{id:"reset-preset",onClick:async()=>{await s({columns:sA(t.columns),where:t.where},!1)},type:"button",children:a("general:reset")},"reset"),R&&o.update&&Pr(Qt,{id:"save-preset",onClick:async()=>{await I()},type:"button",children:t?.isShared?a("general:updateForEveryone"):a("fields:saveChanges")},"save"),t&&o?.delete&&om(iA,{children:[Pr(Qt,{id:"delete-preset",onClick:()=>c(aA),type:"button",children:a("general:deleteLabel",{label:f?.labels?.singular})}),Pr(Qt,{id:"edit-preset",onClick:()=>{p()},type:"button",children:a("general:editLabel",{label:f?.labels?.singular})})]})]})]}),Pr(h,{initialData:{columns:nA(r.columns),relatedCollection:e,where:r.where},onSave:async({doc:D})=>{g(),await S(D)},redirectAfterCreate:!1}),Pr(et,{body:Pr(Jt,{elements:{1:({children:D})=>Pr("strong",{children:D})},i18nKey:"general:aboutToDelete",t:a,variables:{label:f?.labels?.singular,title:t?.title}}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:aA,onConfirm:F}),Pr(m,{onDelete:()=>{},onDuplicate:async({doc:D})=>{await S(D)},onSave:async({doc:D})=>{await S(D)}}),Pr(v,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:D})=>{C(),await S(D)}})]})};import{jsx as eC,jsxs as lY}from"react/jsx-runtime";import{jsx as cA}from"react/jsx-runtime";import{useEffect as uA,useRef as dA,useState as aY}from"react";var mA="search-filter";function Ky(t){let{handleChange:e,initialParams:o,label:n,searchQueryParam:r}=t,s=o?.search||r,[i,l]=aY(typeof s=="string"?s:void 0),a=dA(!0),c=dA(typeof s=="string"?s:void 0),u=pn(i,300);return uA(()=>(s!==c.current&&(a.current=!1,l(s),c.current=s),()=>{a.current=!0,c.current=void 0}),[s]),uA(()=>{u!==c.current&&a.current&&(e&&e(u),c.current=u)},[u,e]),cA("div",{className:mA,children:cA("input",{"aria-label":n,className:`${mA}__input`,id:"search-filter-input",onChange:d=>{a.current=!0,l(d.target.value)},placeholder:n,type:"text",value:i||""})})}var fA="search-bar";function uc({Actions:t,className:e,label:o="Search...",onSearchChange:n,searchQueryParam:r}){return lY("div",{className:[fA,e].filter(Boolean).join(" "),children:[eC(tu,{}),eC(Ky,{handleChange:n,label:o,searchQueryParam:r}),t&&t.length>0?eC("div",{className:`${fA}__actions`,children:t}):null]})}import{jsx as Rs,jsxs as rm}from"react/jsx-runtime";import{getTranslation as DY}from"@payloadcms/translations";import{transformWhereQuery as RY,validateWhereQuery as AA}from"payload/shared";import ig,{useMemo as PA}from"react";import{jsx as Ts,jsxs as cC}from"react/jsx-runtime";import{useCallback as DA,useEffect as FY,useState as TY}from"react";import{jsx as dc}from"react/jsx-runtime";import"react";import{jsx as pA}from"react/jsx-runtime";import{getTranslation as cY}from"@payloadcms/translations";import"react";var uY="condition-value-date",tC=t=>{let{disabled:e,field:o,onChange:n,value:r}=t,{admin:s}=o,{date:i}=s||{},{i18n:l,t:a}=E();return pA("div",{className:uY,children:pA(cl,{...i,onChange:n,placeholder:cY(s.placeholder,l)||a("general:enterAValue"),readOnly:e,value:r})})};import{c as dY}from"react/compiler-runtime";import{jsx as hA}from"react/jsx-runtime";import{getTranslation as mY}from"@payloadcms/translations";import gA from"react";var fY="condition-value-number",oC=t=>{let e=dY(20),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{admin:l,hasMany:a}=n,{i18n:c,t:u}=E(),d;e[0]!==a||e[1]!==s?(d=["in","not_in"].includes(s)||a,e[0]=a,e[1]=s,e[2]=d):d=e[2];let f=d,m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],e[3]=m):m=e[3];let[p,h]=gA.useState(m),g;e[4]!==f||e[5]!==r?(g=w=>{let S;w?f&&(Array.isArray(w)?S=w.map(pY):S=[Number(w.value?.value||w.value)]):S=[],r(S)},e[4]=f,e[5]=r,e[6]=g):g=e[6];let b=g,y,v;e[7]!==i?(y=()=>{Array.isArray(i)?h(i.map(hY)):h([])},v=[i],e[7]=i,e[8]=y,e[9]=v):(y=e[8],v=e[9]),gA.useEffect(y,v);let C;if(e[10]!==l?.placeholder||e[11]!==o||e[12]!==c||e[13]!==f||e[14]!==r||e[15]!==b||e[16]!==u||e[17]!==i||e[18]!==p){let w=mY(l?.placeholder,c)||u("general:enterAValue");C=f?hA(ft,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:f,isSortable:!0,numberOnly:!0,onChange:b,options:[],placeholder:w,value:p||[]}):hA("input",{className:fY,disabled:o,onChange:S=>r(S.target.value),placeholder:w,type:"number",value:i}),e[10]=l?.placeholder,e[11]=o,e[12]=c,e[13]=f,e[14]=r,e[15]=b,e[16]=u,e[17]=i,e[18]=p,e[19]=C}else C=e[19];return C};function pY(t){return Number(t.value?.value||t.value)}function hY(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}import{jsx as rC}from"react/jsx-runtime";import*as SA from"qs-esm";import CA,{useCallback as ng,useEffect as xA,useReducer as bY,useState as nC}from"react";import{getTranslation as bA}from"@payloadcms/translations";var vA=t=>t.reduce((e,o)=>o.options?[...e,...vA(o.options)]:[...e,o.id],[]),gY=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,data:n,hasMultipleRelations:r,i18n:s,relation:i}=e,l=o.admin.useAsTitle||"id",a=vA(t);if(!r)return[...t,...n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],value:m.id}]):f,[])];let c=[...t],u=c.find(f=>f.label===bA(o.labels.plural,s)),d=n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],relationTo:i,value:m.id}]):f,[]);return u?u.options=[...u.options,...d]:c.push({label:bA(o.labels.plural,s),options:d,value:void 0}),c}case"CLEAR":return e.required?[]:[{label:e.i18n.t("general:none"),value:"null"}];default:return t}},yA=gY;var wA="condition-value-relationship",vY=10,sg=t=>{let{disabled:e,field:{admin:o={},hasMany:n,relationTo:r},filterOptions:s,onChange:i,value:l}=t,a="placeholder"in o?o?.placeholder:void 0,c=o?.isSortable,{config:{routes:{api:u},serverURL:d},getEntityConfig:f}=W(),m=Array.isArray(r),[p,h]=bY(yA,[]),[g,b]=nC(""),y=pn(g,300),[v,C]=nC(""),[w,S]=nC(!1),{i18n:x,t:F}=E(),I=xe(),R=m?r:[r],D=CA.useRef(new Map(R.map(L=>[L,{hasLoadedAll:!1,nextPage:1}]))),_=ng((L,M)=>{let k=f({collectionSlug:M});h({type:"ADD",collection:k,data:L,hasMultipleRelations:m,i18n:x,relation:M})},[m,x,f]),T=vt(async({abortController:L,relationSlug:M})=>{let k=D.current.get(M);if(M&&!k.hasLoadedAll){let V=f({collectionSlug:M})?.admin?.useAsTitle||"id",G={and:[]},H={depth:0,limit:vY,locale:I.code,page:k.nextPage,select:{[V]:!0},where:G};s&&s?.[M]&&H.where.and.push(s[M]),y&&H.where.and.push({[V]:{like:y}});try{let z=await fetch(`${d}${u}/${M}${SA.stringify(H,{addQueryPrefix:!0})}`,{credentials:"include",headers:{"Accept-Language":x.language},signal:L.signal});if(z.ok){let Q=await z.json();Q.docs.length>0&&(_(Q,M),Q.nextPage?D.current.set(M,{hasLoadedAll:!1,nextPage:Q.nextPage}):D.current.set(M,{hasLoadedAll:!0,nextPage:null}))}else C(F("error:unspecific"))}catch(z){L.signal.aborted||console.error(z)}}S(!0)}),A=CA.useCallback(()=>{let L=D.current.entries().next().value;if(L[0]&&!L[1].hasLoadedAll){let M=new AbortController;T({abortController:M,relationSlug:L[0]})}},[]),$=ng(()=>{if(l){if(n)return Array.isArray(l)?l.map(L=>{if(m){let M;return p.forEach(k=>{k.options&&k.options.some(O=>O?.value==L.value?(M=O,!0):!1)}),M}return p.find(M=>M.value==L)}):void 0;if(m){let L,M=l;return p.forEach(k=>{k?.options&&k.options.some(O=>O?.value==M.value?(L=O,!0):!1)}),L}return p.find(L=>L.value==l)}},[n,m,l,p]),P=ng(L=>{if(L!==g){h({type:"CLEAR",i18n:x,required:!1});let M=Array.isArray(r)?r:[r];D.current=new Map(M.map(k=>[k,{hasLoadedAll:!1,nextPage:1}])),b(L)}},[x,r,g]),j=ng(async(L,M)=>{if(!v&&L!=="null"&&L&&M){let k=await fetch(`${d}${u}/${M}/${L}?depth=0`,{credentials:"include",headers:{"Accept-Language":x.language}});if(k.ok){let O=await k.json();_({docs:[O]},M)}else console.error(F("error:loadingDocument",{id:L}))}},[x,_,u,v,d,F]);xA(()=>{let L=Array.isArray(r)?r:[r];D.current=new Map(L.map(k=>[k,{hasLoadedAll:!1,nextPage:1}])),h({type:"CLEAR",i18n:x,required:!1}),S(!1);let M=[];return L.forEach(k=>{let O=new AbortController;T({abortController:O,relationSlug:k}),M.push(O)}),()=>{M.forEach(k=>{if(k.signal)try{k.abort()}catch{}})}},[x,r,y,s]),xA(()=>{if(l&&w){if(n)($()||[]).forEach((M,k)=>{M||(m?j(l[k].value,l[k].relationTo):j(l[k],r))});else if(!$())if(m){let M=l;j(M.value,M.relationTo)}else j(l,r)}},[j,$,n,m,r,l,w]);let B=["field-type",wA,v&&"error-loading"].filter(Boolean).join(" "),N=$()||l;return rC("div",{className:B,children:v?rC("div",{className:`${wA}__error-loading`,children:v}):rC(ft,{disabled:e,isMulti:n,isSortable:c,onChange:L=>{if(!L){i(null);return}n&&Array.isArray(L)?i(L?L.map(M=>m?{relationTo:M?.relationTo,value:M?.value}:M?.value):null):m&&!Array.isArray(L)?i({relationTo:L?.relationTo,value:L?.value}):Array.isArray(L)||i(L?.value)},onInputChange:P,onMenuScrollToBottom:A,options:p,placeholder:a,value:N})})};import{c as yY}from"react/compiler-runtime";import{jsx as CY}from"react/jsx-runtime";import{getTranslation as sC}from"@payloadcms/translations";import iC from"react";var aC=t=>{let e=yY(21),{disabled:o,field:n,isClearable:r,onChange:s,operator:i,options:l,value:a}=t,{admin:c}=n,{placeholder:u}=c,{i18n:d}=E(),f;e[0]!==l?(f=xu(l),e[0]=l,e[1]=f):f=e[1];let[m,p]=iC.useState(f),h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=["in","not_in"],e[2]=h):h=e[2];let g=h.includes(i),b;if(g&&Array.isArray(a)){let I;e[3]!==d||e[4]!==m?(I=R=>{let D=m.find(_=>_.value===R);return{label:D?sC(D.label,d):R,value:D?.value??R}},e[3]=d,e[4]=m,e[5]=I):I=e[5],b=a.map(I)}else if(a){let I;e[6]!==a?(I=D=>D.value===a,e[6]=a,e[7]=I):I=e[7];let R=m.find(I);b={label:R?sC(R.label,d):a,value:R?.value??a}}let y;e[8]!==g||e[9]!==s?(y=I=>{let R;I?g?Array.isArray(I)?R=I.map(xY):R=[]:R=I.value:R=null,s(R)},e[8]=g,e[9]=s,e[10]=y):y=e[10];let v=y,C,w;e[11]!==l?(C=()=>{p(xu(l))},w=[l],e[11]=l,e[12]=C,e[13]=w):(C=e[12],w=e[13]),iC.useEffect(C,w);let S,x;e[14]!==g||e[15]!==s||e[16]!==a?(S=()=>{!g&&Array.isArray(a)&&s(a[0])},x=[g,s,a],e[14]=g,e[15]=s,e[16]=a,e[17]=S,e[18]=x):(S=e[17],x=e[18]),iC.useEffect(S,x);let F;return e[19]!==d?(F=I=>({...I,label:sC(I.label,d)}),e[19]=d,e[20]=F):F=e[20],CY(ft,{disabled:o,isClearable:r,isMulti:g,onChange:v,options:m.map(F),placeholder:u,value:b})};function xY(t){return t.value}import{c as wY}from"react/compiler-runtime";import{jsx as IA}from"react/jsx-runtime";import _A from"react";var SY="condition-value-text",lC=t=>{let e=wY(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=E(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=_A.useState(d),p;e[4]!==u||e[5]!==r?(p=v=>{let C;v?u&&(Array.isArray(v)?C=v.map(IY):C=[v.value?.value||v.value]):C=[],r(C)},e[4]=u,e[5]=r,e[6]=p):p=e[6];let h=p,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(_Y)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),_A.useEffect(g,b);let y;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==h||e[14]!==a||e[15]!==i||e[16]!==f?(y=u?IA(ft,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,onChange:h,options:[],placeholder:a("general:enterAValue"),value:f||[]}):IA("input",{className:SY,disabled:o,onChange:v=>r(v.target.value),placeholder:a("general:enterAValue"),type:"text",value:i||""}),e[10]=o,e[11]=u,e[12]=r,e[13]=h,e[14]=a,e[15]=i,e[16]=f,e[17]=y):y=e[17],y};function IY(t){return t.value?.value||t.value}function _Y(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}var FA=({booleanSelect:t,disabled:e,filterOptions:o,internalField:n,onChange:r,operator:s,options:i,value:l})=>{if(t||["radio","select"].includes(n?.field?.type))return dc(aC,{disabled:e,field:n.field,isClearable:!t,onChange:r,operator:s,options:i,value:l});switch(n?.field?.type){case"date":return dc(tC,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"number":return dc(oC,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"relationship":return dc(sg,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:l});case"upload":return dc(sg,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:l});default:return dc(lC,{disabled:e,field:n?.field,onChange:r,operator:s,value:l})}};var TA=t=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:t==="date"?"object":"string",greater_than_equal:t==="date"?"object":"string",in:"any",intersects:"any",less_than:t==="date"?"object":"string",less_than_equal:t==="date"?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"});var Ds="condition",RA=t=>{let{addCondition:e,andIndex:o,fieldPath:n,filterOptions:r,operator:s,orIndex:i,reducedFields:l,removeCondition:a,RenderedFilter:c,updateCondition:u,value:d}=t,{t:f}=E(),m=l.find(x=>x.value===n),[p,h]=TY(d),g=pn(p,300),b=["exists"].includes(s)||m?.field?.type==="checkbox",y=[];b?y=[{label:f("general:true"),value:"true"},{label:f("general:false"),value:"false"}]:m?.field&&"options"in m.field&&(y=m.field.options);let v=vt(async x=>{s&&await u({type:"value",andIndex:o,field:m,operator:s,orIndex:i,value:x===null?"":x})});FY(()=>{v(g)},[g]);let C=!m?.value&&typeof m?.value!="number"||m?.field?.admin?.disableListFilter,w=DA(async x=>{h(void 0),await u({type:"field",andIndex:o,field:l.find(F=>F.value===x.value),operator:s,orIndex:i,value:void 0})},[o,s,i,l,u]),S=DA(async x=>{let I=TA(m.field.type)[x.value]||"any",R=I==="any"||typeof d===I||I==="boolean"&&(d==="true"||d==="false");R||h(void 0),await u({type:"operator",andIndex:o,field:m,operator:x.value,orIndex:i,value:R?d:void 0})},[o,m,i,u,d]);return Ts("div",{className:Ds,children:cC("div",{className:`${Ds}__wrap`,children:[cC("div",{className:`${Ds}__inputs`,children:[Ts("div",{className:`${Ds}__field`,children:Ts(ft,{disabled:C,filterOption:(x,F)=>(x?.data?.plainTextLabel||x.label).toLowerCase().includes(F.toLowerCase()),isClearable:!1,onChange:w,options:l.filter(x=>!x.field.admin.disableListFilter),value:m||{value:m?.value}})}),Ts("div",{className:`${Ds}__operator`,children:Ts(ft,{disabled:C,isClearable:!1,onChange:S,options:m?.operators,value:m?.operators.find(x=>s===x.value)||null})}),Ts("div",{className:`${Ds}__value`,children:c||Ts(FA,{booleanSelect:b,disabled:!s||!m||m?.field?.admin?.disableListFilter,filterOptions:r,internalField:m,onChange:h,operator:s,options:y,value:p??""})})]}),cC("div",{className:`${Ds}__actions`,children:[Ts(te,{buttonStyle:"icon-label",className:`${Ds}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>a({andIndex:o,orIndex:i}),round:!0}),Ts(te,{buttonStyle:"icon-label",className:`${Ds}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>e({andIndex:o+1,field:l.find(x=>!x.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})};var Vn="where-builder",EA=t=>{let{collectionPluralLabel:e,collectionSlug:o,fields:n,renderedFilters:r,resolvedFilterOptions:s}=t,{i18n:i,t:l}=E(),{permissions:a}=_e(),c=a?.collections?.[o]?.fields,u=PA(()=>On({fieldPermissions:c,fields:n,i18n:i}),[c,n,i]),{handleWhereChange:d,query:f}=lt(),m=PA(()=>{let b=f.where;if(b){if(AA(b))return b.or;let y=RY(b);if(AA(y))return y.or;console.warn(`Invalid where query in URL: ${JSON.stringify(b)}`)}return[]},[f.where]),p=ig.useCallback(async({andIndex:b,field:y,orIndex:v,relation:C})=>{let w=[...m],S=ac[y.field.type].operators[0].value;C==="and"?w[v].and.splice(b,0,{[String(y.value)]:{[S]:void 0}}):w.push({and:[{[String(y.value)]:{[S]:void 0}}]}),await d({or:w})},[m,d]),h=ig.useCallback(async({andIndex:b,field:y,operator:v,orIndex:C,value:w})=>{if(typeof m[C].and[b]=="object"&&y.value){let{validOperator:x}=Kh({field:y.field,operator:v}),F={[String(y.value)]:{[x]:w}},I=[...m];I[C].and[b]=F,await d({or:I})}},[m,d]),g=ig.useCallback(async({andIndex:b,orIndex:y})=>{let v=[...m];v[y].and.splice(b,1),v[y].and.length===0&&v.splice(y,1),await d({or:v})},[m,d]);return rm("div",{className:Vn,children:[m.length>0&&rm(ig.Fragment,{children:[Rs("p",{className:`${Vn}__label`,children:l("general:filterWhere",{label:DY(e,i)})}),Rs("ul",{className:`${Vn}__or-filters`,children:m.map((b,y)=>{let v=`${y}_${Array.isArray(b?.and)?b.and.length:""}`;return rm("li",{children:[y!==0&&Rs("div",{className:`${Vn}__label`,children:l("general:or")}),Rs("ul",{className:`${Vn}__and-filters`,children:Array.isArray(b?.and)&&b.and.map((C,w)=>{let S=m[y].and[w],x=Object.keys(S)[0],F=Object.keys(S?.[x]||{})?.[0]||void 0,I=S?.[x]?.[F]||void 0;return rm("li",{children:[w!==0&&Rs("div",{className:`${Vn}__label`,children:l("general:and")}),Rs(RA,{addCondition:p,andIndex:w,fieldPath:x,filterOptions:s?.get(x),operator:F,orIndex:y,reducedFields:u,removeCondition:g,RenderedFilter:r?.get(x),updateCondition:h,value:I})]},w)})})]},v)})}),Rs(te,{buttonStyle:"icon-label",className:`${Vn}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await p({andIndex:0,field:u.find(b=>!b.field.admin?.disableListFilter),orIndex:m.length,relation:"or"})},children:l("general:or")})]}),m.length===0&&rm("div",{className:`${Vn}__no-filters`,children:[Rs("div",{className:`${Vn}__label`,children:l("general:noFiltersSet")}),Rs(te,{buttonStyle:"icon-label",className:`${Vn}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{u.length>0&&await p({andIndex:0,field:u.find(b=>!b.field.admin?.disableListFilter),orIndex:m.length,relation:"or"})},children:l("general:addFilter")})]})]})};import{fieldAffectsData as AY,flattenTopLevelFields as PY}from"payload/shared";var NA=(t,e,o)=>{if(t){let n=PY(e,{i18n:o,moveSubFieldsToTop:!0}),r=new Set(t),s=[];for(let i of n)AY(i)&&r.has(i.name)&&(s.push(i),r.delete(i.name));return s}return null};var Vo="list-controls",uC=t=>{let{beforeActions:e,collectionConfig:o,collectionSlug:n,disableQueryPresets:r,enableColumns:s=!0,enableFilters:i=!0,enableSort:l=!1,listMenuItems:a,queryPreset:c,queryPresetPermissions:u,renderedFilters:d,resolvedFilterOptions:f}=t,{handleSearchChange:m,query:p}=lt(),h=X0(o),{i18n:g,t:b}=E(),{breakpoints:{s:y}}=$o(),v=(h&&mc("label"in h&&(typeof h.label=="string"||typeof h.label=="object")?h.label:"name"in h?h.name:null,g))??"ID",C=NA(o.admin.listSearchableFields,o.fields,g),w=$A(b("general:searchBy",{label:mc(v,g)})),S=$A(!!p?.where),x=NY(p?.where),[F,I]=kY(x?"where":void 0);return LA(()=>{S.current&&!p?.where?S.current=!1:p?.where&&(S.current=!0)},[I,p?.where]),LA(()=>{C?.length>0?w.current=C.reduce((R,D,_)=>{let T="label"in D&&D.label?D.label:"name"in D?D.name:null;return _===0?`${b("general:searchBy",{label:mc(T,g)})}`:_===C.length-1?`${R} ${b("general:or")} ${mc(T,g)}`:`${R}, ${mc(T,g)}`},""):w.current=b("general:searchBy",{label:mc(v,g)})},[b,C,g,v]),EY("div",{className:Vo,children:[o?.enableQueryPresets&&!r&&ho(lA,{activePreset:c,collectionSlug:n,queryPresetPermissions:u}),ho(uc,{Actions:[!y&&ho(LY.Fragment,{children:e&&e},"before-actions"),s&&ho(it,{"aria-controls":`${Vo}-columns`,"aria-expanded":F==="columns",className:`${Vo}__toggle-columns`,icon:ho(He,{direction:F==="columns"?"up":"down"}),id:"toggle-list-columns",onClick:()=>I(F!=="columns"?"columns":void 0),pillStyle:"light",size:"small",children:b("general:columns")},"toggle-list-columns"),i&&ho(it,{"aria-controls":`${Vo}-where`,"aria-expanded":F==="where",className:`${Vo}__toggle-where`,icon:ho(He,{direction:F==="where"?"up":"down"}),id:"toggle-list-filters",onClick:()=>I(F!=="where"?"where":void 0),pillStyle:"light",size:"small",children:b("general:filters")},"toggle-list-filters"),l&&ho(it,{"aria-controls":`${Vo}-sort`,"aria-expanded":F==="sort",className:`${Vo}__toggle-sort`,icon:ho(He,{}),id:"toggle-list-sort",onClick:()=>I(F!=="sort"?"sort":void 0),pillStyle:"light",size:"small",children:b("general:sort")},"toggle-list-sort"),o.admin.groupBy&&ho(it,{"aria-controls":`${Vo}-group-by`,"aria-expanded":F==="group-by",className:`${Vo}__toggle-group-by`,icon:ho(He,{direction:F==="group-by"?"up":"down"}),id:"toggle-group-by",onClick:()=>I(F!=="group-by"?"group-by":void 0),pillStyle:"light",size:"small",children:b("general:groupByLabel",{label:""})},"toggle-group-by"),a&&Array.isArray(a)&&a.length>0&&ho(nt,{button:ho(qh,{ariaLabel:b("general:moreOptions")}),className:`${Vo}__popup`,horizontalAlign:"right",id:"list-menu",size:"small",verticalAlign:"bottom",children:a.map((R,D)=>ho($Y,{children:R},`list-menu-item-${D}`))},"list-menu")].filter(Boolean),label:w.current,onSearchChange:m,searchQueryParam:p?.search},n),s&&ho(Cr,{className:`${Vo}__columns`,height:F==="columns"?"auto":0,id:`${Vo}-columns`,children:ho(yp,{collectionSlug:o.slug})}),ho(Cr,{className:`${Vo}__where`,height:F==="where"?"auto":0,id:`${Vo}-where`,children:ho(EA,{collectionPluralLabel:o?.labels?.plural,collectionSlug:o.slug,fields:o?.fields,renderedFilters:d,resolvedFilterOptions:f})}),o.admin.groupBy&&ho(Cr,{className:`${Vo}__group-by`,height:F==="group-by"?"auto":0,id:`${Vo}-group-by`,children:ho(K6,{collectionSlug:o.slug,fields:o.fields})})]})};import{c as nJ}from"react/compiler-runtime";import{jsx as Ta,jsxs as sJ}from"react/jsx-runtime";import{Fragment as iJ}from"react";import{c as MA}from"react/compiler-runtime";import{jsx as mC,jsxs as zY}from"react/jsx-runtime";import WY from"react";import{jsx as jY}from"react/jsx-runtime";import{getTranslation as kA}from"@payloadcms/translations";import{useRouter as BY,useSearchParams as MY}from"next/navigation.js";import{combineWhereConstraints as OY,mergeListSearchAndWhere as VY}from"payload/shared";import*as dC from"qs-esm";import GY,{useCallback as jA}from"react";function BA(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:l,selectAll:a,where:c}=t,{clearRouteCache:u}=pt(),{config:{routes:{api:d},serverURL:f}}=W(),{code:m}=xe(),p=BY(),h=MY(),{i18n:g,t:b}=E(),y=jA(()=>{oe.error(b("error:unknown"))},[b]),v=GY.useMemo(()=>{let w=[{_status:{not_equals:"published"}}];c&&w.push(c);let S=VY({collectionConfig:e,search:h.get("search")});return S&&w.push(S),a?w.push(Vt(h)?.where||{id:{not_equals:""}}):w.push({id:{in:i||[]}}),dC.stringify({locale:m,where:OY(w)},{addQueryPrefix:!0})},[e,h,a,i,m,c]),C=jA(async()=>{await ze.patch(`${f}${d}/${o}${v}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}}).then(async w=>{try{let S=await w.json(),x=S?.docs.length||0,F=x>1?n:r;return w.status<400||x>0?(oe.success(b("general:updatedCountSuccessfully",{count:x,label:kA(F,g)})),S?.errors.length>0&&oe.error(S.message,{description:S.errors.map(I=>I.message).join(`
`)}),p.replace(dC.stringify({...Vt(h),page:a?"1":void 0},{addQueryPrefix:!0})),u(),typeof l=="function"&&l(),null):(S.errors?S.errors.forEach(I=>oe.error(I.message)):y(),!1)}catch{return y()}})},[f,d,o,v,g,n,r,b,p,h,a,u,y,l]);return jY(et,{body:b("version:aboutToPublishSelection",{label:kA(n,g)}),cancelLabel:b("general:cancel"),confirmingLabel:b("version:publishing"),confirmLabel:b("general:confirm"),heading:b("version:confirmPublish"),modalSlug:s,onConfirm:C})}var HY=t=>{let e=MA(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=vo(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let l=n===zt.AllAvailable,a;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==l?(a=mC(nm,{...t,count:o,ids:r,onSuccess:i,selectAll:l}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=l,e[7]=a):a=e[7],a},nm=t=>{let e=MA(12),{collection:o,collection:n,count:r,ids:s,modalPrefix:i,onSuccess:l,selectAll:a,where:c}=t,{slug:u,versions:d}=n===void 0?{}:n,{permissions:f}=_e(),{t:m}=E(),{openModal:p}=ae(),g=f?.collections?.[u]?.update,b=`${i?`${i}-`:""}publish-${u}`;if(!d?.drafts||r===0||!g)return null;let y;if(e[0]!==o||e[1]!==b||e[2]!==s||e[3]!==l||e[4]!==p||e[5]!==a||e[6]!==m||e[7]!==c){let v;e[9]!==b||e[10]!==p?(v=()=>{p(b)},e[9]=b,e[10]=p,e[11]=v):v=e[11],y=zY(WY.Fragment,{children:[mC(Qt,{"aria-label":m("version:publish"),onClick:v,children:m("version:publish")}),mC(BA,{collection:o,drawerSlug:b,ids:s,onSuccess:l,selectAll:a,where:c})]}),e[0]=o,e[1]=b,e[2]=s,e[3]=l,e[4]=p,e[5]=a,e[6]=m,e[7]=c,e[8]=y}else y=e[8];return y};import{jsx as ag,jsxs as OA}from"react/jsx-runtime";import{getTranslation as VA}from"@payloadcms/translations";import{useRouter as UY,useSearchParams as XY}from"next/navigation.js";import{mergeListSearchAndWhere as ZY}from"payload/shared";import*as pC from"qs-esm";import fC from"react";var GA="confirm-restore-many-docs",zA="restore-many",WA=t=>{let{collection:{slug:e}={},viewType:o}=t,{permissions:n}=_e(),{config:{collections:r,routes:s,serverURL:i}}=W(),{code:l}=xe(),a=UY(),{clearRouteCache:c}=pt(),u=XY(),{count:d,getSelectedIds:f,selectAll:m,toggleAll:p}=vo(),{openModal:h}=ae(),{i18n:g,t:b}=E(),[y,v]=fC.useState(!1),w=n?.collections?.[e]?.update;if(m===zt.None||!w||o!=="trash")return null;let S=m===zt.AllAvailable,x=S?[]:f(),F=Vt(u)?.where,I={and:[...Array.isArray(F?.and)?F.and:F?[F]:[],{deletedAt:{exists:!0}}]},R=async()=>{let T=r.find(B=>B.slug===e);if(!T)return;let A;S?A=I:A={and:[{id:{in:x}},{deletedAt:{exists:!0}}]};let $=`${i}${s.api}/${e}${pC.stringify({limit:0,locale:l,trash:!0,where:ZY({collectionConfig:T,search:Vt(u)?.search,where:A})},{addQueryPrefix:!0})}`,P={deletedAt:null};T?.versions?.drafts&&(P._status=y?"published":"draft");let j=await ze.patch($,{body:JSON.stringify(P),headers:{"Accept-Language":g.language,"Content-Type":"application/json"}});try{let{plural:B,singular:N}=T.labels,L=await j.json(),M=L?.docs?.length||0,k=M>1?B:N;(j.status<400||M>0)&&oe.success(b("general:restoredCountSuccessfully",{count:M,label:VA(k,g)})),L?.errors?.length>0&&oe.error(L.message,{description:L.errors.map(O=>O.message).join(`
`)})}catch{oe.error(b("error:unknown"))}p(),a.replace(pC.stringify({...Vt(u),page:S?"1":void 0},{addQueryPrefix:!0})),c()},D=r.find(({slug:T})=>T===e),_=VA(d===1?D.labels.singular:D.labels.plural,g);return OA(fC.Fragment,{children:[ag(Qt,{"aria-label":b("general:restore"),className:"restore-documents__toggle",onClick:()=>{h(GA)},children:b("general:restore")}),ag(et,{body:OA(fC.Fragment,{children:[b(D?.versions?.drafts?"general:aboutToRestoreAsDraftCount":"general:aboutToRestoreCount",{count:d,label:_}),D?.versions?.drafts&&ag("div",{className:`${zA}__checkbox`,children:ag(uo,{checked:y,id:"restore-as-published-many",label:b("general:restoreAsPublished"),name:"restore-as-published-many",onToggle:T=>v(T.target.checked)})})]}),className:zA,confirmingLabel:b("general:restoring"),heading:b("general:confirmRestoration"),modalSlug:GA,onConfirm:R})]})};import{c as ZA}from"react/compiler-runtime";import{jsx as gC,jsxs as tJ}from"react/jsx-runtime";import oJ from"react";import{jsx as YY}from"react/jsx-runtime";import{getTranslation as HA}from"@payloadcms/translations";import{useRouter as JY,useSearchParams as qY}from"next/navigation.js";import{combineWhereConstraints as QY,mergeListSearchAndWhere as KY}from"payload/shared";import*as hC from"qs-esm";import eJ,{useCallback as UA}from"react";function XA(t){let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={},drawerSlug:s,ids:i,onSuccess:l,selectAll:a,where:c}=t,{config:{routes:{api:u},serverURL:d}}=W(),{code:f}=xe(),{i18n:m,t:p}=E(),h=qY(),g=JY(),{clearRouteCache:b}=pt(),y=UA(()=>{oe.error(p("error:unknown"))},[p]),v=eJ.useMemo(()=>{let w=[{_status:{not_equals:"draft"}}];c&&w.push(c);let S=KY({collectionConfig:e,search:h.get("search")});return S&&w.push(S),a||w.push({id:{in:i||[]}}),hC.stringify({locale:f,where:QY(w)},{addQueryPrefix:!0})},[e,h,a,i,f,c]),C=UA(async()=>{await ze.patch(`${d}${u}/${o}${v}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":m.language,"Content-Type":"application/json"}}).then(async w=>{try{let S=await w.json(),x=S?.docs.length||0,F=x>1?n:r;return w.status<400||x>0?(oe.success(p("general:updatedCountSuccessfully",{count:x,label:HA(F,m)})),S?.errors.length>0&&oe.error(S.message,{description:S.errors.map(I=>I.message).join(`
`)}),g.replace(hC.stringify({...Vt(h),page:a?"1":void 0},{addQueryPrefix:!0})),b(),typeof l=="function"&&l(),null):(S.errors?S.errors.forEach(I=>oe.error(I.message)):y(),!1)}catch{return y()}})},[d,u,o,v,m,n,r,p,g,h,a,b,y,l]);return YY(et,{body:p("version:aboutToUnpublishSelection",{label:HA(n,m)}),confirmingLabel:p("version:unpublishing"),heading:p("version:confirmUnpublish"),modalSlug:s,onConfirm:C})}var rJ=t=>{let e=ZA(8),{count:o,selectAll:n,selectedIDs:r,toggleAll:s}=vo(),i;e[0]!==s?(i=()=>s(),e[0]=s,e[1]=i):i=e[1];let l=n===zt.AllAvailable,a;return e[2]!==o||e[3]!==t||e[4]!==r||e[5]!==i||e[6]!==l?(a=gC(sm,{...t,count:o,ids:r,onSuccess:i,selectAll:l}),e[2]=o,e[3]=t,e[4]=r,e[5]=i,e[6]=l,e[7]=a):a=e[7],a},sm=t=>{let e=ZA(12),{collection:o,collection:n,count:r,ids:s,modalPrefix:i,onSuccess:l,selectAll:a,where:c}=t,{slug:u,versions:d}=n===void 0?{}:n,{t:f}=E(),{permissions:m}=_e(),{toggleModal:p}=ae(),g=m?.collections?.[u]?.update,b=`${i?`${i}-`:""}unpublish-${u}`;if(!d?.drafts||r===0||!g)return null;let y;if(e[0]!==o||e[1]!==b||e[2]!==s||e[3]!==l||e[4]!==a||e[5]!==f||e[6]!==p||e[7]!==c){let v;e[9]!==b||e[10]!==p?(v=()=>{p(b)},e[9]=b,e[10]=p,e[11]=v):v=e[11],y=tJ(oJ.Fragment,{children:[gC(Qt,{"aria-label":f("version:unpublish"),onClick:v,children:f("version:unpublish")}),gC(XA,{collection:o,drawerSlug:b,ids:s,onSuccess:l,selectAll:a,where:c})]}),e[0]=o,e[1]=b,e[2]=s,e[3]=l,e[4]=a,e[5]=f,e[6]=p,e[7]=c,e[8]=y}else y=e[8];return y};var Da=t=>{let e=nJ(19),{collectionConfig:o,disableBulkDelete:n,disableBulkEdit:r,label:s,modalPrefix:i,showSelectAllAcrossPages:l,viewType:a,where:c}=t,u=l===void 0?!0:l,{count:d,selectAll:f,selectedIDs:m,toggleAll:p,totalDocs:h}=vo(),{t:g}=E(),b;e[0]!==p?(b=()=>p(),e[0]=p,e[1]=b):b=e[1];let y=b;if(d===0)return null;let v=o?.trash&&a==="trash",C;return e[2]!==o||e[3]!==d||e[4]!==n||e[5]!==r||e[6]!==v||e[7]!==s||e[8]!==i||e[9]!==y||e[10]!==f||e[11]!==m||e[12]!==u||e[13]!==g||e[14]!==p||e[15]!==h||e[16]!==a||e[17]!==c?(C=Ta(Gh,{count:d,ListActions:[f!==zt.AllAvailable&&d<h&&u!==!1?Ta(Qt,{"aria-label":g("general:selectAll",{count:`(${h})`,label:s}),id:"select-all-across-pages",onClick:()=>p(!0),children:g("general:selectAll",{count:`(${h})`,label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!r&&!v&&sJ(iJ,{children:[Ta(Qd,{collection:o,count:d,ids:m,modalPrefix:i,onSuccess:y,selectAll:f===zt.AllAvailable,where:c}),Ta(nm,{collection:o,count:d,ids:m,modalPrefix:i,onSuccess:y,selectAll:f===zt.AllAvailable,where:c}),Ta(sm,{collection:o,count:d,ids:m,modalPrefix:i,onSuccess:y,selectAll:f===zt.AllAvailable,where:c})]},"bulk-actions"),v&&Ta(WA,{collection:o,viewType:a},"bulk-restore"),!n&&Ta(Dy,{collection:o,modalPrefix:i,viewType:a},"bulk-delete")].filter(Boolean)}),e[2]=o,e[3]=d,e[4]=n,e[5]=r,e[6]=v,e[7]=s,e[8]=i,e[9]=y,e[10]=f,e[11]=m,e[12]=u,e[13]=g,e[14]=p,e[15]=h,e[16]=a,e[17]=c,e[18]=C):C=e[18],C};import{jsx as Gn,jsxs as FJ,Fragment as TJ}from"react/jsx-runtime";import{getTranslation as wC}from"@payloadcms/translations";import"react";import{jsx as YA}from"react/jsx-runtime";var aJ="close-modal-button";function JA({slug:t,className:e}){let{closeModal:o}=ae(),{t:n}=E();return YA("button",{"aria-label":n("general:close"),className:[aJ,e].filter(Boolean).join(" "),onClick:()=>{o(t)},type:"button",children:YA(ht,{})},"close-button")}import{c as lJ}from"react/compiler-runtime";import{jsx as qA,jsxs as QA}from"react/jsx-runtime";import{getTranslation as KA}from"@payloadcms/translations";import{useRouter as cJ}from"next/navigation.js";import{formatAdminURL as uJ}from"payload/shared";import"react";var Ra="default-list-view-tabs",lg=t=>{let e=lJ(20),{collectionConfig:o,config:n,onChange:r,viewType:s}=t,{i18n:i,t:l}=E(),{setPreference:a}=Ot(),c=cJ(),u=o.trash,d=o.folders&&n.folders;if(!u&&!d)return null;let f;e[0]!==o.slug||e[1]!==n||e[2]!==r||e[3]!==c||e[4]!==a?(f=async g=>{r&&r(g),(g==="list"||g==="folders")&&await a(`collection-${o.slug}`,{listViewType:g});let b=`/collections/${o.slug}`;e:switch(g){case"folders":{n.folders&&(b=`/collections/${o.slug}/${n.folders.slug}`);break e}case"trash":b=`/collections/${o.slug}/trash`}let y=uJ({adminRoute:n.routes.admin,path:b,serverURL:n.serverURL});c.push(y)},e[0]=o.slug,e[1]=n,e[2]=r,e[3]=c,e[4]=a,e[5]=f):f=e[5];let m=f,p=`${l("general:all")} ${KA(o?.labels?.plural,i)}`,h;if(e[6]!==p||e[7]!==o.labels?.plural||e[8]!==m||e[9]!==i||e[10]!==d||e[11]!==u||e[12]!==l||e[13]!==s){let g;e[15]===Symbol.for("react.memo_cache_sentinel")?(g=/\s+/g,e[15]=g):g=e[15];let b=p.toLowerCase().replace(g,"-"),y=s==="list"&&`${Ra}__button--active`,v;e[16]!==y?(v=[`${Ra}__button`,y].filter(Boolean),e[16]=y,e[17]=v):v=e[17];let C;e[18]!==m?(C=()=>m("list"),e[18]=m,e[19]=C):C=e[19],h=QA("div",{className:Ra,children:[QA(te,{buttonStyle:"tab",className:v.join(" "),disabled:s==="list",el:"button",id:b,onClick:C,children:[l("general:all")," ",KA(o?.labels?.plural,i)]}),d&&qA(te,{buttonStyle:"tab",className:[`${Ra}__button`,s==="folders"&&`${Ra}__button--active`].filter(Boolean).join(" "),disabled:s==="folders",el:"button",onClick:()=>m("folders"),children:l("folder:byFolder")}),u&&qA(te,{buttonStyle:"tab",className:[`${Ra}__button`,s==="trash"&&`${Ra}__button--active`].filter(Boolean).join(" "),disabled:s==="trash",el:"button",id:"trash-view-pill",onClick:()=>m("trash"),children:l("general:trash")})]}),e[6]=p,e[7]=o.labels?.plural,e[8]=m,e[9]=i,e[10]=d,e[11]=u,e[12]=l,e[13]=s,e[14]=h}else h=e[14];return h};import{c as dJ}from"react/compiler-runtime";import{jsx as eP,jsxs as mJ}from"react/jsx-runtime";import{getTranslation as tP}from"@payloadcms/translations";import{jsx as cg,jsxs as bC}from"react/jsx-runtime";import"react";var As="list-header",Aa=t=>bC("header",{className:[As,t.className].filter(Boolean).join(" "),children:[bC("div",{className:`${As}__content`,children:[bC("div",{className:`${As}__title-and-actions`,children:[cg("h1",{className:`${As}__title`,children:t.title}),t.TitleActions.length?cg("div",{className:`${As}__title-actions`,children:t.TitleActions}):null]}),t.Actions.length?cg("div",{className:`${As}__actions`,children:t.Actions}):null]}),t.AfterListHeaderContent?cg("div",{className:`${As}__after-header-content`,children:t.AfterListHeaderContent}):null]});var fJ="list-drawer",oP=()=>{let t=dJ(12),{i18n:e,t:o}=E(),{config:n,getEntityConfig:r}=W(),{collections:s}=n,{enabledCollections:i,selectedOption:l,setSelectedOption:a}=wr(),c;if(t[0]!==s||t[1]!==i||t[2]!==r||t[3]!==e||t[4]!==l||t[5]!==a||t[6]!==o){c=Symbol.for("react.early_return_sentinel");e:{let u;t[8]!==i?(u=f=>{let{slug:m}=f;return i.includes(m)},t[8]=i,t[9]=u):u=t[9];let d=s.filter(u);if(d.length>1){let f=r({collectionSlug:l.value}),m;t[10]!==e?(m=p=>({label:tP(p.labels.singular,e),value:p.slug}),t[10]=e,t[11]=m):m=t[11],c=mJ("div",{className:`${fJ}__select-collection-wrap`,children:[eP(Fe,{label:o("upload:selectCollectionToBrowse")}),eP(ft,{className:`${As}__select-collection`,isClearable:!1,onChange:a,options:d.map(m),value:{label:tP(f?.labels.singular,e),value:f?.slug}})]});break e}}t[0]=s,t[1]=i,t[2]=r,t[3]=e,t[4]=l,t[5]=a,t[6]=o,t[7]=c}else c=t[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};import{c as pJ}from"react/compiler-runtime";import{jsx as rP}from"react/jsx-runtime";var hJ="list-header";function vC(t){let e=pJ(3),{hasCreatePermission:o}=t,{DocumentDrawerToggler:n}=wr(),{t:r}=E();if(!o)return null;let s;return e[0]!==n||e[1]!==r?(s=rP(n,{className:`${hJ}__create-new-button`,children:rP(it,{size:"small",children:r("general:createNew")})},"create-new-button-toggler"),e[0]=n,e[1]=r,e[2]=s):s=e[2],s}import{c as gJ}from"react/compiler-runtime";import{jsx as bJ}from"react/jsx-runtime";import{useRouter as vJ}from"next/navigation.js";import"react";function im(t){let e=gJ(12),{collectionSlug:o,hasCreatePermission:n,isBulkUploadEnabled:r,onBulkUploadSuccess:s,openBulkUpload:i}=t,{drawerSlug:l,setCollectionSlug:a,setOnSuccess:c}=Bo(),{t:u}=E(),{openModal:d}=ae(),f=vJ(),m;e[0]!==l||e[1]!==o||e[2]!==s||e[3]!==i||e[4]!==d||e[5]!==f||e[6]!==a||e[7]!==c?(m=()=>{typeof i=="function"?i():(a(o),d(l),c(()=>{typeof s=="function"?s():f.refresh()}))},e[0]=l,e[1]=o,e[2]=s,e[3]=i,e[4]=d,e[5]=f,e[6]=a,e[7]=c,e[8]=m):m=e[8];let p=m;if(!n||!r)return null;let h;return e[9]!==p||e[10]!==u?(h=bJ(te,{"aria-label":u("upload:bulkUpload"),buttonStyle:"pill",onClick:p,size:"small",children:u("upload:bulkUpload")},"bulk-upload-button"),e[9]=p,e[10]=u,e[11]=h):h=e[11],h}import{c as yJ}from"react/compiler-runtime";import{jsx as CJ}from"react/jsx-runtime";import{getTranslation as xJ}from"@payloadcms/translations";import"react";var wJ="list-create-new-doc";function yC(t){let e=yJ(5),{collectionConfig:o,hasCreatePermission:n,newDocumentURL:r}=t,{i18n:s,t:i}=E();if(!n)return null;let l=o?.labels?.singular,a;return e[0]!==s||e[1]!==r||e[2]!==i||e[3]!==l?(a=CJ(te,{"aria-label":i("general:createNewLabel",{label:xJ(l,s)}),buttonStyle:"pill",className:`${wJ}__create-new-button`,el:"link",size:"small",to:r,children:i("general:createNew")},"create-new-button"),e[0]=s,e[1]=r,e[2]=i,e[3]=l,e[4]=a):a=e[4],a}import{jsx as am,jsxs as SJ}from"react/jsx-runtime";import{getTranslation as CC}from"@payloadcms/translations";import{useRouter as IJ,useSearchParams as _J}from"next/navigation.js";import*as dg from"qs-esm";import ug from"react";var nP="confirm-empty-trash";function xC({collectionConfig:t,hasDeletePermission:e}){let{i18n:o,t:n}=E(),{code:r}=xe(),{config:s}=W(),{openModal:i}=ae(),l=IJ(),a=_J(),{clearRouteCache:c}=pt(),[u,d]=ug.useState(null);ug.useEffect(()=>{(async()=>{let p=dg.stringify({depth:0,limit:0,locale:r,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0});try{let g=await(await ze.get(`${s.serverURL}${s.routes.api}/${t.slug}${p}`,{headers:{"Accept-Language":o.language,"Content-Type":"application/json"}})).json();d(g?.totalDocs??0)}catch{d(0)}})()},[t.slug,s,o.language,r]);let f=ug.useCallback(async()=>{if(!e)return;let{slug:m,labels:p}=t,h=dg.stringify({limit:0,locale:r,trash:!0,where:{deletedAt:{exists:!0}}},{addQueryPrefix:!0}),g=await ze.delete(`${s.serverURL}${s.routes.api}/${m}${h}`,{headers:{"Accept-Language":o.language,"Content-Type":"application/json"}});try{let b=await g.json(),y=b?.docs?.length||0;g.status<400&&oe.success(n("general:permanentlyDeletedCountSuccessfully",{count:y,label:CC(p?.plural,o)})),b?.errors?.length>0&&oe.error(b.message,{description:b.errors.map(v=>v.message).join(`
`)}),l.replace(dg.stringify({...Object.fromEntries(a.entries()),page:"1"},{addQueryPrefix:!0})),c()}catch{oe.error(n("error:unknown"))}},[t,s,e,o,n,r,a,l,c]);return SJ(ug.Fragment,{children:[am(te,{"aria-label":n("general:emptyTrashLabel",{label:CC(t?.labels?.plural,o)}),buttonStyle:"pill",disabled:u===0,id:"empty-trash-button",onClick:()=>{i(nP)},size:"small",children:n("general:emptyTrash")},"empty-trash-button"),am(et,{body:am(Jt,{elements:{0:({children:m})=>am("strong",{children:m}),1:({children:m})=>am("strong",{children:m})},i18nKey:"general:aboutToPermanentlyDeleteTrash",t:n,variables:{count:u??0,label:CC(u===1?t.labels?.singular:t.labels?.plural,o)}}),confirmingLabel:n("general:deleting"),heading:n("general:confirmDeletion"),modalSlug:nP,onConfirm:f})]})}var sP="list-drawer",SC=({className:t,collectionConfig:e,Description:o,disableBulkDelete:n,disableBulkEdit:r,hasCreatePermission:s,hasDeletePermission:i,i18n:l,isBulkUploadEnabled:a,isTrashEnabled:c,newDocumentURL:u,onBulkUploadSuccess:d,openBulkUpload:f,smallBreak:m,viewType:p})=>{let{config:h,getEntityConfig:g}=W(),{drawerSlug:b,isInDrawer:y,selectedOption:v}=wr(),C=p==="trash",{isGroupingBy:w}=lt();return y?Gn(Aa,{Actions:[Gn(JA,{className:`${sP}__header-close`,slug:b},"close-button")],AfterListHeaderContent:FJ(TJ,{children:[o,Gn(oP,{})]}),className:`${sP}__header`,title:wC(g({collectionSlug:v.value})?.labels?.plural,l),TitleActions:[Gn(vC,{hasCreatePermission:s},"list-drawer-create-new-doc")].filter(Boolean)}):Gn(Aa,{Actions:[!m&&!w&&Gn(Da,{collectionConfig:e,disableBulkDelete:n,disableBulkEdit:r,label:wC(e?.labels?.plural,l),showSelectAllAcrossPages:!w,viewType:p},"list-selection"),Gn(lg,{collectionConfig:e,config:h,viewType:p},"default-list-actions")].filter(Boolean),AfterListHeaderContent:o,className:t,title:wC(e?.labels?.plural,l),TitleActions:[s&&!C&&Gn(yC,{collectionConfig:e,hasCreatePermission:s,newDocumentURL:u},"list-header-create-new-doc"),s&&a&&!C&&Gn(im,{collectionSlug:e.slug,hasCreatePermission:s,isBulkUploadEnabled:a,onBulkUploadSuccess:d,openBulkUpload:f},"list-header-bulk-upload"),i&&c&&p==="trash"&&Gn(xC,{collectionConfig:e,hasDeletePermission:i},"list-header-empty-trash")].filter(Boolean)})};import{jsx as iP,jsxs as DJ}from"react/jsx-runtime";import"react";var aP="group-by-header",RJ=({collectionConfig:t,groupByFieldPath:e,groupByValue:o,heading:n})=>DJ("header",{className:aP,children:[iP("h4",{className:`${aP}__heading`,"data-group-id":o,children:n}),iP(Da,{collectionConfig:t,label:n,modalPrefix:o,where:{[e]:{equals:o}}})]});import{c as uP}from"react/compiler-runtime";import{jsx as FC,jsxs as _C}from"react/jsx-runtime";import{isNumber as LJ}from"payload/shared";import{Fragment as $J}from"react";import{c as AJ}from"react/compiler-runtime";import{jsx as vi,jsxs as lP}from"react/jsx-runtime";import{collectionDefaults as PJ,isNumber as EJ}from"payload/shared";import"react";var fc="per-page",NJ=PJ.admin.pagination.limits,IC=t=>{let e=AJ(9),{defaultLimit:o,handleChange:n,limit:r,limits:s}=t,i=o===void 0?10:o,l=s===void 0?NJ:s,{t:a}=E(),c=EJ(r)?r:i,u;if(e[0]!==n||e[1]!==c||e[2]!==l||e[3]!==a){let d;e[5]!==n||e[6]!==c||e[7]!==l?(d=f=>{let{close:m}=f;return vi(Ie.ButtonGroup,{children:l.map((p,h)=>lP(Ie.Button,{className:[`${fc}__button`,p===c&&`${fc}__button-active`].filter(Boolean).join(" "),onClick:()=>{m(),n&&n(p)},children:[p===c&&vi("div",{className:`${fc}__chevron`,children:vi(He,{direction:"right",size:"small"})}),"\xA0",vi("span",{children:p})]},h))})},e[5]=n,e[6]=c,e[7]=l,e[8]=d):d=e[8],u=vi("div",{className:fc,children:vi(nt,{button:lP("div",{className:`${fc}__base-button`,children:[vi("span",{children:a("general:perPage",{limit:c})}),"\xA0",vi(He,{className:`${fc}__icon`})]}),horizontalAlign:"right",render:d,size:"small"})}),e[0]=n,e[1]=c,e[2]=l,e[3]=a,e[4]=u}else u=e[4];return u};var cP="page-controls",mg=t=>{let e=uP(16),{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:s,handlePerPageChange:i,limit:l}=t,{i18n:a}=E(),c;return e[0]!==o||e[1]!==n?.admin?.pagination?.limits||e[2]!==r.hasNextPage||e[3]!==r.hasPrevPage||e[4]!==r.limit||e[5]!==r.nextPage||e[6]!==r.page||e[7]!==r.pagingCounter||e[8]!==r.prevPage||e[9]!==r.totalDocs||e[10]!==r.totalPages||e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==l?(c=_C("div",{className:cP,children:[FC(Lu,{hasNextPage:r.hasNextPage,hasPrevPage:r.hasPrevPage,limit:r.limit,nextPage:r.nextPage,numberOfNeighbors:1,onChange:s,page:r.page,prevPage:r.prevPage,totalPages:r.totalPages}),r.totalDocs>0&&_C($J,{children:[_C("div",{className:`${cP}__page-info`,children:[r.page*r.limit-(r.limit-1),"-",r.totalPages>1&&r.totalPages!==r.page?r.limit*r.page:r.totalDocs," ",a.t("general:of")," ",r.totalDocs]}),FC(IC,{handleChange:i,limit:l,limits:n?.admin?.pagination?.limits,resetPage:r.totalDocs<=r.pagingCounter}),o]})]}),e[0]=o,e[1]=n?.admin?.pagination?.limits,e[2]=r.hasNextPage,e[3]=r.hasPrevPage,e[4]=r.limit,e[5]=r.nextPage,e[6]=r.page,e[7]=r.pagingCounter,e[8]=r.prevPage,e[9]=r.totalDocs,e[10]=r.totalPages,e[11]=s,e[12]=i,e[13]=a,e[14]=l,e[15]=c):c=e[15],c},fg=t=>{let e=uP(10),{AfterPageControls:o,collectionConfig:n}=t,{data:r,defaultLimit:s,handlePageChange:i,handlePerPageChange:l,query:a}=lt(),c;e[0]!==s||e[1]!==a.limit?(c=LJ(a.limit)?a.limit:s,e[0]=s,e[1]=a.limit,e[2]=c):c=e[2];let u;return e[3]!==o||e[4]!==n||e[5]!==r||e[6]!==i||e[7]!==l||e[8]!==c?(u=FC(mg,{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:i,handlePerPageChange:l,limit:c}),e[3]=o,e[4]=n,e[5]=r,e[6]=i,e[7]=l,e[8]=c,e[9]=u):u=e[9],u};import{jsx as kJ}from"react/jsx-runtime";import"react";var jJ="sticky-toolbar",TC=({children:t})=>kJ("div",{className:jJ,children:t});import{c as BJ}from"react/compiler-runtime";import{jsx as MJ}from"react/jsx-runtime";import"react";var OJ=t=>{let e=BJ(12),{AfterPageControls:o,collectionConfig:n,data:r,groupByValue:s}=t,{refineListData:i}=lt(),l;e[0]!==s||e[1]!==i?(l=async f=>{await i({queryByGroup:{[s]:{page:f}}})},e[0]=s,e[1]=i,e[2]=l):l=e[2];let a=l,c;e[3]!==s||e[4]!==i?(c=async f=>{await i({queryByGroup:{[s]:{limit:f,page:1}}})},e[3]=s,e[4]=i,e[5]=c):c=e[5];let u=c,d;return e[6]!==o||e[7]!==n||e[8]!==r||e[9]!==a||e[10]!==u?(d=MJ(mg,{AfterPageControls:o,collectionConfig:n,data:r,handlePageChange:a,handlePerPageChange:u}),e[6]=o,e[7]=n,e[8]=r,e[9]=a,e[10]=u,e[11]=d):d=e[11],d};import{c as VJ}from"react/compiler-runtime";import{jsx as mP}from"react/jsx-runtime";import{formatAdminURL as GJ}from"payload/shared";import"react";import{jsx as dP}from"react/jsx-runtime";import"react";var DC=()=>dP("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:dP("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})});var zJ="nav",WJ=t=>{let e=VJ(5),{tabIndex:o}=t,n=o===void 0?0:o,{t:r}=E(),{config:s}=W(),{admin:i,routes:l}=s,{routes:a}=i,{logout:c}=a,{admin:u}=l,d;return e[0]!==u||e[1]!==c||e[2]!==r||e[3]!==n?(d=mP(Xt,{"aria-label":r("authentication:logOut"),className:`${zJ}__log-out`,href:GJ({adminRoute:u,path:c}),prefetch:!1,tabIndex:n,title:r("authentication:logOut"),children:mP(DC,{})}),e[0]=u,e[1]=c,e[2]=r,e[3]=n,e[4]=d):d=e[4],d};import{c as HJ}from"react/compiler-runtime";import{jsx as pc,jsxs as fP}from"react/jsx-runtime";import UJ,{useState as pP}from"react";var yi="nav-group",XJ="nav",ZJ=t=>{let e=HJ(21),{children:o,isOpen:n,label:r}=t,[s,i]=pP(typeof n<"u"?!n:!1),[l,a]=pP(!1),{setPreference:c}=Ot(),{navOpen:u}=xa();if(r){let f;e[0]!==s||e[1]!==r||e[2]!==c?(f=()=>{a(!0);let F={};F?.[r]?F[r].open=!!s:F[r]={open:!!s},c(XJ,{groups:F},!0),i(!s)},e[0]=s,e[1]=r,e[2]=c,e[3]=f):f=e[3];let m=f,p=`${r}`,h=s&&`${yi}--collapsed`,g;e[4]!==p||e[5]!==h?(g=[`${yi}`,p,h].filter(Boolean),e[4]=p,e[5]=h,e[6]=g):g=e[6];let b=g.join(" "),y=`nav-group-${r}`,v=`${yi}__toggle--${s?"collapsed":"open"}`,C;e[7]!==v?(C=[`${yi}__toggle`,v].filter(Boolean),e[7]=v,e[8]=C):C=e[8];let w=C.join(" "),S=u?0:-1,x;return e[9]!==l||e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==S||e[14]!==b||e[15]!==y||e[16]!==w||e[17]!==m?(x=fP("div",{className:b,id:y,children:[fP("button",{className:w,onClick:m,tabIndex:S,type:"button",children:[pc("div",{className:`${yi}__label`,children:r}),pc("div",{className:`${yi}__indicator`,children:pc(He,{className:`${yi}__indicator`,direction:s?void 0:"up"})})]}),pc(Cr,{duration:l?200:0,height:s?0:"auto",children:pc("div",{className:`${yi}__content`,children:o})})]}),e[9]=l,e[10]=o,e[11]=s,e[12]=r,e[13]=S,e[14]=b,e[15]=y,e[16]=w,e[17]=m,e[18]=x):x=e[18],x}let d;return e[19]!==o?(d=pc(UJ.Fragment,{children:o}),e[19]=o,e[20]=d):d=e[20],d};import{jsx as lm,jsxs as YJ}from"react/jsx-runtime";import hP,{useMemo as JJ,useRef as gP,useState as qJ}from"react";var hc="combobox",QJ=t=>{let{entries:e,minEntriesForSearch:o=8,onSelect:n,onToggleClose:r,onToggleOpen:s,searchPlaceholder:i="Search...",...l}=t,[a,c]=qJ(""),u=gP(!1),d=gP(null),f=JJ(()=>{if(!a)return e;let b=a.toLowerCase();return e.filter(y=>y.name.toLowerCase().includes(b))},[e,a]),m=e.length>=o,p=f.length>0,h=hP.useCallback(b=>{u.current=b,b&&m&&setTimeout(()=>{d.current?.focus()},100),s?.(b)},[m,s]),g=hP.useCallback(()=>{u.current=!1,c(""),r?.()},[r]);return lm(nt,{...l,className:`${hc} ${l.className||""}`,onToggleClose:g,onToggleOpen:h,render:({close:b})=>YJ("div",{className:`${hc}__content`,children:[m&&lm("div",{className:`${hc}__search-wrapper${p?"":` ${hc}__search-wrapper--no-results`}`,children:lm("input",{"aria-label":i,className:`${hc}__search-input`,onChange:y=>c(y.target.value),placeholder:i,ref:d,type:"text",value:a})}),lm(Ie.ButtonGroup,{children:f.map((y,v)=>{let C=()=>{n&&n(y),b()};return lm("div",{className:`${hc}__entry`,onClick:C,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),C())},role:"menuitem",tabIndex:0,children:y.Component},`${y.name}-${v}`)})})]})})};import{jsx as KJ,jsxs as eq}from"react/jsx-runtime";import{formatAdminURL as tq}from"payload/shared";import"react";var oq="browse-by-folder-button";function rq({active:t}){let{t:e}=E(),{config:o}=W(),{admin:{routes:{browseByFolder:n}},routes:{admin:r}}=o;return eq(Xt,{className:[oq,t&&"active"].filter(Boolean).join(" "),href:tq({adminRoute:r,path:n}),id:"browse-by-folder",prefetch:!1,children:[KJ(ar,{}),e("folder:browseByFolder")]})}import{jsx as nq}from"react/jsx-runtime";import pg from"react";var sq=({options:t,...e})=>{let{field:o,field:{name:n,admin:{className:r,isClearable:s=!0,isSortable:i=!0,placeholder:l}={},hasMany:a=!1,label:c,localized:u,required:d},onChange:f,path:m,readOnly:p,validate:h}=e,{t:g}=E(),{folderType:b}=kt(),y=pg.useMemo(()=>!b||b.length===0?zp(t):zp(t.filter(j=>typeof j=="object"&&j.value?b.includes(j.value):!0)),[t,b]),v=pg.useCallback((j,B)=>{if(typeof h=="function")return h(j,{...B,hasMany:a,options:y,required:d})},[h,d,a,y]),{customComponents:{AfterInput:C,BeforeInput:w,Description:S,Error:x,Label:F}={},disabled:I,path:R,selectFilterOptions:D,setValue:_,showError:T,value:A}=$e({potentiallyStalePath:m,validate:v}),$=pg.useCallback(j=>{if(!p||I){let B=null;j&&a?Array.isArray(j)&&j.length>0?B=j.map(N=>N.value):B=null:j&&!Array.isArray(j)&&(B=j.value),typeof f=="function"&&f(B),_(B)}},[p,I,a,_,f]),P=pg.useMemo(()=>Ke(o),[o]);return nq(Wr,{AfterInput:C,BeforeInput:w,className:r,Description:S,description:g("folder:folderTypeDescription"),Error:x,filterOption:D?({value:j})=>D?.some(B=>(typeof B=="string"?B:B.value)===j):void 0,hasMany:a,isClearable:s,isSortable:i,Label:F,label:c,localized:u,name:n,onChange:$,options:y,path:R,placeholder:l,readOnly:p||I,required:d||Array.isArray(b)&&b.length>0,showError:T,style:P,value:A})};import{c as hq}from"react/compiler-runtime";import{jsx as bc,jsxs as PC,Fragment as gq}from"react/jsx-runtime";import{getTranslation as _P}from"@payloadcms/translations";import{extractID as FP}from"payload/shared";import TP from"react";import{jsx as bP}from"react/jsx-runtime";import"react";var gc=()=>bP("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:bP("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});import{jsx as RC,jsxs as fq}from"react/jsx-runtime";import{useDroppable as pq}from"@dnd-kit/core";import IP from"react";import{jsx as iq}from"react/jsx-runtime";import{useDraggable as aq}from"@dnd-kit/core";import{useId as lq,useRef as vP}from"react";var yP="draggable-with-click",hg=({as:t="div",children:e,className:o,disabled:n=!1,onClick:r,onKeyDown:s,ref:i,thresholdPixels:l=3})=>{let a=lq(),{attributes:c,listeners:u,setNodeRef:d}=aq({id:a,disabled:n}),f=vP({x:0,y:0}),m=vP(!1),p=g=>{f.current={x:g.clientX,y:g.clientY},m.current=!1;let b=C=>{let w=Math.abs(C.clientX-f.current.x),S=Math.abs(C.clientY-f.current.y);(w>l||S>l)&&(m.current=!0,u?.onPointerDown&&(u.onPointerDown(g),r(C)),window.removeEventListener("pointermove",b))},y=()=>{window.removeEventListener("pointermove",b),window.removeEventListener("pointerup",v)},v=C=>{y(),m.current||r(C)};window.addEventListener("pointermove",b),window.addEventListener("pointerup",v)};return iq(t||"div",{role:"button",tabIndex:0,...c,className:[yP,o,n?`${yP}--disabled`:""].filter(Boolean).join(" "),onKeyDown:n?void 0:s,onPointerDown:n?void 0:r?p:void 0,ref:g=>{n||(d(g),i&&(i.current=g))},children:e})};import{jsx as zn,jsxs as cq}from"react/jsx-runtime";import"react";var Ps="simple-table",CP=({appearance:t,className:e,headerCells:o,tableRows:n})=>zn("div",{className:[e,Ps,t&&`${Ps}--appearance-${t}`].filter(Boolean).join(" "),children:cq("table",{cellPadding:0,cellSpacing:0,className:`${Ps}__table`,children:[zn(uq,{children:zn(mq,{children:o})}),zn(dq,{children:n})]})}),uq=({children:t,className:e,...o})=>zn("thead",{className:`${Ps}__thead ${e||""}`.trim(),...o,children:t}),dq=({children:t,className:e,...o})=>zn("tbody",{className:`${Ps}__tbody ${e||""}`.trim(),...o,children:t}),mq=({children:t,className:e,...o})=>zn("tr",{className:`${Ps}__tr ${e||""}`.trim(),...o,children:t}),xP=({children:t,className:e,...o})=>zn("td",{className:`${Ps}__td ${e||""}`.trim(),...o,children:t}),wP=({children:t,className:e,...o})=>zn("th",{className:`${Ps}__th ${e||""}`.trim(),...o,children:t}),SP=({children:t,className:e,...o})=>zn("td",{className:`${Ps}__hidden-cell ${e||""}`.trim(),...o,children:t});var Wn="draggable-table-row";function AC({id:t,columns:e,disabled:o=!1,dragData:n,isDroppable:r,isFocused:s,isSelected:i,isSelecting:l,itemKey:a,onClick:c,onKeyDown:u}){let d=!o&&r&&!i,{isOver:f,setNodeRef:m}=pq({id:t,data:n,disabled:!d}),p=IP.useRef(null);return IP.useEffect(()=>{let h=p.current;return s&&p.current?p.current.focus():!s&&p.current&&p.current.blur(),()=>{h&&h.blur()}},[s]),fq(hg,{as:"tr",className:[Wn,i&&`${Wn}--selected`,l&&`${Wn}--selecting`,o&&`${Wn}--disabled`,s&&`${Wn}--focused`,f&&`${Wn}--over`].filter(Boolean).join(" "),onClick:c,onKeyDown:u,ref:p,children:[e.map((h,g)=>RC(xP,{className:[`${Wn}__cell-content`,g===0&&`${Wn}__first-td`,g===e.length-1&&`${Wn}__last-td`].filter(Boolean).join(" "),children:h},`${a}-${g}`)),d?RC(SP,{children:RC("div",{className:`${Wn}__drop-area`,ref:m})}):null]},a)}var DP="folder-file-table";function EC(t){let e=hq(39),{showRelationCell:o}=t,n=o===void 0?!0:o,{checkIfItemIsDisabled:r,documents:s,focusedRowIndex:i,onItemClick:l,onItemKeyPress:a,selectedItemKeys:c,subfolders:u}=kt(),{config:d}=W(),{i18n:f,t:m}=E(),p;e[0]!==d||e[1]!==f?(p=()=>{let v={};return d.collections.forEach(C=>{v[C.slug]={plural:_P(C.labels?.plural,f),singular:_P(C.labels?.singular,f)}}),v},e[0]=d,e[1]=f,e[2]=p):p=e[2];let[h]=TP.useState(p),g;e[3]!==n||e[4]!==m?(g=()=>{let v=[{name:"name",label:m("general:name")},{name:"createdAt",label:m("general:createdAt")},{name:"updatedAt",label:m("general:updatedAt")}];return n&&v.push({name:"type",label:m("version:type")}),v},e[3]=n,e[4]=m,e[5]=g):g=e[5];let[b]=TP.useState(g),y;if(e[6]!==r||e[7]!==b||e[8]!==d||e[9]!==s||e[10]!==i||e[11]!==f||e[12]!==l||e[13]!==a||e[14]!==h||e[15]!==c||e[16]!==u){let v;e[18]!==r||e[19]!==b||e[20]!==d||e[21]!==i||e[22]!==f||e[23]!==l||e[24]!==a||e[25]!==h||e[26]!==c?(v=(w,S)=>{let{itemKey:x,relationTo:F,value:I}=w,R=FP(I);return bc(AC,{columns:b.map((D,_)=>{let{name:T}=D,A="\u2014";return T==="name"&&I._folderOrDocumentTitle!==void 0&&(A=I._folderOrDocumentTitle),(T==="createdAt"||T==="updatedAt")&&I[T]&&(A=Br({date:I[T],i18n:f,pattern:d.admin.dateFormat})),T==="type"&&(A=PC(gq,{children:[h[F]?.singular||F,Array.isArray(w.value?.folderType)?w.value?.folderType.reduce(($,P,j)=>j===0?` \u2014 ${h[P]?.plural||P}`:j>0?`${$}, ${h[P]?.plural||P}`:$,""):""]})),_===0?PC("span",{className:`${DP}__cell-with-icon`,children:[bc(ar,{}),A]},`${x}-${T}`):A}),disabled:r(w),dragData:{id:R,type:"folder"},id:R,isDroppable:!0,isFocused:i===S,isSelected:c.has(x),isSelecting:c.size>0,itemKey:x,onClick:D=>{l({event:D,index:S,item:w})},onKeyDown:D=>{a({event:D,index:S,item:w})}},`${S}-${x}`)},e[18]=r,e[19]=b,e[20]=d,e[21]=i,e[22]=f,e[23]=l,e[24]=a,e[25]=h,e[26]=c,e[27]=v):v=e[27];let C;e[28]!==r||e[29]!==b||e[30]!==d||e[31]!==i||e[32]!==f||e[33]!==l||e[34]!==a||e[35]!==h||e[36]!==c||e[37]!==u.length?(C=(w,S)=>{let{itemKey:x,relationTo:F,value:I}=w,R=FP(I),D=S+u.length;return bc(AC,{columns:b.map((_,T)=>{let{name:A}=_,$="\u2014";return A==="name"&&I._folderOrDocumentTitle!==void 0&&($=I._folderOrDocumentTitle),(A==="createdAt"||A==="updatedAt")&&I[A]&&($=Br({date:I[A],i18n:f,pattern:d.admin.dateFormat})),A==="type"&&($=h[F]?.singular||F),T===0?PC("span",{className:`${DP}__cell-with-icon`,children:[bc(gc,{}),$]},`${x}-${A}`):$}),disabled:r(w),dragData:{id:R,type:"document"},id:R,isFocused:i===D,isSelected:c.has(x),isSelecting:c.size>0,itemKey:x,onClick:_=>{l({event:_,index:D,item:w})},onKeyDown:_=>{a({event:_,index:D,item:w})}},`${D}-${x}`)},e[28]=r,e[29]=b,e[30]=d,e[31]=i,e[32]=f,e[33]=l,e[34]=a,e[35]=h,e[36]=c,e[37]=u.length,e[38]=C):C=e[38],y=bc(CP,{headerCells:b.map(bq),tableRows:[...u.map(v),...s.map(C)]}),e[6]=r,e[7]=b,e[8]=d,e[9]=s,e[10]=i,e[11]=f,e[12]=l,e[13]=a,e[14]=h,e[15]=c,e[16]=u,e[17]=y}else y=e[17];return y}function bq(t){let{name:e,label:o}=t;return bc(wP,{children:o},e)}import{jsx as kC,jsxs as Sq,Fragment as Iq}from"react/jsx-runtime";import"react";import{c as yq}from"react/compiler-runtime";import{jsx as ur,jsxs as gg}from"react/jsx-runtime";import{useDroppable as Cq}from"@dnd-kit/core";import{getTranslation as xq}from"@payloadcms/translations";import LC from"react";import{jsx as NC,jsxs as vq}from"react/jsx-runtime";import"react";function RP({className:t=""}){return vq("div",{className:`icon icon--dots ${t}`.trim(),children:[NC("div",{}),NC("div",{}),NC("div",{})]})}var cr="folder-file-card";function $C({id:t,type:e,className:o="",disabled:n=!1,folderType:r,isDeleting:s=!1,isFocused:i=!1,isSelected:l=!1,itemKey:a,onClick:c,onKeyDown:u,PopupActions:d,previewUrl:f,selectedCount:m=0,title:p}){let h=!t||n||e!=="folder",{isOver:g,setNodeRef:b}=Cq({id:a,data:{id:t,type:e,folderType:r},disabled:h}),y=LC.useRef(null);return LC.useEffect(()=>{let v=y.current;return i&&y.current?y.current.focus():!i&&y.current&&y.current.blur(),()=>{v&&v.blur()}},[i]),gg(hg,{className:[cr,o,l&&`${cr}--selected`,n&&`${cr}--disabled`,s&&`${cr}--deleting`,i&&`${cr}--focused`,g&&`${cr}--over`,`${cr}--${e}`].filter(Boolean).join(" "),disabled:n||!c&&!u,onClick:c,onKeyDown:u,ref:y,children:[h?null:ur("div",{className:`${cr}__drop-area`,ref:b}),e==="file"?ur("div",{className:`${cr}__preview-area`,children:f?ur(_r,{fileSrc:f}):ur(gc,{})}):null,gg("div",{className:`${cr}__titlebar-area`,children:[ur("div",{className:`${cr}__icon-wrap`,children:e==="file"?ur(gc,{}):ur(ar,{})}),gg("div",{className:`${cr}__titlebar-labels`,children:[ur("p",{className:`${cr}__name`,title:p,children:ur("span",{children:p})}),r&&r.length>0?ur(wq,{folderType:r}):null]}),d?ur(nt,{button:ur(RP,{}),disabled:m>1||m===1&&!l,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:d}):null]})]},a)}function wq({folderType:t}){let{config:e}=W(),{i18n:o}=E(),n=LC.useMemo(()=>t.reduce((r,s)=>{let i=e.collections?.find(l=>l.slug===s);return i?[...r,xq(i.labels.plural,o)]:r},[]),[t,e.collections,o]);return ur("p",{className:`${cr}__assigned-collections`,children:n.map((r,s)=>gg("span",{children:[r,s<t.length-1?", ":""]},r))})}function AP(t){let e=yq(18),{type:o,className:n,index:r,item:s}=t,{checkIfItemIsDisabled:i,focusedRowIndex:l,onItemClick:a,onItemKeyPress:c,selectedItemKeys:u}=kt(),d;if(e[0]!==i||e[1]!==n||e[2]!==l||e[3]!==r||e[4]!==s||e[5]!==a||e[6]!==c||e[7]!==u||e[8]!==o){let f=u.has(s.itemKey),m=i(s),p;e[10]!==r||e[11]!==s||e[12]!==a?(p=g=>{a({event:g,index:r,item:s})},e[10]=r,e[11]=s,e[12]=a,e[13]=p):p=e[13];let h;e[14]!==r||e[15]!==s||e[16]!==c?(h=g=>{c({event:g,index:r,item:s})},e[14]=r,e[15]=s,e[16]=c,e[17]=h):h=e[17],d=ur($C,{className:n,disabled:m,folderType:s.value.folderType||[],id:s.value.id,isFocused:l===r,isSelected:f,itemKey:s.itemKey,onClick:p,onKeyDown:h,previewUrl:s.value.url,title:s.value._folderOrDocumentTitle,type:o}),e[0]=i,e[1]=n,e[2]=l,e[3]=r,e[4]=s,e[5]=a,e[6]=c,e[7]=u,e[8]=o,e[9]=d}else d=e[9];return d}var PP="item-card-grid";function bg({type:t,items:e,subfolderCount:o,title:n}){return Sq(Iq,{children:[n&&kC("p",{className:`${PP}__title`,children:n}),kC("div",{className:PP,children:!e||e?.length===0?null:e.map((r,s)=>{let i=s+(o||0),{itemKey:l}=r;return kC(AP,{index:i,item:r,type:t},l)})})]})}import{c as Rq}from"react/compiler-runtime";import{jsx as yg}from"react/jsx-runtime";import{Fragment as EP}from"react";import{c as _q}from"react/compiler-runtime";import{jsx as Fq,jsxs as Tq}from"react/jsx-runtime";import"react";function jC(t){return t===void 0||typeof t=="number"?t:decodeURIComponent(t)}var Dq="id-label",vg=t=>{let e=_q(9),{id:o,className:n,prefix:r}=t,s=r===void 0?"ID:":r,{config:i}=W(),{routes:l}=i,{admin:a}=l,{collectionSlug:c,globalSlug:u}=Ne(),d=jr(),f=`/${c?`collections/${c}`:`globals/${u}`}/${o}`,m;if(e[0]!==a||e[1]!==n||e[2]!==d||e[3]!==o||e[4]!==s||e[5]!==f){let p=Sp({adminRoute:a,path:f}),h;e[7]!==n?(h=[Dq,n].filter(Boolean),e[7]=n,e[8]=h):h=e[8],m=Tq("div",{className:h.join(" "),title:o,children:[s,"\xA0",d>1?Fq(Xt,{href:p,children:jC(o)}):jC(o)]}),e[0]=a,e[1]=n,e[2]=d,e[3]=o,e[4]=s,e[5]=f,e[6]=m}else m=e[6];return m};var BC="render-title",MC=t=>{let e=Rq(10),{className:o,element:n,fallback:r,title:s}=t,i=n===void 0?"h1":n,{id:l,isInitializing:a}=Ne(),{title:c}=Do(),u=s||c||r,d=u===l,f=i,m;if(e[0]!==f||e[1]!==o||e[2]!==l||e[3]!==d||e[4]!==a||e[5]!==u){let p=yg(EP,{children:"\xA0"}),h=d&&`${BC}--has-id`,g;e[7]!==o||e[8]!==h?(g=[o,BC,h].filter(Boolean),e[7]=o,e[8]=h,e[9]=g):g=e[9],m=yg(f,{className:g.join(" "),"data-doc-id":l,title:u,children:a?p:yg(EP,{children:d?yg(vg,{className:`${BC}__id`,id:l}):u||p})}),e[0]=f,e[1]=o,e[2]=l,e[3]=d,e[4]=a,e[5]=u,e[6]=m}else m=e[6];return m};import{c as Aq}from"react/compiler-runtime";import{jsx as vc,jsxs as NP}from"react/jsx-runtime";import"react";var Hn="sort-column",Pq=t=>{let e=Aq(19),{name:o,appearance:n,disable:r,Label:s,label:i}=t,l=r===void 0?!1:r,{handleSortChange:a,query:c}=lt(),{t:u}=E(),{sort:d}=c,f=`-${o}`,m=o,p;e[0]!==m||e[1]!==d?(p=[`${Hn}__asc`],d===m&&p.push(`${Hn}--active`),e[0]=m,e[1]=d,e[2]=p):p=e[2];let h;e[3]!==f||e[4]!==d?(h=[`${Hn}__desc`],d===f&&h.push(`${Hn}--active`),e[3]=f,e[4]=d,e[5]=h):h=e[5];let g=n&&`${Hn}--appearance-${n}`,b;e[6]!==g?(b=[Hn,g].filter(Boolean),e[6]=g,e[7]=b):b=e[7];let y=b.join(" "),v;return e[8]!==s||e[9]!==m||e[10]!==p||e[11]!==f||e[12]!==h||e[13]!==l||e[14]!==a||e[15]!==i||e[16]!==u||e[17]!==y?(v=NP("div",{className:y,children:[vc("span",{className:`${Hn}__label`,children:s??vc(Fe,{hideLocale:!0,label:i,unstyled:!0})}),!l&&NP("div",{className:`${Hn}__buttons`,children:[vc("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:ascending"),label:i}),className:[...p,`${Hn}__button`].filter(Boolean).join(" "),onClick:()=>void a(m),type:"button",children:vc(He,{direction:"up"})}),vc("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:descending"),label:i}),className:[...h,`${Hn}__button`].filter(Boolean).join(" "),onClick:()=>void a(f),type:"button",children:vc(He,{})})]})]}),e[8]=s,e[9]=m,e[10]=p,e[11]=f,e[12]=h,e[13]=l,e[14]=a,e[15]=i,e[16]=u,e[17]=y,e[18]=v):v=e[18],v};import{c as Eq}from"react/compiler-runtime";import{jsx as Cg,jsxs as LP}from"react/jsx-runtime";import{slugify as Nq}from"payload/shared";import{useState as Lq}from"react";var $q=t=>{let e=Eq(18),{field:o,fieldToUse:n,path:r,readOnly:s}=t,{label:i}=o,l=r||o.name,a;e[0]!==l?(a={path:l},e[0]=l,e[1]=a):a=e[1];let{setValue:c,value:u}=$e(a),{getDataByPath:d}=Ge(),[f,m]=Lq(!0),p;e[2]!==n||e[3]!==d||e[4]!==c||e[5]!==u?(p=C=>{C.preventDefault();let w=d(n);if(w){let S=Nq(w);u!==S&&c(S)}else u!==""&&c("")},e[2]=n,e[3]=d,e[4]=c,e[5]=u,e[6]=p):p=e[6];let h=p,g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=C=>{C.preventDefault(),m(kq)},e[7]=g):g=e[7];let b=g,y=`field-${r}`,v;return e[8]!==o.name||e[9]!==h||e[10]!==f||e[11]!==i||e[12]!==r||e[13]!==s||e[14]!==c||e[15]!==y||e[16]!==u?(v=LP("div",{className:"field-type slug-field-component",children:[LP("div",{className:"label-wrapper",children:[Cg(Fe,{htmlFor:y,label:i}),!f&&Cg(te,{buttonStyle:"none",className:"lock-button",onClick:h,children:"Generate"}),Cg(te,{buttonStyle:"none",className:"lock-button",onClick:b,children:f?"Unlock":"Lock"})]}),Cg(nd,{onChange:c,path:r||o.name,readOnly:!!(s||f),value:u})]}),e[8]=o.name,e[9]=h,e[10]=f,e[11]=i,e[12]=r,e[13]=s,e[14]=c,e[15]=y,e[16]=u,e[17]=v):v=e[17],v};function kq(t){return!t}import{jsx as $P}from"react/jsx-runtime";import"react";var jq=()=>$P("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:$P("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})});import{jsx as OC}from"react/jsx-runtime";import"react";var VC="minimize-maximize",Bq=({className:t,isMinimized:e})=>{let o=[VC,e?`${VC}--minimized`:`${VC}--maximized`,t].filter(Boolean).join(" ");return OC("svg",{className:o,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:e?OC("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):OC("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};import{jsx as GC}from"react/jsx-runtime";import"react";var Mq="gear",Oq=({ariaLabel:t,className:e})=>GC("div",{"aria-label":t,className:[e,Mq].filter(Boolean).join(" "),children:GC("svg",{className:"icon icon--gear",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:GC("path",{d:"M9.33337 8.84671L6.66671 4.22671M9.33337 11.1534L6.66671 15.7734M10 16.6667V15.3334M10 15.3334C12.9456 15.3334 15.3334 12.9456 15.3334 10C15.3334 7.05452 12.9456 4.66671 10 4.66671M10 15.3334C7.05452 15.3334 4.66671 12.9456 4.66671 10M10 3.33337V4.66671M10 4.66671C7.05452 4.66671 4.66671 7.05452 4.66671 10M11.3334 10H16.6667M11.3334 10C11.3334 10.7364 10.7364 11.3334 10 11.3334C9.26366 11.3334 8.66671 10.7364 8.66671 10C8.66671 9.26366 9.26366 8.66671 10 8.66671C10.7364 8.66671 11.3334 9.26366 11.3334 10ZM13.3334 15.7734L12.6667 14.62M13.3334 4.22671L12.6667 5.38004M3.33337 10H4.66671M15.7734 13.3334L14.62 12.6667M15.7734 6.66671L14.62 7.33337M4.22671 13.3334L5.38004 12.6667M4.22671 6.66671L5.38004 7.33337",strokeLinecap:"round",strokeLinejoin:"round"})})});import{jsx as cm,jsxs as Vq}from"react/jsx-runtime";import"react";function Gq(){return Vq("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[cm("g",{filter:"url(#filter0_d_278_1086)",children:cm("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),cm("defs",{children:cm("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:cm("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}import{jsx as xg,jsxs as zq}from"react/jsx-runtime";import"react";var zC=()=>zq("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[xg("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),xg("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),xg("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),xg("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as kP}from"react/jsx-runtime";import"react";var WC=()=>kP("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:kP("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})});import{jsx as jP,jsxs as Wq}from"react/jsx-runtime";import"react";var HC=()=>Wq("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[jP("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),jP("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as BP,jsxs as Hq}from"react/jsx-runtime";import"react";var UC=()=>Hq("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[BP("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),BP("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as MP,jsxs as Uq}from"react/jsx-runtime";import"react";var XC=()=>Uq("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[MP("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),MP("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as OP,jsxs as Xq}from"react/jsx-runtime";import"react";var ZC=()=>Xq("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[OP("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),OP("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{c as GP}from"react/compiler-runtime";import{jsx as VP}from"react/jsx-runtime";import yc from"react";var zP=yc.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),WP=yc.createContext({}),YC=t=>{let e=GP(6),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=yc.useState(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{s(f=>{let m={...f};return m[d.key]=d.func,m})},e[1]=i):i=e[1];let l=i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=d=>{s(f=>{let m={...f};return delete m[d.key],m})},e[2]=a):a=e[2];let c=a,u;return e[3]!==o||e[4]!==r?(u=VP(zP,{value:{addClientFunction:l,removeClientFunction:c},children:VP(WP,{value:r,children:o})}),e[3]=o,e[4]=r,e[5]=u):u=e[5],u},Zq=(t,e)=>{let o=GP(6),{addClientFunction:n,removeClientFunction:r}=yc.use(zP),s,i;o[0]!==n||o[1]!==e||o[2]!==t||o[3]!==r?(s=()=>(n({func:e,key:t}),()=>{r({func:e,key:t})}),i=[e,t,n,r],o[0]=n,o[1]=e,o[2]=t,o[3]=r,o[4]=s,o[5]=i):(s=o[4],i=o[5]),yc.useEffect(s,i)},Yq=()=>yc.use(WP);import{jsx as JP}from"react/jsx-runtime";import{DndContext as eQ}from"@dnd-kit/core";import qC,{useCallback as wg,useEffect as um,useMemo as tQ,useRef as oQ,useState as Un}from"react";import{c as Jq}from"react/compiler-runtime";import{useEffect as HP,useRef as UP,useState as qq}from"react";var XP=t=>{let e=Jq(15),{eventType:o,onMessage:n,url:r}=t,s=UP(!1),[i,l]=qq(!1),{config:a}=W(),{serverURL:c}=a,u=UP(null),d,f;e[0]!==o||e[1]!==i||e[2]!==n||e[3]!==c||e[4]!==r?(d=()=>{let y=async v=>{v.origin!==window.location.origin||v.origin!==r||v.origin!==c||typeof n=="function"&&v.data?.type===o&&!s.current&&(s.current=!0,await n(v.data?.searchParams),s.current=!1)};return i&&u.current&&window.addEventListener("message",y,!1),()=>{window.removeEventListener("message",y)}},f=[n,o,r,c,i],e[0]=o,e[1]=i,e[2]=n,e[3]=c,e[4]=r,e[5]=d,e[6]=f):(d=e[5],f=e[6]),HP(d,f);let m;e[7]!==r?(m=y=>{y&&y.preventDefault();let v={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},C=Object.entries(v).reduce((S,x)=>{let[F,I]=x,R=S;if(I==="auto"){if(F==="top"){let D=Math.round(window.innerHeight/2-v.height/2);R=R+`top=${D},`}else if(F==="left"){let D=Math.round(window.innerWidth/2-v.width/2);R=R+`left=${D},`}return R}return R=R+`${F}=${I},`,R},"").slice(0,-1),w=window.open(r,"_blank",C);u.current=w,l(!0)},e[7]=r,e[8]=m):m=e[8];let p=m,h,g;e[9]!==i?(h=()=>{let y;return i?y=setInterval(function(){u.current.closed&&(clearInterval(y),l(!1))},1e3):clearInterval(y),()=>{y&&clearInterval(y)}},g=[i,u],e[9]=i,e[10]=h,e[11]=g):(h=e[10],g=e[11]),HP(h,g);let b;return e[12]!==i||e[13]!==p?(b={isPopupOpen:i,openPopupWindow:p,popupRef:u},e[12]=i,e[13]=p,e[14]=b):b=e[14],b};var Qq=t=>{try{return new URL(t,window.location.origin).href}catch{return t}},JC=t=>t?.startsWith("http://")||t?.startsWith("https://")?t:Qq(t);import{rectIntersection as Kq}from"@dnd-kit/core";var ZP=({collisionRect:t,droppableContainers:e,...o})=>{let n=e.find(({id:l})=>l==="live-preview-area"),r=Kq({...o,collisionRect:t,droppableContainers:[n]});if(r.length===0)return r;let s=n?.rect?.current;if(t.top>=s.top&&t.left>=s.left&&t.bottom<=s.bottom&&t.right<=s.right)return r};var YP=(t,e)=>{switch(e.type){case"height":return{...t,height:e.value};case"width":return{...t,width:e.value};default:return{...t,...e?.value||{}}}};var rQ=({breakpoints:t,children:e,isLivePreviewEnabled:o,isLivePreviewing:n,isPreviewEnabled:r,previewURL:s,typeofLivePreviewURL:i,url:l})=>{let[a,c]=Un("iframe"),[u,d]=Un(n),f=tQ(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[m,p]=Un(""),[h,g]=Un(s),{isPopupOpen:b,openPopupWindow:y,popupRef:v}=XP({eventType:"payload-live-preview",url:m}),[C,w]=Un(!1),[S,x]=Un(!1),{collectionSlug:F,globalSlug:I}=Ne(),R=oQ(!0),{setPreference:D}=Ot(),_=qC.useRef(null),[T,A]=Un(),[$,P]=Un(1),[j,B]=Un({x:0,y:0}),[N,L]=qC.useReducer(YP,{height:0,width:0}),[M,k]=Un({height:0,width:0}),[O,V]=qC.useState("responsive"),G=wg(X=>{let ie;typeof X=="string"&&(ie=JC(X)),ie||d(!1),ie!==m&&(w(!1),p(ie))},[m]);um(()=>{typeof l=="string"&&p(JC(l))},[l]);let H=X=>{if(X.over&&X.over.id==="live-preview-area"){let ie={x:j.x+X.delta.x,y:j.y+X.delta.y};B(ie)}},z=wg(X=>{L({type:"width",value:X})},[L]),Q=wg(X=>{L({type:"height",value:X})},[L]);um(()=>{let X=f?.find(ie=>ie.name===O);X&&O!=="responsive"&&O!=="custom"&&typeof X?.width=="number"&&typeof X?.height=="number"&&L({type:"reset",value:{height:X.height,width:X.width}})},[O,f]),um(()=>{let X=ie=>{m?.startsWith(ie.origin)&&ie.data&&typeof ie.data=="object"&&ie.data.type==="payload-live-preview"&&ie.data.ready&&w(!0)};return window.addEventListener("message",X),x(!0),()=>{window.removeEventListener("message",X)}},[m,S]);let J=wg(X=>{w(!1),c(X),X==="popup"&&y()},[y]);return um(()=>{(b?"popup":"iframe")!==a&&J("iframe")},[a,b,J]),um(()=>{if(R.current){R.current=!1;return}D(F?`collection-${F}`:`global-${I}`,{editViewType:u?"live-preview":"default"},!0)},[u,D,F,I]),JP(zh,{value:{appIsReady:C,breakpoint:O,breakpoints:f,iframeRef:_,isLivePreviewEnabled:o,isLivePreviewing:u,isPopupOpen:b,isPreviewEnabled:r,listeningForMessages:S,loadedURL:T,measuredDeviceSize:M,openPopupWindow:y,popupRef:v,previewURL:h,previewWindowType:a,setAppIsReady:w,setBreakpoint:V,setHeight:Q,setIsLivePreviewing:d,setLoadedURL:A,setMeasuredDeviceSize:k,setPreviewURL:g,setPreviewWindowType:J,setSize:L,setToolbarPosition:B,setURL:G,setWidth:z,setZoom:P,size:N,toolbarPosition:j,typeofLivePreviewURL:i,url:m,zoom:$},children:JP(eQ,{collisionDetection:ZP,onDragEnd:H,children:e})})};import{c as nQ}from"react/compiler-runtime";import{jsx as qP}from"react/jsx-runtime";import sQ,{useEffect as iQ,useRef as aQ}from"react";var QP=200,QC="progress-bar",lQ=150,cQ=()=>{let t=nQ(9),{isTransitioning:e,transitionProgress:o}=Ze(),[n,r]=sQ.useState(null),s=aQ(!0),i,l;if(t[0]!==e||t[1]!==o?(i=()=>{let a,c;return e?s.current?c=setTimeout(()=>{r(o),s.current=!1},lQ):r(o):(s.current=!0,r(1),a=setTimeout(()=>{r(null)},QP*2)),()=>{clearTimeout(a),clearTimeout(c)}},l=[e,o],t[0]=e,t[1]=o,t[2]=i,t[3]=l):(i=t[2],l=t[3]),iQ(i,l),typeof n=="number"){let a=n===1&&`${QC}--fade-out`,c;t[4]!==a?(c=[QC,a].filter(Boolean),t[4]=a,t[5]=c):c=t[5];let u=c.join(" "),d;return t[6]!==n||t[7]!==u?(d=qP("div",{className:u,style:{"--transition-duration":`${QP}ms`},children:qP("div",{className:`${QC}__progress`,style:{width:`${(n||0)*100}%`}})}),t[6]=n,t[7]=u,t[8]=d):d=t[8],d}return null};import{c as uQ}from"react/compiler-runtime";import{jsx as dQ}from"react/jsx-runtime";import{createContext as mQ,use as fQ}from"react";var KP=mQ({}),pQ=t=>{let e=uQ(6),{children:o,visibleEntities:n}=t,r;e[0]!==n?(r=l=>{let{collectionSlug:a,globalSlug:c}=l;return a?n.collections.includes(a):c?n.globals.includes(c):!1},e[0]=n,e[1]=r):r=e[1];let s=r,i;return e[2]!==o||e[3]!==s||e[4]!==n?(i=dQ(KP,{value:{isEntityVisible:s,visibleEntities:n},children:o}),e[2]=o,e[3]=s,e[4]=n,e[5]=i):i=e[5],i},KC=()=>fQ(KP);import{c as hQ}from"react/compiler-runtime";import{jsx as gQ}from"react/jsx-runtime";import{useParams as bQ}from"next/navigation.js";import{createContext as vQ,use as yQ}from"react";var e5=vQ({}),ex=t=>{let e=hQ(3),{children:o}=t,n=bQ(),r;return e[0]!==o||e[1]!==n?(r=gQ(e5,{value:n,children:o}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r},CQ=()=>yQ(e5);import{c as $Q}from"react/compiler-runtime";import{jsx as Wt,jsxs as n5}from"react/jsx-runtime";import{DndContext as kQ,pointerWithin as jQ}from"@dnd-kit/core";import tst,{Fragment as ost}from"react";import{useContext as wQ}from"react";import{createContext as xQ}from"react";var dm=xQ({});var mm=()=>wQ(dm);import SQ,{useCallback as IQ,useEffect as _Q,useReducer as FQ,useRef as TQ}from"react";var DQ=(t,e)=>{let{timestamp:o,animationRef:n}=e;n.current=null;let{x:r,y:s,xDirection:i,yDirection:l,eventsFired:a,hasScrolled:c}=t,u=c||!!o,d=u?window.pageXOffset:0,f=u?window.pageYOffset:0,m=u?a+1:a,p=d-r,h=f-s,g=d/(document.body.scrollWidth-window.innerWidth)*100,b=f/(document.body.scrollHeight-window.innerHeight)*100,y=(g+b)/2,v=p>0?"right":p<0?"left":i,C=h>0?"down":h<0?"up":l;return{x:d,y:f,xDifference:p,yDifference:h,xDirection:v,yDirection:C,xPercentage:g,yPercentage:b,totalPercentage:y,eventsFired:m,hasScrolled:u}},fm=t=>{let{children:e}=t,o=TQ(null),[n,r]=FQ(DQ,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),s=IQ(i=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(l=>{r({e:i,timestamp:l,animationRef:o})})},[]);return _Q(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),SQ.createElement(dm.Provider,{value:Object.assign({},n)},e&&e)};import cst from"react";import BQ from"react";var{WindowInfoProvider:tx}=Gs&&"WindowInfoProvider"in Gs?Gs:{WindowInfoProvider:void 0},{useWindowInfo:Pa}=Gs&&"useWindowInfo"in Gs?Gs:{useWindowInfo:void 0};import{jsx as RQ}from"react/jsx-runtime";import{useSearchParams as AQ}from"next/navigation.js";import*as Sg from"qs-esm";import t5,{createContext as PQ,use as EQ}from"react";var NQ={searchParams:{},stringifyParams:()=>""},o5=PQ(NQ),ox=({children:t})=>{let o=AQ().toString(),n=t5.useMemo(()=>Sg.parse(o,{depth:10,ignoreQueryPrefix:!0}),[o]),r=t5.useCallback(({params:s,replace:i=!1})=>Sg.stringify({...i?{}:n,...s},{addQueryPrefix:!0}),[n]);return RQ(o5,{value:{searchParams:n,stringifyParams:r},children:t})},LQ=()=>EQ(o5);import{jsx as pm}from"react/jsx-runtime";import"react";var r5=({config:t})=>{let{admin:{toast:{duration:e,expand:o,limit:n,position:r}={}}={}}=t;return pm(Hx,{className:"payload-toast-container",closeButton:!0,dir:"undefined",duration:e??4e3,expand:o??!1,gap:8,icons:{error:pm(HC,{}),info:pm(UC,{}),success:pm(XC,{}),warning:pm(ZC,{})},offset:"calc(var(--gutter-h) / 2)",position:r??"bottom-right",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:n??5})};var MQ=t=>{let e=$Q(16),{children:o,config:n,dateFNSKey:r,fallbackLang:s,isNavOpen:i,languageCode:l,languageOptions:a,locale:c,permissions:u,serverFunction:d,switchLanguageServerAction:f,theme:m,translations:p,user:h}=t,g=BQ.useId(),b;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==g||e[4]!==s||e[5]!==i||e[6]!==l||e[7]!==a||e[8]!==c||e[9]!==u||e[10]!==d||e[11]!==f||e[12]!==m||e[13]!==p||e[14]!==h?(b=n5(O6,{children:[Wt(_v,{serverFunction:d,children:Wt(pb,{children:Wt(_0,{cachingEnabled:process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH==="true",children:Wt(Ug,{config:n,children:Wt(YC,{children:Wt(Hg,{dateFNSKey:r,fallbackLang:s,language:l,languageOptions:a,switchLanguageServerAction:f,translations:p,children:Wt(tx,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:Wt(fm,{children:Wt(ox,{children:Wt(Wb,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:n5(Yb,{permissions:u,user:h,children:[Wt(Qb,{children:Wt(Zg,{theme:m,children:Wt(ex,{children:Wt(Kb,{locale:c,children:Wt(Cy,{children:Wt(RF,{children:Wt(I0,{children:Wt(vy,{initialIsOpen:i,children:Wt(f0,{children:Wt(kQ,{collisionDetection:jQ,id:g,children:o})})})})})})})})})}),Wt(Vb,{}),Wt(f2,{})]})})})})})})})})})})}),Wt(r5,{config:n})]}),e[0]=o,e[1]=n,e[2]=r,e[3]=g,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c,e[9]=u,e[10]=d,e[11]=f,e[12]=m,e[13]=p,e[14]=h,e[15]=b):b=e[15],b};import{jsx as Ig,jsxs as OQ}from"react/jsx-runtime";import{email as VQ,getFieldPermissions as GQ,username as zQ}from"payload/shared";import"react";var WQ="login-fields";function rx(t){let{className:e,loginWithUsername:o,operation:n,permissions:r,readOnly:s,t:i}=t;function l(p,h){return GQ({field:{name:p,type:"text"},operation:n==="create"?"create":h,parentName:"",permissions:r}).operation}let a=typeof r=="object"&&"email"in r&&r.email,c=typeof r=="object"&&"username"in r&&r.username,u=a?{read:l("email","read"),update:l("email","update")}:{read:!0,update:!0},d=c?{read:l("username","read"),update:l("username","update")}:{read:!0,update:!0},f=(!o||o?.requireEmail||o?.allowEmailLogin)&&u.read,m=!!o&&d.read;if(f||m)return OQ("div",{className:[WQ,e&&e].filter(Boolean).join(" "),children:[f?Ig(us,{value:"email",children:Ig(Ki,{field:{name:"email",admin:{autoComplete:"off"},label:i("general:email"),required:!o||o&&o.requireEmail},path:"email",readOnly:s||!u.update,schemaPath:"email",validate:VQ})}):null,m&&Ig(us,{value:"username",children:Ig(la,{field:{name:"username",admin:{autoComplete:"off"},label:i("authentication:username"),required:o&&o.requireUsername},path:"username",readOnly:s||!d.update,schemaPath:"username",validate:zQ})})]})}import{c as HQ}from"react/compiler-runtime";import{jsx as UQ}from"react/jsx-runtime";import"react";var s5="select-all",XQ=()=>{let t=HQ(7),{selectAll:e,toggleAll:o}=vo(),{i18n:n}=E(),r;if(t[0]!==n||t[1]!==e||t[2]!==o){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[s5,`${s5}__checkbox`],t[4]=s):s=t[4];let i;t[5]!==o?(i=()=>o(),t[5]=o,t[6]=i):i=t[6],r=UQ(uo,{"aria-label":e===zt.None?n.t("general:selectAllRows"):n.t("general:deselectAllRows"),checked:e===zt.AllInPage||e===zt.AllAvailable,className:s.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:e===zt.Some}),t[0]=n,t[1]=e,t[2]=o,t[3]=r}else r=t[3];return r};import{c as ZQ}from"react/compiler-runtime";import{jsx as i5}from"react/jsx-runtime";import"react";var a5="select-row",YQ=t=>{let e=ZQ(13),{rowData:o}=t,{user:n}=_e(),{selected:r,setSelection:s}=vo(),i;if(e[0]!==o||e[1]!==n?.id){i=Symbol.for("react.early_return_sentinel");e:{let{_isLocked:f,_userEditing:m}=o||{};if(f&&m&&m.id!==n?.id){i=i5(Zd,{user:m});break e}}e[0]=o,e[1]=n?.id,e[2]=i}else i=e[2];if(i!==Symbol.for("react.early_return_sentinel"))return i;let l;e[3]!==o.id||e[4]!==r?(l=r.get(o.id),e[3]=o.id,e[4]=r,e[5]=l):l=e[5];let a=!!l,c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=[a5,`${a5}__checkbox`],e[6]=c):c=e[6];let u;e[7]!==o.id||e[8]!==s?(u=()=>s(o.id),e[7]=o.id,e[8]=s,e[9]=u):u=e[9];let d;return e[10]!==a||e[11]!==u?(d=i5(uo,{checked:a,className:c.join(" "),onToggle:u}),e[10]=a,e[11]=u,e[12]=d):d=e[12],d};import{jsx as JQ}from"react/jsx-runtime";import"react";var Cc=t=>{let{onClick:e}=t,{count:o,selected:n}=vo();return!n||!o?null:JQ(it,{onClick:()=>{typeof e=="function"&&e(n)},pillStyle:"white",size:"small",children:`Select ${o}`})};import{jsx as Kt,jsxs as hm}from"react/jsx-runtime";import{getTranslation as gm}from"@payloadcms/translations";import{useRouter as qQ}from"next/navigation.js";import{formatAdminURL as QQ,formatFilesize as KQ}from"payload/shared";import l5,{Fragment as c5,useEffect as eK}from"react";var Ci="collection-list";function tK(t){let{AfterList:e,AfterListTable:o,beforeActions:n,BeforeList:r,BeforeListTable:s,collectionSlug:i,columnState:l,Description:a,disableBulkDelete:c,disableBulkEdit:u,disableQueryPresets:d,enableRowSelections:f,hasCreatePermission:m,hasDeletePermission:p,listMenuItems:h,newDocumentURL:g,queryPreset:b,queryPresetPermissions:y,renderedFilters:v,resolvedFilterOptions:C,Table:w,viewType:S}=t,[x]=Nr(w),{allowCreate:F,createNewDrawerSlug:I,isInDrawer:R,onBulkSelect:D}=wr(),_=F!==void 0?F&&m:m,{config:{routes:{admin:T}},getEntityConfig:A}=W(),$=qQ(),{data:P,isGroupingBy:j}=lt(),{openModal:B}=ae(),{drawerSlug:N,setCollectionSlug:L,setOnSuccess:M}=Bo(),k=A({collectionSlug:i}),{labels:O,upload:V}=k,G=!!V,H=G&&k.upload.bulkUpload,z=!!k.trash,{i18n:Q}=E(),{setStepNav:J}=Ar(),{breakpoints:{s:X}}=Pa(),ie=l5.useMemo(()=>G?P.docs.map(re=>({...re,filesize:KQ(re.filesize)})):P?.docs,[P?.docs,G]),U=l5.useCallback(()=>{L(i),B(N),M(()=>$.refresh())},[$,i,N,B,L,M]);return eK(()=>{if(!R){let re={label:gm(O?.plural,Q),url:z&&S==="trash"?QQ({adminRoute:T,path:`/collections/${i}`}):void 0},ce={label:Q.t("general:trash")};J(z&&S==="trash"?[re,ce]:[re])}},[T,J,O,R,z,S,Q,i]),hm(c5,{children:[Kt(Du,{collectionSlug:i,columnState:l,children:Kt("div",{className:`${Ci} ${Ci}--${i}`,children:hm(_y,{docs:ie,totalDocs:P?.totalDocs,children:[r,hm(wo,{className:`${Ci}__wrap`,children:[Kt(SC,{collectionConfig:k,Description:Kt("div",{className:`${Ci}__sub-header`,children:Kt(ue,{CustomComponent:a,Fallback:Kt(sy,{collectionSlug:i,description:k?.admin?.description})})}),disableBulkDelete:c,disableBulkEdit:u,hasCreatePermission:_,hasDeletePermission:p,i18n:Q,isBulkUploadEnabled:H&&!V.hideFileInputOnCreate,isTrashEnabled:z,newDocumentURL:g,openBulkUpload:U,smallBreak:X,viewType:S}),Kt(uC,{beforeActions:f&&typeof D=="function"?n?[...n,Kt(Cc,{onClick:D},"select-many")]:[Kt(Cc,{onClick:D},"select-many")]:n,collectionConfig:k,collectionSlug:i,disableQueryPresets:k?.enableQueryPresets!==!0||d,listMenuItems:h,queryPreset:b,queryPresetPermissions:y,renderedFilters:v,resolvedFilterOptions:C}),s,ie?.length>0&&Kt("div",{className:`${Ci}__tables`,children:Kt(Eu,{children:x})}),ie?.length===0&&hm("div",{className:`${Ci}__no-results`,children:[Kt("p",{children:Q.t(S==="trash"?"general:noTrashResults":"general:noResults",{label:gm(O?.plural,Q)})}),_&&g&&S!=="trash"&&Kt(c5,{children:R?Kt(te,{el:"button",onClick:()=>B(I),children:Q.t("general:createNewLabel",{label:gm(O?.singular,Q)})}):Kt(te,{el:"link",to:g,children:Q.t("general:createNewLabel",{label:gm(O?.singular,Q)})})})]}),o,ie?.length>0&&!j&&Kt(fg,{AfterPageControls:X?hm("div",{className:`${Ci}__list-selection`,children:[Kt(Da,{collectionConfig:k,disableBulkDelete:c,disableBulkEdit:u,label:gm(k.labels.plural,Q),showSelectAllAcrossPages:!j}),Kt("div",{className:`${Ci}__list-selection-actions`,children:f&&typeof D=="function"?n?[...n,Kt(Cc,{onClick:D},"select-many")]:[Kt(Cc,{onClick:D},"select-many")]:n})]}):null,collectionConfig:k})]}),e]})})}),ie?.length>0&&j&&P.totalPages>1&&Kt(TC,{children:Kt(fg,{collectionConfig:k})})]})}import{c as y5}from"react/compiler-runtime";import{jsx as go,jsxs as vm}from"react/jsx-runtime";import{useDndMonitor as bK}from"@dnd-kit/core";import{getTranslation as Ea}from"@payloadcms/translations";import{useRouter as vK}from"next/navigation.js";import{formatAdminURL as v5}from"payload/shared";import yK,{Fragment as CK}from"react";import{jsx as Xn,jsxs as u5,Fragment as oK}from"react/jsx-runtime";import{getTranslation as d5}from"@payloadcms/translations";import{useRouter as rK}from"next/navigation.js";import nK from"react";var nx="move-to-folder--current-folder",m5="confirm-many-delete",sK="current-folder-actions";function _g({className:t}){let e=rK(),{startRouteTransition:o}=Ze(),{breadcrumbs:n,currentFolder:r,folderCollectionConfig:s,folderCollectionSlug:i,folderFieldName:l,folderID:a,getFolderRoute:c,moveToFolder:u}=kt(),[d,,{closeDrawer:f,openDrawer:m}]=Dt({id:a,collectionSlug:i}),{clearRouteCache:p}=pt(),{config:h}=W(),{routes:g,serverURL:b}=h,{closeModal:y,openModal:v}=ae(),{i18n:C,t:w}=E(),S=nK.useCallback(async()=>{await fetch(`${b}${g.api}/${i}/${a}?depth=0`,{credentials:"include",method:"DELETE"}),o(()=>{e.push(c(n[n.length-2]?.id||null))})},[n,i,a,c,e,b,g.api,o]);return a?u5(oK,{children:[Xn(nt,{button:Xn(qh,{}),className:[sK,t].filter(Boolean).join(" "),render:()=>u5(Ie.ButtonGroup,{children:[Xn(Ie.Button,{onClick:()=>{m()},children:w("general:editLabel",{label:d5(s.labels.singular,C)})}),Xn(Ie.Button,{onClick:()=>{v(nx)},children:w("folder:moveFolder")}),Xn(Ie.Button,{onClick:()=>{v(m5)},children:w("folder:deleteFolder")})]})}),Xn(zl,{action:"moveItemToFolder",drawerSlug:nx,folderAssignedCollections:r?.value.folderType,folderCollectionSlug:i,folderFieldName:l,fromFolderID:r?.value.id,fromFolderName:r?.value._folderOrDocumentTitle,itemsToMove:[r],onConfirm:async({id:x,name:F})=>{await u({itemsToMove:[r],toFolderID:x}),x?oe.success(w("folder:itemHasBeenMoved",{folderName:`"${F}"`,title:r.value._folderOrDocumentTitle})):oe.success(w("folder:itemHasBeenMovedToRoot",{title:r.value._folderOrDocumentTitle})),y(nx)},title:r.value._folderOrDocumentTitle}),Xn(et,{body:Xn(Jt,{elements:{1:({children:x})=>Xn("strong",{children:x})},i18nKey:"general:aboutToDelete",t:w,variables:{label:d5(s.labels.singular,C),title:r.value._folderOrDocumentTitle}}),confirmingLabel:w("general:deleting"),heading:w("general:confirmDeletion"),modalSlug:m5,onConfirm:S}),Xn(d,{onSave:()=>{f(),p()}})]}):null}import{jsx as Fg,jsxs as iK}from"react/jsx-runtime";import{DragOverlay as aK}from"@dnd-kit/core";var sx="drag-overlay-selection";function Tg({item:t,selectedCount:e}){return Fg(aK,{dropAnimation:null,modifiers:[lK],style:{height:"unset",maxWidth:"220px"},children:iK("div",{className:`${sx}__cards`,children:[Array.from({length:e>1?2:1}).map((o,n)=>Fg("div",{className:`${sx}__card`,style:{right:`${n*3}px`,top:`-${n*3}px`},children:Fg($C,{id:null,isSelected:!0,itemKey:"overlay-card",title:t.value._folderOrDocumentTitle,type:"folder"})},n)),e>1?Fg("span",{className:`${sx}__card-count`,children:e}):null]})})}var lK=({activatorEvent:t,draggingNodeRect:e,transform:o})=>{if(e&&t){let n=Rw(t);if(!n)return o;let r=n.x-e.left,s=n.y-e.top;return{...o,x:o.x+r+5,y:o.y+s+5}}return o};import{jsx as Er,jsxs as Dg,Fragment as ax}from"react/jsx-runtime";import"react";var bm="sort-by-pill",ix=[{label:t=>t("general:name"),value:"name"},{label:t=>t("general:createdAt"),value:"createdAt"},{label:t=>t("general:updatedAt"),value:"updatedAt"}],f5=[{label:t=>Dg(ax,{children:[Er(Z0,{}),t("general:ascending")]}),value:"asc"},{label:t=>Dg(ax,{children:[Er(Nd,{}),t("general:descending")]}),value:"desc"}];function Rg(){let{refineFolderData:t,sort:e}=kt(),{t:o}=E(),n=e.startsWith("-")?"desc":"asc",[r]=ix.filter(({value:i})=>i===(e.startsWith("-")?e.slice(1):e))||ix,[s]=f5.filter(({value:i})=>i===n);return Er(nt,{button:Dg(it,{className:`${bm}__trigger`,icon:Er(He,{}),size:"small",children:[n==="asc"?Er(Z0,{className:`${bm}__sort-icon`}):Er(Nd,{className:`${bm}__sort-icon`}),r?.label(o)]}),className:bm,horizontalAlign:"right",render:({close:i})=>Dg(ax,{children:[Er(Ie.GroupLabel,{label:"Sort by"}),Er(Ie.ButtonGroup,{children:ix.map(({label:l,value:a})=>Er(Ie.Button,{active:r?.value===a,onClick:()=>{t({query:{page:"1",sort:n==="desc"?`-${a}`:a},updateURL:!0}),i()},children:l(o)},a))}),Er(Ie.Divider,{}),Er(Ie.GroupLabel,{label:"Order"}),Er(Ie.ButtonGroup,{children:f5.map(({label:l,value:a})=>Er(Ie.Button,{active:s?.value===a,className:`${bm}__order-option`,onClick:()=>{n!==a&&(t({query:{page:"1",sort:a==="desc"?`-${r?.value}`:r?.value},updateURL:!0}),i())},children:l(o)},a))})]}),showScrollbar:!0,verticalAlign:"bottom"})}import{jsx as Ag,jsxs as cK,Fragment as uK}from"react/jsx-runtime";var Pg="folder-view-toggle-button";function Eg({activeView:t,setActiveView:e}){return cK(uK,{children:[Ag(te,{buttonStyle:"pill",className:[Pg,t==="grid"&&`${Pg}--active`].filter(Boolean).join(" "),icon:Ag(zC,{}),margin:!1,onClick:()=>{e("grid")}}),Ag(te,{buttonStyle:"pill",className:[Pg,t==="list"&&`${Pg}--active`].filter(Boolean).join(" "),icon:Ag(WC,{}),margin:!1,onClick:()=>{e("list")}})]})}import{c as fK}from"react/compiler-runtime";import{jsx as Es,jsxs as g5}from"react/jsx-runtime";import{extractID as b5}from"payload/shared";import pK,{Fragment as hK}from"react";import{jsx as p5,jsxs as dK,Fragment as mK}from"react/jsx-runtime";var h5=({id:t,folderCollectionSlug:e})=>{let{clearRouteCache:o}=pt(),{t:n}=E(),[r,,{closeDrawer:s,openDrawer:i}]=Dt({id:t,collectionSlug:e});return t?dK(mK,{children:[p5(Qt,{onClick:i,type:"button",children:n("general:edit")}),p5(r,{onSave:()=>{s(),o()}})]}):null};var Ng="move-to-folder--list",Lg=t=>{let e=fK(17),{disableBulkDelete:o,disableBulkEdit:n,folderAssignedCollections:r}=t,{clearSelections:s,currentFolder:i,folderCollectionSlug:l,folderFieldName:a,folderID:c,getSelectedItems:u,moveToFolder:d}=kt(),{clearRouteCache:f}=pt(),{config:m}=W(),{t:p}=E(),{closeModal:h,openModal:g}=ae(),b,y;if(e[0]!==f||e[1]!==s||e[2]!==h||e[3]!==m||e[4]!==i?.value?._folderOrDocumentTitle||e[5]!==o||e[6]!==n||e[7]!==r||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==d||e[13]!==g||e[14]!==p){y=Symbol.for("react.early_return_sentinel");e:{let v=u(),C=v.reduce(gK,{}),w=v.length,S=Object.keys(C).length===1&&Object.keys(C)[0]!==l,x=S?m.collections.find(I=>I.slug===Object.keys(C)[0]):null;if(w===0){y=null;break e}let F=S?C[Object.keys(C)[0]]?.ids||[]:[];b=Es(Gh,{count:w,ListActions:[w>0&&Es(Qt,{onClick:()=>s(),children:p("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!n&&F.length&&g5(hK,{children:[Es(Qd,{collection:x,count:w,ids:F,selectAll:!1}),Es(nm,{collection:x,count:w,ids:F,selectAll:!1}),Es(sm,{collection:x,count:w,ids:F,selectAll:!1})]},"bulk-actions"),w===1&&!S&&Es(h5,{folderCollectionSlug:l,id:C[l].ids[0]},"edit-folder-action"),w>0?g5(pK.Fragment,{children:[Es(Qt,{onClick:()=>{g(Ng)},type:"button",children:p("general:move")}),Es(zl,{action:"moveItemsToFolder",drawerSlug:Ng,folderAssignedCollections:r,folderCollectionSlug:l,folderFieldName:a,fromFolderID:c,fromFolderName:i?.value?._folderOrDocumentTitle,itemsToMove:u(),onConfirm:async I=>{let{id:R,name:D}=I;await d({itemsToMove:u(),toFolderID:R}),R?oe.success(p("folder:itemsMovedToFolder",{folderName:`"${D}"`,title:`${w} ${w>1?p("general:items"):p("general:item")}`})):oe.success(p("folder:itemsMovedToRoot",{title:`${w} ${w>1?p("general:items"):p("general:item")}`})),f(),h(Ng)}})]},Ng):null,!o&&Es(Ry,{afterDelete:()=>{f(),s()},selections:C},"bulk-delete")].filter(Boolean)})}e[0]=f,e[1]=s,e[2]=h,e[3]=m,e[4]=i?.value?._folderOrDocumentTitle,e[5]=o,e[6]=n,e[7]=r,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=d,e[13]=g,e[14]=p,e[15]=b,e[16]=y}else b=e[15],y=e[16];return y!==Symbol.for("react.early_return_sentinel")?y:b};function gK(t,e){return e&&(t[e.relationTo]?(t[e.relationTo].ids.push(b5(e.value)),t[e.relationTo].totalCount=t[e.relationTo].totalCount+1):t[e.relationTo]={ids:[b5(e.value)],totalCount:1}),t}var Na="collection-folder-list";function xK({allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,...d}){return go(ma,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:e,baseFolderPath:o,breadcrumbs:n,documents:r,folderFieldName:s,folderID:i,FolderResultsComponent:l,search:a,sort:c,subfolders:u,children:go(wK,{...d})})}function wK(t){let e=y5(6),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,collectionSlug:i,Description:l,disableBulkDelete:a,disableBulkEdit:c,search:u,viewPreference:d}=t,{config:f,getEntityConfig:m}=W(),{i18n:p,t:h}=E(),g=ut(),{setStepNav:b}=Ar(),{setPreference:y}=Ot(),{allowCreateCollectionSlugs:v,breadcrumbs:C,documents:w,dragOverlayItem:S,folderCollectionConfig:x,folderCollectionSlug:F,FolderResultsComponent:I,folderType:R,getSelectedItems:D,moveToFolder:_,refineFolderData:T,selectedItemKeys:A,setIsDragging:$,subfolders:P}=kt(),j=vK(),{startRouteTransition:B}=Ze(),{clearRouteCache:N}=pt(),L=m({collectionSlug:i}),{labels:M,upload:k}=L,V=!!k&&L.upload.bulkUpload,{breakpoints:G}=Pa(),{s:H}=G,z;e[0]!==N||e[1]!==D||e[2]!==_?(z=async U=>{if(U.over&&U.over.data.current.type==="folder"&&"id"in U.over.data.current){try{await _({itemsToMove:D(),toFolderID:U.over.data.current.id})}catch(re){console.error("Error moving items:",re)}N()}},e[0]=N,e[1]=D,e[2]=_,e[3]=z):z=e[3];let Q=z,J=async U=>{await y(`${i}-collection-folder`,{viewPreference:U}),N()};yK.useEffect(()=>{g||b([C.length?{label:vm(pa,{className:[`${Na}__step-nav-droppable`,`${Na}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{B(()=>{f.folders&&j.push(v5({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}`}))})},children:[go(ar,{}),Ea(M?.plural,p)]},"root")}:{label:vm("div",{className:`${Na}__step-nav-icon-label`,children:[go(ar,{}),Ea(M?.plural,p)]},"root")},...C.map((U,re)=>({label:re===C.length-1?U.name:go(pa,{className:`${Na}__step-nav-droppable`,id:U.id,onClick:()=>{B(()=>{f.folders&&j.push(v5({adminRoute:f.routes.admin,path:`/collections/${i}/${f.folders.slug}/${U.id}`}))})},children:U.name},U.id)}))])},[C,i,f.folders,f.routes.admin,g,p,M?.plural,j,b,B]);let X=w.length+P.length,ie;return e[4]!==T?(ie=U=>T({query:{search:U},updateURL:!0}),e[4]=T,e[5]=ie):ie=e[5],vm(CK,{children:[go(SK,{onDragEnd:Q,setIsDragging:$}),vm("div",{className:`${Na} ${Na}--${i}`,children:[r,vm(wo,{className:`${Na}__wrap`,children:[go(Aa,{Actions:[!H&&go(Lg,{disableBulkDelete:a,disableBulkEdit:L.disableBulkEdit??c,folderAssignedCollections:Array.isArray(R)?R:[i]},"list-selection"),go(lg,{collectionConfig:L,config:f,viewType:"folders"},"default-list-actions")].filter(Boolean),AfterListHeaderContent:l,title:Ea(M?.plural,p),TitleActions:[v.length&&go(vn,{buttonLabel:v.length>1?h("general:createNew"):`${h("general:create")} ${Ea(x.labels?.singular,p).toLowerCase()}`,collectionSlugs:v,folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:N,slugPrefix:"create-document--header-pill"},"create-new-button"),go(im,{collectionSlug:i,hasCreatePermission:v.includes(i),isBulkUploadEnabled:V},"bulk-upload-button")].filter(Boolean)}),go(uc,{Actions:[go(Rg,{},"sort-by-pill"),go(Eg,{activeView:d,setActiveView:J},"toggle-view-buttons"),go(_g,{},"current-folder-actions")].filter(Boolean),label:h("general:searchBy",{label:h("general:name")}),onSearchChange:ie,searchQueryParam:u}),s,X>0&&I,X===0&&go(Gl,{Actions:[v.includes(F)&&go(vn,{buttonLabel:`${h("general:create")} ${Ea(x.labels?.singular,p).toLowerCase()}`,collectionSlugs:[x.slug],folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:N,slugPrefix:"create-folder--no-results"},"create-folder"),v.includes(i)&&go(vn,{buttonLabel:`${h("general:create")} ${h("general:document").toLowerCase()}`,collectionSlugs:[i],folderAssignedCollections:Array.isArray(R)?R:[i],onCreateSuccess:N,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:go("p",{children:p.t("general:noResults",{label:`${Ea(M?.plural,p)} ${h("general:or").toLowerCase()} ${Ea(x.labels?.plural,p)}`})})}),n]}),o]}),A.size>0&&S&&go(Tg,{item:S,selectedCount:A.size})]})}function SK(t){let e=y5(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],bK(r),null}import{c as _5}from"react/compiler-runtime";import{jsx as $t,jsxs as xc,Fragment as cx}from"react/jsx-runtime";import{useDndMonitor as DK}from"@dnd-kit/core";import{getTranslation as wc}from"@payloadcms/translations";import{useRouter as RK}from"next/navigation.js";import ux,{Fragment as AK}from"react";import{c as IK}from"react/compiler-runtime";import{jsx as w5,jsxs as _K}from"react/jsx-runtime";import{getTranslation as S5}from"@payloadcms/translations";import FK from"react";import{jsx as lx}from"react/jsx-runtime";var C5="checkbox-popup";function x5({Button:t,className:e,onChange:o,options:n,selectedValues:r,...s}){return lx(nt,{button:t,className:[C5,e].filter(Boolean).join(" "),horizontalAlign:"right",render:({close:i})=>lx("div",{className:`${C5}__options`,children:n.map(({label:l,value:a})=>lx(uo,{checked:r?.includes(a),label:l,onToggle:()=>{let c=r?.includes(a)?r.filter(u=>u!==a):[...r,a];o({close:i,selectedValues:c})}},a))}),showScrollbar:!0,verticalAlign:"bottom",...s})}var TK="collection-type";function I5(){let t=IK(13),{activeCollectionFolderSlugs:e,allCollectionFolderSlugs:o,folderCollectionSlug:n,refineFolderData:r}=kt(),{i18n:s,t:i}=E(),{config:l,getEntityConfig:a}=W(),c;t[0]!==l||t[1]!==n||t[2]!==o||t[3]!==a||t[4]!==s?(c=()=>l.collections.reduce((f,m)=>(m.folders&&o.includes(m.slug)&&f.push({label:S5(m.labels?.plural,s),value:m.slug}),f),[{label:S5(a({collectionSlug:n}).labels?.plural,s),value:n}]),t[0]=l,t[1]=n,t[2]=o,t[3]=a,t[4]=s,t[5]=c):c=t[5];let[u]=FK.useState(c),d;if(t[6]!==u||t[7]!==r||t[8]!==i||t[9]!==e){let f;t[11]!==r?(f=m=>{let{selectedValues:p}=m;r({query:{relationTo:p},updateURL:!0})},t[11]=r,t[12]=f):f=t[12],d=w5(x5,{Button:_K(te,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[e.length?w5("span",{className:`${TK}__count`,children:e.length}):null,i("version:type")]}),onChange:f,options:u,selectedValues:e},"relation-to-selection-popup"),t[6]=u,t[7]=r,t[8]=i,t[9]=e,t[10]=d}else d=t[10];return d}var La="folder-list";function PK({activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,...d}){return $t(ma,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:e,allowCreateCollectionSlugs:o,baseFolderPath:n,breadcrumbs:r,documents:s,folderFieldName:i,folderID:l,FolderResultsComponent:a,search:c,subfolders:u,children:$t(EK,{...d})})}function EK(t){let e=_5(24),{AfterFolderList:o,AfterFolderListTable:n,BeforeFolderList:r,BeforeFolderListTable:s,Description:i,disableBulkDelete:l,disableBulkEdit:a,folderAssignedCollections:c,viewPreference:u}=t,d=RK(),{getEntityConfig:f}=W(),{i18n:m,t:p}=E(),h=ut(),{setStepNav:g}=Ar(),{startRouteTransition:b}=Ze(),{clearRouteCache:y}=pt(),{breakpoints:v}=Pa(),{s:C}=v,{setPreference:w}=Ot(),{activeCollectionFolderSlugs:S,allowCreateCollectionSlugs:x,breadcrumbs:F,documents:I,dragOverlayItem:R,folderCollectionConfig:D,folderID:_,folderType:T,getFolderRoute:A,getSelectedItems:$,moveToFolder:P,refineFolderData:j,search:B,selectedItemKeys:N,setIsDragging:L,subfolders:M}=kt(),[k,O]=ux.useState(u||"grid"),V;e[0]!==F||e[1]!==D||e[2]!==m||e[3]!==p?(V=()=>{let me=F.length===0?wc(D.labels?.plural,m):F[F.length-1].name;return p("folder:searchByNameInFolder",{folderName:me})},e[0]=F,e[1]=D,e[2]=m,e[3]=p,e[4]=V):V=e[4];let[G]=ux.useState(V),H;e[5]!==y||e[6]!==$||e[7]!==P?(H=async me=>{me.over&&me.over.data.current.type==="folder"&&"id"in me.over.data.current&&(await P({itemsToMove:$(),toFolderID:me.over.data.current.id||null}),y())},e[5]=y,e[6]=$,e[7]=P,e[8]=H):H=e[8];let z=H,Q=I.length+M.length,J=F.length?F[F.length-1].name:p("folder:browseByFolder"),X;e[9]!==f||e[10]!==m||e[11]!==p?(X=(me,Oe,Te,he)=>{let we=f({collectionSlug:Oe});return Te===0?wc(we.labels?.plural,m):Te===he.length-1?`${me} ${p("general:or").toLowerCase()} ${wc(we.labels?.plural,m)}`:`${me}, ${wc(we.labels?.plural,m)}`},e[9]=f,e[10]=m,e[11]=p,e[12]=X):X=e[12];let ie=S.reduce(X,""),U=me=>{w("browse-by-folder",{viewPreference:me}),O(me)},re,ce;e[13]!==F||e[14]!==h||e[15]!==A||e[16]!==d||e[17]!==g||e[18]!==b||e[19]!==p?(re=()=>{h||g([F.length?{label:xc(pa,{className:[`${La}__step-nav-droppable`,`${La}__step-nav-icon-label`].filter(Boolean).join(" "),id:null,onClick:()=>{b(()=>{d.push(A(null))})},children:[$t(ar,{}),p("folder:browseByFolder")]},"root")}:{label:xc("div",{className:`${La}__step-nav-icon-label`,children:[$t(ar,{}),p("folder:browseByFolder")]},"root")},...F.map((me,Oe)=>({label:Oe===F.length-1?me.name:$t(pa,{className:`${La}__step-nav-droppable`,id:me.id,onClick:()=>{b(()=>{d.push(A(me.id))})},children:me.name},me.id)}))])},ce=[F,h,A,d,g,b,p],e[13]=F,e[14]=h,e[15]=A,e[16]=d,e[17]=g,e[18]=b,e[19]=p,e[20]=re,e[21]=ce):(re=e[20],ce=e[21]),ux.useEffect(re,ce);let ge=x.filter(me=>me!==D.slug),de;return e[22]!==j?(de=me=>j({query:{search:me},updateURL:!0}),e[22]=j,e[23]=de):de=e[23],xc(AK,{children:[$t(NK,{onDragEnd:z,setIsDragging:L}),xc("div",{className:`${La} ${La}--folders`,children:[r,xc(wo,{className:`${La}__wrap`,children:[$t(Aa,{Actions:[!C&&$t(Lg,{disableBulkDelete:l,disableBulkEdit:a,folderAssignedCollections:c},"list-selection")].filter(Boolean),AfterListHeaderContent:i,title:J,TitleActions:[x.length&&$t(vn,{buttonLabel:x.length>1?p("general:createNew"):`${p("general:create")} ${wc(D.labels?.singular,m).toLowerCase()}`,collectionSlugs:x,folderAssignedCollections:Array.isArray(T)?T:[],onCreateSuccess:y,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),$t(uc,{Actions:[$t(Rg,{},"sort-by-pill"),_&&$t(I5,{},"collection-type"),$t(Eg,{activeView:k,setActiveView:U},"toggle-view-buttons"),$t(_g,{},"current-folder-actions")].filter(Boolean),label:G,onSearchChange:de,searchQueryParam:B}),s,Q>0&&$t(cx,{children:k==="grid"?xc("div",{children:[M.length?$t(cx,{children:$t(bg,{items:M,title:"Folders",type:"folder"})}):null,I.length?$t(cx,{children:$t(bg,{items:I,subfolderCount:M.length,title:"Documents",type:"file"})}):null]}):$t(EC,{})}),Q===0&&$t(Gl,{Actions:[x.includes(D.slug)&&$t(vn,{buttonLabel:`${p("general:create")} ${wc(D.labels?.singular,m).toLowerCase()}`,collectionSlugs:[D.slug],folderAssignedCollections:Array.isArray(T)?T:[],onCreateSuccess:y,slugPrefix:"create-folder--no-results"},"create-folder"),_&&ge.length>0&&$t(vn,{buttonLabel:`${p("general:create")} ${p("general:document").toLowerCase()}`,collectionSlugs:ge,folderAssignedCollections:Array.isArray(T)?T:[],onCreateSuccess:y,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:$t("p",{children:m.t("general:noResults",{label:ie})})}),n]}),o]}),N.size>0&&R&&$t(Tg,{item:R,selectedCount:N.size})]})}function NK(t){let e=_5(3),{onDragEnd:o,setIsDragging:n}=t,r;return e[0]!==o||e[1]!==n?(r={onDragCancel(){n(!1)},onDragEnd(s){n(!1),o(s)},onDragStart(){n(!0)}},e[0]=o,e[1]=n,e[2]=r):r=e[2],DK(r),null}import{jsx as zo,jsxs as Og,Fragment as Cee}from"react/jsx-runtime";import{useRouter as xee,useSearchParams as wee}from"next/navigation.js";import{formatAdminURL as See}from"payload/shared";import G5,{Fragment as Iee,useCallback as wm,useEffect as z5,useMemo as _ee,useRef as W5,useState as Vg}from"react";import{c as D5}from"react/compiler-runtime";import{jsx as xi,jsxs as F5}from"react/jsx-runtime";import"react";var T5="leave-without-saving-doc-drawer",R5=t=>{let e=D5(15),{AfterHeader:o,drawerSlug:n,showDocumentID:r}=t,s=r===void 0?!0:r,{closeModal:i,openModal:l}=ae(),{t:a}=E(),c=lo(),u;e[0]!==i||e[1]!==n||e[2]!==c||e[3]!==l?(u=()=>{c?l(T5):i(n)},e[0]=i,e[1]=n,e[2]=c,e[3]=l,e[4]=u):u=e[4];let d=u,f;if(e[5]!==o||e[6]!==i||e[7]!==n||e[8]!==d||e[9]!==s||e[10]!==a){let m;e[12]!==i||e[13]!==n?(m=()=>i(n),e[12]=i,e[13]=n,e[14]=m):m=e[14],f=F5(wo,{className:`${ps}__header`,children:[F5("div",{className:`${ps}__header-content`,children:[xi("h2",{className:`${ps}__header-text`,children:xi(MC,{element:"span"})}),xi("button",{"aria-label":a("general:close"),className:`${ps}__header-close`,onClick:d,type:"button",children:xi(ht,{})})]}),s&&xi(LK,{}),o?xi("div",{className:`${ps}__after-header`,children:o}):null,xi(ty,{modalSlug:T5,onConfirm:m})]}),e[5]=o,e[6]=i,e[7]=n,e[8]=d,e[9]=s,e[10]=a,e[11]=f}else f=e[11];return f},LK=()=>{let t=D5(3),{id:e}=Ne(),{title:o}=Do(),n;return t[0]!==e||t[1]!==o?(n=e&&e!==o?xi(vg,{id:e.toString()}):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],n};import{c as qK}from"react/compiler-runtime";import{jsx as Sc,jsxs as QK}from"react/jsx-runtime";import{reduceFieldsToValues as KK}from"payload/shared";import{useEffect as $5}from"react";import{jsx as A5}from"react/jsx-runtime";import P5,{useEffect as $K}from"react";var E5=t=>{let{children:e}=t,o=P5.useRef(null),n=P5.useRef(null),{breakpoint:r,setMeasuredDeviceSize:s,size:i,zoom:l}=yo(),{size:a}=wh(o.current),{size:c}=wh(n.current),u=!1;$K(()=>{a&&s(a)},[a,s]);let d="0",f="0";if(r&&r!=="responsive"&&(d="-50%",i&&a&&typeof l=="number"&&typeof i.width=="number"&&typeof i.height=="number"&&typeof a.width=="number"&&typeof a.height=="number")){f="0 auto";let h=i.width/l,g=a.width*l,b=h-i.width;if(u=g>c.width,u)if(l>1){let y=a.width-c.width;y<0?d=`${y/2}px`:d="0"}else d="0";else l>=1?d=`${b/2}px`:(d=`${(c.width-g)/2}px`,f="0")}let m=l?`${100/l}%`:"100%",p=l?`${100/l}%`:"100%";return r!=="responsive"&&(m=`${i?.width/(typeof l=="number"?l:1)}px`,p=`${i?.height/(typeof l=="number"?l:1)}px`),A5("div",{ref:n,style:{height:"100%",width:"100%"},children:A5("div",{ref:o,style:{height:p,margin:f,transform:`translate3d(${d}, 0, 0)`,width:m},children:e})})};import{c as kK}from"react/compiler-runtime";import{jsx as jK}from"react/jsx-runtime";import"react";var BK="live-preview-iframe",N5=()=>{let t=kK(8),{iframeRef:e,setLoadedURL:o,url:n,zoom:r}=yo(),s;t[0]!==o||t[1]!==n?(s=()=>{o(n)},t[0]=o,t[1]=n,t[2]=s):s=t[2];let i=typeof r=="number"?`scale(${r}) `:void 0,l;return t[3]!==e||t[4]!==s||t[5]!==i||t[6]!==n?(l=jK("iframe",{className:BK,onLoad:s,ref:e,src:n,style:{transform:i},title:n},n),t[3]=e,t[4]=s,t[5]=i,t[6]=n,t[7]=l):l=t[7],l};import{c as UK}from"react/compiler-runtime";import{jsx as ka,jsxs as XK}from"react/jsx-runtime";import{useDraggable as ZK}from"@dnd-kit/core";import"react";import{c as WK}from"react/compiler-runtime";import{jsx as Go,jsxs as $a}from"react/jsx-runtime";import $g from"react";import{c as MK}from"react/compiler-runtime";import{jsx as OK}from"react/jsx-runtime";import VK,{useEffect as GK}from"react";var zK="toolbar-input",dx=t=>{let e=MK(18),{axis:o}=t,{breakpoint:n,measuredDeviceSize:r,setBreakpoint:s,setSize:i,size:l,zoom:a}=yo(),[c,u]=VK.useState((o==="x"?r?.width:r?.height)||0),d;e[0]!==o||e[1]!==r?.height||e[2]!==r?.width||e[3]!==s||e[4]!==i||e[5]!==a?(d=y=>{let v=Number(y.target.value);v<0&&(v=0),u(v),s("custom"),i({type:"reset",value:{height:o==="y"?v:Number(r?.height.toFixed(0))*a,width:o==="x"?v:Number(r?.width.toFixed(0))*a}})},e[0]=o,e[1]=r?.height,e[2]=r?.width,e[3]=s,e[4]=i,e[5]=a,e[6]=d):d=e[6];let f=d,m,p;e[7]!==o||e[8]!==n||e[9]!==r||e[10]!==l||e[11]!==a?(m=()=>{n==="responsive"&&r&&u(o==="x"?Number(r.width.toFixed(0))*a:Number(r.height.toFixed(0))*a),n!=="responsive"&&l&&u(o==="x"?l.width:l.height)},p=[n,o,r,l,a],e[7]=o,e[8]=n,e[9]=r,e[10]=l,e[11]=a,e[12]=m,e[13]=p):(m=e[12],p=e[13]),GK(m,p);let h=o==="x"?"live-preview-width":"live-preview-height",g=c||0,b;return e[14]!==f||e[15]!==h||e[16]!==g?(b=OK("input",{className:zK,min:0,name:h,onChange:f,step:1,type:"number",value:g}),e[14]=f,e[15]=h,e[16]=g,e[17]=b):b=e[17],b};var wi="live-preview-toolbar-controls",HK=[50,75,100,125,150,200],mx=()=>{let t=WK(14),{breakpoint:e,breakpoints:o,setBreakpoint:n,setPreviewWindowType:r,setZoom:s,url:i,zoom:l}=yo(),{t:a}=E(),c;if(t[0]!==e||t[1]!==o||t[2]!==n||t[3]!==r||t[4]!==s||t[5]!==a||t[6]!==i||t[7]!==l){let u={label:a("general:custom"),value:"custom"},d;t[9]!==s||t[10]!==l?(d=m=>{let{close:p}=m;return Go(Ie.ButtonGroup,{children:Go($g.Fragment,{children:HK.map(h=>$a(Ie.Button,{active:l*100==h,onClick:()=>{s(h/100),p()},children:[h,"%"]},h))})})},t[9]=s,t[10]=l,t[11]=d):d=t[11];let f;t[12]!==r?(f=m=>{m.preventDefault(),r("popup")},t[12]=r,t[13]=f):f=t[13],c=$a("div",{className:wi,children:[o?.length>0&&Go(nt,{button:$a($g.Fragment,{children:[Go("span",{children:o.find(m=>m.name==e)?.label??u.label}),Go(He,{className:`${wi}__chevron`})]}),className:`${wi}__breakpoint`,horizontalAlign:"right",render:m=>{let{close:p}=m;return Go(Ie.ButtonGroup,{children:$a($g.Fragment,{children:[o.map(h=>Go(Ie.Button,{active:h.name==e,onClick:()=>{n(h.name),p()},children:h.label},h.name)),e==="custom"&&Go(Ie.Button,{active:e==u.value,onClick:()=>{n(u.value),p()},children:u.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),$a("div",{className:`${wi}__device-size`,children:[Go(dx,{axis:"x"}),Go("span",{className:`${wi}__size-divider`,children:Go(ht,{})}),Go(dx,{axis:"y"})]}),Go(nt,{button:$a($g.Fragment,{children:[$a("span",{children:[l*100,"%"]}),Go(He,{className:`${wi}__chevron`})]}),className:`${wi}__zoom`,horizontalAlign:"right",render:d,showScrollbar:!0,verticalAlign:"bottom"}),Go("a",{className:`${wi}__external`,href:i,onClick:f,target:"_blank",title:"Open in new window",type:"button",children:Go(Yd,{})})]}),t[0]=e,t[1]=o,t[2]=n,t[3]=r,t[4]=s,t[5]=a,t[6]=i,t[7]=l,t[8]=c}else c=t[8];return c};var ym="live-preview-toolbar",YK=t=>{let e=UK(10),{toolbarPosition:o}=yo(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={id:"live-preview-toolbar"},e[0]=n):n=e[0];let{attributes:r,listeners:s,setNodeRef:i,transform:l}=ZK(n),a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=[ym,`${ym}--draggable`],e[1]=a):a=e[1];let c=`${o.x}px`,u=`${o.y}px`,d;return e[2]!==r||e[3]!==s||e[4]!==t||e[5]!==i||e[6]!==c||e[7]!==u||e[8]!==l?(d=XK("div",{className:a.join(" "),style:{left:c,top:u,...l?{transform:l?`translate3d(${l?.x||0}px, ${l?.y||0}px, 0)`:void 0}:{}},children:[ka("button",{...s,...r,className:`${ym}__drag-handle`,ref:i,type:"button",children:ka(nn,{})}),ka(mx,{...t})]}),e[2]=r,e[3]=s,e[4]=t,e[5]=i,e[6]=c,e[7]=u,e[8]=l,e[9]=d):d=e[9],d},JK=t=>ka("div",{className:[ym,`${ym}--static`].join(" "),children:ka(mx,{...t})}),L5=t=>{let{draggable:e}=t;return e?ka(YK,{...t}):ka(JK,{...t})};var Cm="live-preview-window",fx=t=>{let e=qK(49),{appIsReady:o,breakpoint:n,iframeRef:r,isLivePreviewing:s,loadedURL:i,popupRef:l,previewWindowType:a,url:c}=yo(),u=xe(),{mostRecentUpdate:d}=ua(),[f]=Vs(),{id:m,collectionSlug:p,globalSlug:h}=Ne(),g;e[0]!==o||e[1]!==p||e[2]!==f||e[3]!==h||e[4]!==m||e[5]!==r||e[6]!==s||e[7]!==u||e[8]!==d||e[9]!==l||e[10]!==a||e[11]!==c?(g=()=>{if(!(!s||!o)&&f){let I=KK(f,!0);I.id||(I.id=m);let R={type:"payload-live-preview",collectionSlug:p,data:I,externallyUpdatedRelationship:d,globalSlug:h,locale:u.code};a==="popup"&&l.current&&l.current.postMessage(R,c),a==="iframe"&&r.current&&r.current.contentWindow?.postMessage(R,c)}},e[0]=o,e[1]=p,e[2]=f,e[3]=h,e[4]=m,e[5]=r,e[6]=s,e[7]=u,e[8]=d,e[9]=l,e[10]=a,e[11]=c,e[12]=g):g=e[12];let b;e[13]!==o||e[14]!==p||e[15]!==f||e[16]!==h||e[17]!==m||e[18]!==r||e[19]!==s||e[20]!==i||e[21]!==u||e[22]!==d||e[23]!==l||e[24]!==a||e[25]!==c?(b=[f,c,p,h,m,a,l,o,r,d,u,s,i],e[13]=o,e[14]=p,e[15]=f,e[16]=h,e[17]=m,e[18]=r,e[19]=s,e[20]=i,e[21]=u,e[22]=d,e[23]=l,e[24]=a,e[25]=c,e[26]=b):b=e[26],$5(g,b);let y;e[27]!==o||e[28]!==r||e[29]!==s||e[30]!==l||e[31]!==a||e[32]!==c?(y=()=>{if(!s||!o)return;let I={type:"payload-document-event"};a==="popup"&&l.current&&l.current.postMessage(I,c),a==="iframe"&&r.current&&r.current.contentWindow?.postMessage(I,c)},e[27]=o,e[28]=r,e[29]=s,e[30]=l,e[31]=a,e[32]=c,e[33]=y):y=e[33];let v;if(e[34]!==o||e[35]!==r||e[36]!==s||e[37]!==d||e[38]!==l||e[39]!==a||e[40]!==c?(v=[d,r,l,a,c,s,o],e[34]=o,e[35]=r,e[36]=s,e[37]=d,e[38]=l,e[39]=a,e[40]=c,e[41]=v):v=e[41],$5(y,v),a!=="iframe")return null;let C=s&&`${Cm}--is-live-previewing`,w=n&&n!=="responsive"&&`${Cm}--has-breakpoint`,S;e[42]!==C||e[43]!==w?(S=[Cm,C,w].filter(Boolean),e[42]=C,e[43]=w,e[44]=S):S=e[44];let x=S.join(" "),F;return e[45]!==t||e[46]!==x||e[47]!==c?(F=Sc("div",{className:x,children:QK("div",{className:`${Cm}__wrapper`,children:[Sc(L5,{...t}),Sc("div",{className:`${Cm}__main`,children:Sc(E5,{children:c?Sc(N5,{}):Sc(It,{height:"100%"})})})]})}),e[45]=t,e[46]=x,e[47]=c,e[48]=F):F=e[48],F};import{formatAdminURL as eee}from"payload/shared";var k5=({adminRoute:t,router:e})=>{let o=eee({adminRoute:t,path:"/"});e.push(o)};import{formatAdminURL as tee}from"payload/shared";var j5=({adminRoute:t,collectionSlug:e,router:o})=>{let n=tee({adminRoute:t,path:e?`/collections/${e}`:"/"});o.push(n)};var px=async({id:t,clearRouteCache:e,collectionSlug:o,documentLockStateRef:n,globalSlug:r,isLockingEnabled:s,isWithinDoc:i,setCurrentEditor:l,setIsReadOnlyForIncomingUser:a,updateDocumentEditor:c,user:u})=>{if(s)try{await c(t,o??r,u),i||(n.current.hasShownLockedModal=!0),n.current={hasShownLockedModal:n.current?.hasShownLockedModal,isLocked:!0,user:u},l(u),i&&a&&a(!1),e&&e()}catch(d){console.error("Error during document takeover:",d)}};import{c as aee}from"react/compiler-runtime";import{jsx as Zn,jsxs as xm}from"react/jsx-runtime";import{getFieldPermissions as gx}from"payload/shared";import lee,{Fragment as cee,useEffect as uee,useState as dee}from"react";import{jsx as ja,jsxs as kg}from"react/jsx-runtime";import{getTranslation as oee}from"@payloadcms/translations";import{text as ree}from"payload/shared";import nee,{useEffect as B5,useMemo as M5,useState as hx}from"react";var see="apiKey",jg="api-key",iee="field-type",O5=({enabled:t,readOnly:e})=>{let[o]=hx(an()),[n,r]=hx(!1),[s,i]=hx(!1),{i18n:l,t:a}=E(),{config:c,getEntityConfig:u}=W(),{collectionSlug:d}=Ne(),f=Et(([S])=>S&&S[see]||null),m=u({collectionSlug:d})?.fields?.find(S=>"name"in S&&S.name==="apiKey"),p=S=>ree(S,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:c},t:a},siblingData:{}}),h=f?.value,g=M5(()=>{let S="API Key";return m?.label&&(S=m.label),oee(S,l)},[m,l]),b=M5(()=>kg("label",{className:`${jg}__label field-label`,htmlFor:"apiKey",children:[ja("span",{children:g}),ja(gd,{value:h})]}),[g,h]),y=$e({path:"apiKey",validate:p}),v=()=>{n&&r(!1),setTimeout(()=>{r(!0)},1)},{setValue:C,value:w}=y;return B5(()=>{!h&&t&&C(o),!t&&h&&C(null)},[h,t,C,o]),B5(()=>{n&&setTimeout(()=>{r(!1)},1e4)},[n]),t?kg(nee.Fragment,{children:[kg("div",{className:[iee,"api-key","read-only"].filter(Boolean).join(" "),children:[b,kg("div",{className:`${jg}__input-wrap`,children:[ja("input",{"aria-label":g,className:n?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:s?"text":"password",value:w||""}),ja("div",{className:`${jg}__toggle-button-wrap`,children:ja(te,{buttonStyle:"none",className:`${jg}__toggle-button`,icon:ja(Hh,{active:s}),onClick:()=>i(S=>!S)})})]})]}),!e&&ja(Yy,{highlightField:v,setKey:()=>C(an())})]}):null};var Bg="auth-fields",V5=t=>{let e=aee(22),{className:o,collectionSlug:n,disableLocalStrategy:r,email:s,loginWithUsername:i,operation:l,readOnly:a,requirePassword:c,setValidateBeforeSubmit:u,useAPIKey:d,username:f,verify:m}=t,{permissions:p}=_e(),[h,g]=dee(c),b=Et(mee),y=Et(fee),v=lo(),{i18n:C,t:w}=E(),{docPermissions:S,isEditing:x,isInitializing:F,isTrashed:I}=Ne(),{config:R}=W(),{routes:D,serverURL:_}=R,{api:T}=D,A=!0,$=!0,P=typeof S.fields=="object"&&"password"in S.fields,j=typeof S.fields=="object"&&("username"in S.fields||"email"in S.fields);if(P){let{permissions:de}=gx({field:{name:"password",type:"text"},operation:l,parentName:"",permissions:S?.fields});l==="create"?A=de===!0||typeof de=="object"&&de.create:A=de===!0||typeof de=="object"&&de.update}if(j){let de=i&&(i.requireEmail||i.allowEmailLogin),me;e[0]!==S.fields?(me=gx({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:S?.fields}),e[0]=S.fields,e[1]=me):me=e[1];let{operation:Oe}=me,Te;e[2]!==S.fields?(Te=gx({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:S?.fields}),e[2]=S.fields,e[3]=Te):Te=e[3];let{operation:he}=Te;de?$=he||Oe:i&&!de?$=he:$=Oe}let B=(!r||typeof r=="object"&&r.enableFields===!0)&&($||A),N=a||F||I,L=S?.fields===!0?!0:S?.fields?.enableAPIKey,M=a||L===!0||L&&typeof L=="object"&&!L?.update,k=a||L!==!0&&!L?.update,O=L===!0||L?.read,V;e:{let de=p?.collections?.[n];if(de){V=!!("unlock"in de&&de.unlock);break e}V=!1}let G=V,H;e[4]!==y||e[5]!==u||e[6]!==w?(H=de=>{de?(u(!0),y({type:"UPDATE",errorMessage:w("validation:required"),path:"password",valid:!1}),y({type:"UPDATE",errorMessage:w("validation:required"),path:"confirm-password",valid:!1})):(u(!1),y({type:"REMOVE",path:"password"}),y({type:"REMOVE",path:"confirm-password"})),g(de)},e[4]=y,e[5]=u,e[6]=w,e[7]=H):H=e[7];let z=H,Q;e[8]!==T||e[9]!==n||e[10]!==s||e[11]!==C||e[12]!==i||e[13]!==_||e[14]!==w||e[15]!==f?(Q=async()=>{let de=`${_}${T}/${n}/unlock`;(await fetch(de,{body:JSON.stringify(i&&f?{username:f}:{email:s}),credentials:"include",headers:{"Accept-Language":C.language,"Content-Type":"application/json"},method:"post"})).status===200?oe.success(w("authentication:successfullyUnlocked")):oe.error(w("authentication:failedToUnlock"))},e[8]=T,e[9]=n,e[10]=s,e[11]=C,e[12]=i,e[13]=_,e[14]=w,e[15]=f,e[16]=Q):Q=e[16];let J=Q,X,ie;if(e[17]!==v?(X=()=>{v||g(!1)},ie=[v],e[17]=v,e[18]=X,e[19]=ie):(X=e[18],ie=e[19]),uee(X,ie),!(B||d&&O||m&&x))return null;let ge;return e[20]!==o?(ge=[Bg,o].filter(Boolean),e[20]=o,e[21]=ge):ge=e[21],xm("div",{className:ge.join(" "),children:[B&&xm(lee.Fragment,{children:[Zn(rx,{loginWithUsername:i,operation:l,permissions:S?.fields,readOnly:a||I,t:w}),(h||c)&&(!r||!B)&&xm("div",{className:`${Bg}__changing-password`,children:[Zn(Ed,{autoComplete:"new-password",field:{name:"password",label:w("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),Zn(Pd,{disabled:a||I})]}),xm("div",{className:`${Bg}__controls`,children:[h&&!c&&Zn(te,{buttonStyle:"secondary",disabled:N,id:"cancel-change-password",onClick:()=>z(!1),size:"medium",children:w("general:cancel")}),!h&&!c&&!r&&A&&Zn(te,{buttonStyle:"secondary",disabled:N,id:"change-password",onClick:()=>z(!0),size:"medium",children:w("authentication:changePassword")}),!h&&l==="update"&&G&&Zn(te,{buttonStyle:"secondary",disabled:N||!$,id:"force-unlock",onClick:()=>void J(),size:"medium",children:w("authentication:forceUnlock")})]})]}),d&&Zn("div",{className:`${Bg}__api-key`,children:O&&xm(cee,{children:[Zn(Mr,{field:{name:"enableAPIKey",admin:{disabled:N,readOnly:k},label:w("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),Zn(O5,{enabled:!!b?.value,readOnly:M})]})}),m&&x&&Zn(Mr,{field:{name:"_verified",admin:{disabled:N,readOnly:a},label:w("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`})]})};function mee(t){let[e]=t;return e&&e?.enableAPIKey||null}function fee(t){return t[1]}import{c as pee}from"react/compiler-runtime";import{getTranslation as hee}from"@payloadcms/translations";import{formatAdminURL as Mg}from"payload/shared";import{useEffect as gee}from"react";var bx=t=>{let e=pee(21),{id:o,collectionSlug:n,globalSlug:r,isTrashed:s,pluralLabel:i,useAsTitle:l}=t,a=t?.view||void 0,{isEditing:c,isInitializing:u}=Ne(),{title:d}=Do(),{isEntityVisible:f}=KC(),m;e[0]!==n||e[1]!==r||e[2]!==f?(m=f({collectionSlug:n,globalSlug:r}),e[0]=n,e[1]=r,e[2]=f,e[3]=m):m=e[3];let p=m,{setStepNav:h}=Ar(),{i18n:g,t:b}=E(),{config:y}=W(),{routes:v}=y,{admin:C}=v,w,S;return e[4]!==C||e[5]!==n||e[6]!==r||e[7]!==g||e[8]!==o||e[9]!==c||e[10]!==u||e[11]!==s||e[12]!==p||e[13]!==i||e[14]!==h||e[15]!==b||e[16]!==d||e[17]!==l||e[18]!==a?(w=()=>{let x=[];u||(n?(x.push({label:hee(i,g),url:p?Mg({adminRoute:C,path:`/collections/${n}`}):void 0}),s&&x.push({label:b("general:trash"),url:p?Mg({adminRoute:C,path:`/collections/${n}/trash`}):void 0}),c?x.push({label:l&&l!=="id"&&d||`${o}`,url:p?Mg({adminRoute:C,path:s?`/collections/${n}/trash/${o}`:`/collections/${n}/${o}`}):void 0}):x.push({label:b("general:createNew")})):r&&x.push({label:d,url:p?Mg({adminRoute:C,path:`/globals/${r}`}):void 0}),a&&x.push({label:a}),h(x))},S=[h,u,c,i,o,s,l,C,b,g,d,n,r,a,p],e[4]=C,e[5]=n,e[6]=r,e[7]=g,e[8]=o,e[9]=c,e[10]=u,e[11]=s,e[12]=p,e[13]=i,e[14]=h,e[15]=b,e[16]=d,e[17]=l,e[18]=a,e[19]=w,e[20]=S):(w=e[19],S=e[20]),gee(w,S),null};import{c as bee}from"react/compiler-runtime";import{useEffect as vee,useRef as yee}from"react";var vx=t=>{let e=bee(14),{collectionConfig:o,config:n,fallback:r,globalConfig:s}=t,i=o?.admin?.useAsTitle,l;e[0]!==i?(l=y=>{let[v]=y;return i&&v&&v?.[i]||null},e[0]=i,e[1]=l):l=e[1];let a=Et(l),c=yee(!1),{i18n:u}=E(),{setDocumentTitle:d}=Do(),f=n?.admin?.dateFormat,m=a?.value||"",p;e[2]!==o||e[3]!==f||e[4]!==r||e[5]!==s||e[6]!==u||e[7]!==m||e[8]!==i?(p=Wo({collectionConfig:o,data:{id:"",[i]:m},dateFormat:f,fallback:r,globalConfig:s,i18n:u}),e[2]=o,e[3]=f,e[4]=r,e[5]=s,e[6]=u,e[7]=m,e[8]=i,e[9]=p):p=e[9];let h=p,g,b;return e[10]!==d||e[11]!==h?(g=()=>{if(!c.current){c.current=!0;return}d(h)},b=[d,h],e[10]=d,e[11]=h,e[12]=g,e[13]=b):(g=e[12],b=e[13]),vee(g,b),null};var Ns="collection-edit";function Fee({BeforeDocumentControls:t,Description:e,EditMenuItems:o,LivePreview:n,PreviewButton:r,PublishButton:s,SaveButton:i,SaveDraftButton:l,Upload:a,UploadControls:c}){let{id:u,action:d,AfterDocument:f,AfterFields:m,apiURL:p,BeforeFields:h,collectionSlug:g,currentEditor:b,data:y,disableActions:v,disableCreate:C,disableLeaveWithoutSaving:w,docPermissions:S,documentIsLocked:x,documentLockState:F,getDocPermissions:I,getDocPreferences:R,globalSlug:D,hasPublishPermission:_,hasSavePermission:T,incrementVersionCount:A,initialState:$,isEditing:P,isInitializing:j,isLocked:B,isTrashed:N,lastUpdateTime:L,redirectAfterCreate:M,redirectAfterDelete:k,redirectAfterDuplicate:O,redirectAfterRestore:V,setCurrentEditor:G,setData:H,setDocumentIsLocked:z,setLastUpdateTime:Q,unlockDocument:J,updateDocumentEditor:X}=Ne(),{clearDoc:ie,drawerSlug:U,onDelete:re,onDuplicate:ce,onRestore:ge,onSave:de}=Au(),{closeModal:me}=ae(),Oe=!!U,{refreshCookieAsync:Te,user:he}=_e(),{config:we,config:{admin:{user:K},routes:{admin:Pe}},getEntityConfig:qe}=W(),Z=qe({collectionSlug:g}),Y=qe({globalSlug:D}),q=ut(),ne=xee(),fe=wee(),{reportUpdate:ee}=ua(),{resetUploadEdits:le}=Vi(),{getFormState:ve}=Nt(),{startRouteTransition:Ee}=Ze(),{clearRouteCache:pe}=pt(),{isLivePreviewEnabled:be,isLivePreviewing:Ce,previewWindowType:Re,setURL:Je,typeofLivePreviewURL:tt,url:io}=yo(),{isPreviewEnabled:Mt,setPreviewURL:eo}=Wh(),Ht=W5(null),Co=W5(null),se=fe.get("locale"),Se=Z?.slug||Y?.slug,Ae=g&&!u?"create":"update",ye=Z?Z.auth:void 0,De=Z?Z.upload:void 0,Xe=Z||Y,Qe=Xe?.lockDocuments!==void 0?Xe?.lockDocuments:!0,Ve=Qe!==!1,dr=(typeof Qe=="object"?Qe.duration:300)*1e3,to=!!(Z?.versions?.drafts&&Z?.versions?.drafts?.autosave||Y?.versions?.drafts&&Y?.versions?.drafts?.autosave),[No,Sn]=Vg(!1),[Pt,qo]=Vg(!1),[Yn,Jn]=Vg(Date.now()),Ls=L+dr,$s=Date.now()>Ls,qn=!No&&(typeof w<"u"?!w:!to),Qo=_ee(()=>[Se],[Se]),[Qn,ct]=Vg(()=>!!(Ae==="create"&&ye&&!ye.disableLocalStrategy)),mr=G5.useRef(null),ks=wm(bt=>{z(!0);let fr=typeof F.current?.user=="object"?F.current?.user?.id:F.current?.user;if(bt){let Ko=typeof bt.user=="string"||typeof bt.user=="number"?bt.user:bt.user.id;(!F.current||Ko!==fr)&&(fr===he.id&&Ko!==he.id&&(qo(!0),F.current.hasShownLockedModal=!0),F.current={hasShownLockedModal:F.current?.hasShownLockedModal||!1,isLocked:!0,user:bt.user},G(bt.user)),bt.lastEditedAt&&Q(new Date(bt.lastEditedAt).getTime())}},[F,G,z,Q,he?.id]),qr=wm(bt=>{mr.current=bt},[]),Si=wm(async()=>{let bt=F.current?.user,fr=typeof bt=="object"?bt?.id===he?.id:bt===he?.id;if(Ve&&x&&(u||D)){let Ko=mr.current?new URL(mr.current).pathname:"",In=["/preview","/api","/versions"].some(Ii=>Ko.includes(Ii));if(fr&&!In)try{await J(u,g??D),z(!1),G(null)}catch(Ii){console.error("Failed to unlock before leave",Ii)}}},[g,x,F,D,u,Ve,G,z,J,he?.id]),Sm=wm(async(bt,fr)=>{let{context:Ko,formState:In}=fr||{},Ii=Ir(Co),js=bt?.doc||bt?.result,_m=js?.updatedAt||new Date().toISOString();if(he&&g===K&&u===he.id&&Te(),Q(_m),Ko?.incrementVersionCount!==!1&&A(),typeof H=="function"&&H(js||{}),typeof de=="function"){let Kn=u?"update":"create";de({...bt,context:Ko,operation:Kn,updatedAt:Kn==="update"?new Date().toISOString():js?.updatedAt||new Date().toISOString()})}if(!P&&q<2&&M!==!1){let Kn=See({adminRoute:Pe,path:`/collections/${g}/${js?.id}${se?`?locale=${se}`:""}`});Ee(()=>ne.push(Kn))}else le();if(Ko?.getDocPermissions!==!1&&await I(bt),u||D){let Kn=await R(),{livePreviewURL:zg,previewURL:Wg,state:H5}=await ve({id:u,collectionSlug:g,data:js,docPermissions:S,docPreferences:Kn,formState:In,globalSlug:D,operation:Ae,renderAllFields:!1,returnLivePreviewURL:be&&tt==="function",returnLockStatus:!1,returnPreviewURL:Mt,schemaPath:Qo.join("."),signal:Ii.signal,skipValidation:!0});return Ve&&z(!1),be&&tt==="function"&&Je(zg),Mt&&eo(Wg),ee({id:u,entitySlug:Se,updatedAt:_m}),Co.current=null,H5}},[ee,u,Se,he,g,K,Q,H,de,P,q,M,Je,eo,D,Te,A,Pe,se,Ee,ne,le,I,R,ve,S,Ae,be,Mt,tt,Qo,Ve,z]),Gg=wm(async({formState:bt,submitted:fr})=>{let Ko=Ir(Ht),In=Date.now(),Ii=In-Yn,js=Ve&&Ii>=1e4;js&&Jn(In);let _m=await R(),Kn=await ve({id:u,collectionSlug:g,docPermissions:S,docPreferences:_m,formState:bt,globalSlug:D,operation:Ae,renderAllFields:!1,returnLockStatus:Ve,schemaPath:Qo.join("."),signal:Ko.signal,skipValidation:!fr,updateLastEdited:js});if(!Kn)return;let{lockedState:zg,state:Wg}=Kn;return Ve&&ks(zg),Ht.current=null,Wg},[Yn,Ve,R,ve,u,g,S,D,Ae,Qo,ks]);z5(()=>()=>{qo(!1)},[]),z5(()=>{let bt=Ht.current,fr=Co.current;return()=>{Sr(bt),Sr(fr)}},[]);let Ba=x&&b&&(typeof b=="object"?b.id!==he?.id:b!==he?.id)&&!No&&!Pt&&!F.current?.hasShownLockedModal&&!$s,Im=we.folders&&g===we.folders?.slug;return zo("main",{className:[Ns,(u||D)&&`${Ns}--is-editing`,D&&`global-edit--${D}`,g&&`collection-edit--${g}`,Ce&&Re==="iframe"&&`${Ns}--is-live-previewing`].filter(Boolean).join(" "),children:zo(Zc,{operation:Ae,children:Og(vs,{action:d,className:`${Ns}__form`,disabled:No||j||!T||N,disableValidationOnSubmit:!Qn,initialState:!j&&$,isDocumentForm:!0,isInitializing:j,method:u?"PATCH":"POST",onChange:[Gg],onSuccess:Sm,children:[Oe&&zo(R5,{AfterHeader:e,drawerSlug:U,showDocumentID:!Im}),Ve&&Ba&&zo(ny,{handleGoBack:()=>j5({adminRoute:Pe,collectionSlug:g,router:ne}),isActive:Ba,onReadOnly:()=>{Sn(!0),qo(!1)},onTakeOver:()=>px({id:u,clearRouteCache:pe,collectionSlug:g,documentLockStateRef:F,globalSlug:D,isLockingEnabled:Ve,isWithinDoc:!1,setCurrentEditor:G,updateDocumentEditor:X,user:he}),updatedAt:L,user:b}),Ve&&Pt&&zo(ry,{handleBackToDashboard:()=>k5({adminRoute:Pe,router:ne}),isActive:Pt,onReadOnly:()=>{Sn(!0),qo(!1)}}),qn&&zo(kd,{onConfirm:Si,onPrevent:qr}),!Oe&&zo(bx,{collectionSlug:Z?.slug,globalSlug:Y?.slug,id:u,isTrashed:N,pluralLabel:Z?.labels?.plural,useAsTitle:Z?.admin?.useAsTitle}),zo(vx,{collectionConfig:Z,config:we,fallback:q<=1?u?.toString():void 0,globalConfig:Y}),zo(Wy,{apiURL:p,BeforeDocumentControls:t,customComponents:{PreviewButton:r,PublishButton:s,SaveButton:i,SaveDraftButton:l},data:y,disableActions:v||Im||N,disableCreate:C,EditMenuItems:o,hasPublishPermission:_,hasSavePermission:T,id:u,isEditing:P,isInDrawer:Oe,isTrashed:N,onDelete:re,onDrawerCreateNew:ie,onDuplicate:ce,onRestore:ge,onSave:Sm,onTakeOver:()=>px({id:u,clearRouteCache:pe,collectionSlug:g,documentLockStateRef:F,globalSlug:D,isLockingEnabled:Ve,isWithinDoc:!0,setCurrentEditor:G,setIsReadOnlyForIncomingUser:Sn,updateDocumentEditor:X,user:he}),permissions:S,readOnlyForIncomingUser:No,redirectAfterDelete:k,redirectAfterDuplicate:O,redirectAfterRestore:V,slug:Z?.slug||Y?.slug,user:b}),Og("div",{className:[`${Ns}__main-wrapper`,Re==="popup"&&`${Ns}--detached`].filter(Boolean).join(" "),children:[Og("div",{className:[`${Ns}__main`,Re==="popup"&&`${Ns}__main--popup-open`].filter(Boolean).join(" "),children:[zo(ud,{AfterFields:m,BeforeFields:h||Og(Iee,{children:[ye&&zo(V5,{className:`${Ns}__auth`,collectionSlug:Z.slug,disableLocalStrategy:Z.auth?.disableLocalStrategy,email:y?.email,loginWithUsername:ye?.loginWithUsername,operation:Ae,readOnly:!T,requirePassword:!u,setValidateBeforeSubmit:ct,useAPIKey:ye.useAPIKey,username:y?.username,verify:ye.verify}),De&&zo(G5.Fragment,{children:zo(Bl,{children:a||zo(j0,{collectionSlug:Z.slug,initialState:$,uploadConfig:De,UploadControls:c})})})]}),Description:e,docPermissions:S,fields:Xe.fields,forceSidebarWrap:Ce,isTrashed:N,readOnly:No||!T||N,schemaPathSegments:Qo}),f]}),be&&!Oe&&io&&zo(Cee,{children:n||zo(fx,{collectionSlug:g,globalSlug:D})})]})]},`${B}`)})})}import{jsx as Tee}from"react/jsx-runtime";import"react";var Dee="field-diff-label",yx=({children:t})=>Tee("div",{className:Dee,children:t});import{jsx as Ree,jsxs as Cx}from"react/jsx-runtime";import{getTranslation as Aee}from"@payloadcms/translations";var xx="field-diff",Pee=t=>{let{className:e,From:o,i18n:n,label:{label:r,locale:s},nestingLevel:i=0,To:l}=t;return Cx("div",{className:`${xx}-container${e?` ${e}`:""} nested-level-${i}`,style:i?{"--left-offset":`calc(50%  - (${i} * calc( calc(var(--base)* 0.5) - 2.5px  )))`}:{"--left-offset":"50%"},children:[Cx(yx,{children:[s&&Ree("span",{className:`${xx}__locale-label`,children:s}),typeof r!="function"&&Aee(r||"",n)]}),Cx("div",{className:`${xx}-content`,style:i?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[o,l]})]})};export{cy as Account,_U as ActionsProvider,Cr as AnimateHeight,tX as AppHeader,Rd as ArrayField,Yb as AuthProvider,tn as Banner,ou as BlocksDrawer,ru as BlocksField,rq as BrowseByFolderButton,PR as BulkUploadDrawer,O0 as BulkUploadProvider,te as Button,K5 as CalendarIcon,rX as Card,m1 as CheckIcon,Mr as CheckboxField,uo as CheckboxInput,He as ChevronIcon,YC as ClientFunctionProvider,dy as CloseMenuIcon,jq as CodeBlockIcon,q5 as CodeEdiftor,nu as CodeEditorLazy,su as CodeField,zi as Collapsible,au as CollapsibleField,QJ as Combobox,Ug as ConfigProvider,Pd as ConfirmPasswordField,et as ConfirmationModal,Pi as CopyIcon,wy as CopyLocaleData,gd as CopyToClipboard,jv as DateCell,tC as DateCondition,eE as DatePicker,Su as DateTimeField,x1 as DefaultBlockImage,PK as DefaultBrowseByFolderView,Nu as DefaultCell,xK as DefaultCollectionFolderView,Fee as DefaultEditView,tK as DefaultListView,Dy as DeleteMany,Wy as DocumentControls,I0 as DocumentEventsProvider,ud as DocumentFields,gc as DocumentIcon,Xc as DocumentInfoProvider,ny as DocumentLocked,ry as DocumentTakeOver,nn as DragHandleIcon,Tt as Drawer,F0 as DrawerContentContainer,as as DrawerToggler,ca as Dropzone,os as EditDepthProvider,hr as EditIcon,OZ as EditMany,P0 as EditUpload,rx as EmailAndUsernameFields,Ki as EmailField,pQ as EntityVisibilityProvider,HC as ErrorIcon,xo as ErrorPill,Yd as ExternalLinkIcon,C3 as FieldContext,Ue as FieldDescription,Pee as FieldDiffContainer,yx as FieldDiffLabel,Ye as FieldError,Fe as FieldLabel,us as FieldPathContext,Tp as File,$0 as FileDetails,EC as FolderFileTable,dd as FolderIcon,ma as FolderProvider,sq as FolderTypeField,vs as Form,LO as FormLoadingOverlayToggle,Tr as FormSubmit,zZ as FullscreenModal,Oq as GearIcon,Yy as GenerateConfirmation,zC as GridViewIcon,RJ as GroupByHeader,OJ as GroupByPageControls,Iu as GroupField,wo as Gutter,py as Hamburger,_u as HiddenField,JZ as HydrateAuthProvider,UC as InfoIcon,bg as ItemCardGrid,ju as JSONField,ku as JoinField,kd as LeaveWithoutSaving,f1 as LineIcon,Xt as Link,bb as LinkIcon,uC as ListControls,yv as ListDrawerContextProvider,SC as ListHeader,Sv as ListQueryProvider,Da as ListSelection,WC as ListViewIcon,rQ as LivePreviewProvider,fx as LivePreviewWindow,mn as LoadingOverlay,PF as LoadingOverlayToggle,Kb as LocaleProvider,Zd as Locked,DC as LogOutIcon,WJ as Logout,my as MenuIcon,Bq as MinimizeMaximizeIcon,br as Modal,Pc as MoreIcon,pd as MoveDocToFolder,rR as MoveDocToFolderButton,Gq as MoveFolderIcon,by as NavContext,ZJ as NavGroup,vy as NavProvider,yy as NavToggler,Qc as NullifyLocaleField,oC as NumberCondition,Bu as NumberField,Zc as OperationProvider,NH as OrderableTable,X5 as PageConfigProvider,fg as PageControls,mg as PageControlsComponent,Lu as Pagination,ex as ParamsProvider,Ed as PasswordField,$h as PayloadIcon,IC as PerPage,it as Pill,Dv as PillSelector,tr as PlusIcon,Mu as PointField,nt as Popup,Ie as PopupList,Qb as PreferencesProvider,ky as PreviewButton,k0 as PreviewSizes,cQ as ProgressBar,Oy as PublishButton,HY as PublishMany,GH as QueryPresetsAccessCell,XH as QueryPresetsColumnField,jH as QueryPresetsColumnsCell,OH as QueryPresetsWhereCell,qH as QueryPresetsWhereField,Gu as RadioGroupField,ft as ReactSelect,sg as RelationshipCondition,Yu as RelationshipField,r0 as RelationshipInput,Eu as RelationshipProvider,Xv as RelationshipTable,ue as RenderCustomComponent,M7 as RenderDefaultCell,Po as RenderFields,MC as RenderTitle,Ju as RichTextField,MQ as RootProvider,_0 as RouteCacheProvider,pb as RouteTransitionProvider,qu as RowField,es as RowLabel,cb as RowLabelProvider,Vy as SaveButton,Gy as SaveDraftButton,fm as ScrollInfoProvider,Ky as SearchFilter,tu as SearchIcon,ox as SearchParamsProvider,w1 as SectionTitle,ft as Select,XQ as SelectAll,aC as SelectCondition,Qu as SelectField,Wr as SelectInput,Cc as SelectMany,YQ as SelectRow,_y as SelectionProvider,Iv as ServerFunctionsContext,_v as ServerFunctionsProvider,bx as SetDocumentStepNav,vx as SetDocumentTitle,ZU as SetStepNav,It as ShimmerEffect,$q as SlugField,Pq as SortColumn,DH as SortHeader,AH as SortRow,Z5 as StaggeredShimmers,TC as StickyToolbar,XC as SuccessIcon,vb as SwapIcon,h0 as TabComponent,jy as Table,Du as TableColumnsProvider,rd as TabsField,gv as TabsProvider,lC as TextCondition,la as TextField,nd as TextInput,sd as TextareaField,b0 as TextareaInput,Zg as ThemeProvider,_r as Thumbnail,wu as TimezonePicker,To as Tooltip,Jt as Translation,Hg as TranslationProvider,id as UIField,rJ as UnpublishMany,j0 as Upload,l1 as UploadEditsProvider,Dd as UploadField,f0 as UploadHandlersProvider,Ch as UploadInput,sy as ViewDescription,ZC as WarningIcon,Hi as WatchChildErrors,d1 as WatchCondition,tx as WindowInfoProvider,ht as XIcon,cH as allFieldComponents,Y5 as defaultTheme,ps as documentDrawerBaseClass,ke as fieldBaseClass,XR as fieldComponents,td as fieldReducer,Vc as formatDrawerSlug,s1 as formatTimeToNow,CZ as getHTMLDiffComponents,Vt as parseSearchParams,oe as toast,uy as useActions,Zq as useAddClientFunction,Vs as useAllFormFields,_e as useAuth,Bo as useBulkUpload,NR as useBulkUploadDrawerSlug,Gv as useCellProps,TZ as useClickOutside,Uy as useClickOutsideContext,Yq as useClientFunctions,Xs as useCollapsible,W as useConfig,Nr as useControllableState,pn as useDebounce,Qv as useDebouncedCallback,m0 as useDebouncedEffect,Xg as useDelay,Rv as useDelayedRender,Dt as useDocumentDrawer,Au as useDocumentDrawerContext,ua as useDocumentEvents,Oa as useDocumentForm,Ne as useDocumentInfo,Do as useDocumentTitle,Oc as useDrawerSlug,ut as useEditDepth,vt as useEffectEvent,KC as useEntityVisibility,$e as useField,Df as useFieldPath,kt as useFolder,Ge as useForm,ab as useFormBackgroundProcessing,Et as useFormFields,Di as useFormInitializing,lo as useFormModified,$r as useFormProcessing,ao as useFormSubmitted,va as useHotkey,ts as useIntersect,ra as useListDrawer,wr as useListDrawerContext,lt as useListQuery,$v as useListRelationships,yo as useLivePreviewContext,xe as useLocale,ae as useModal,xa as useNav,vr as useOperation,CQ as useParams,xH as usePayloadAPI,Ot as usePreferences,na as useQueue,wh as useResize,pt as useRouteCache,Ze as useRouteTransition,hE as useRowLabel,mm as useScrollInfo,LQ as useSearchParams,vo as useSelection,Nt as useServerFunctions,Ar as useStepNav,Il as useTableColumns,J5 as useTheme,Bi as useThrottledEffect,E as useTranslation,y0 as useUploadControls,Vi as useUploadEdits,Ku as useUploadHandlers,X0 as useUseTitleField,Mm as useWatchForm,Pa as useWindowInfo,We as withCondition};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=index.js.map
