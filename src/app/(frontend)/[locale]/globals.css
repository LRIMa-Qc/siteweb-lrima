@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
  }

  * {
    @apply border-neutral-200;
  }

  body {
    @apply bg-white text-slate-900 antialiased;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Custom selection color */
  ::selection {
    @apply bg-primary-100 text-primary-900;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display text-slate-900 font-bold tracking-tight;
  }

  h1 {
    @apply text-5xl md:text-6xl lg:text-7xl leading-[1.1] mb-8;
  }

  h2 {
    @apply text-4xl md:text-5xl lg:text-6xl leading-[1.2] mb-10 mt-20;
  }

  h3 {
    @apply text-3xl md:text-4xl leading-[1.3] mb-6 mt-16;
  }

  h4 {
    @apply text-2xl md:text-3xl leading-[1.4] mb-4 mt-12;
  }
}

@layer components {

  /* Modern input styles - Light theme */
  input[type='text'],
  input[type='email'],
  input[type='tel'],
  input[type='url'],
  input[type='search'],
  textarea,
  select {
    @apply rounded-xl border-neutral-200 bg-white px-4 py-3 text-slate-900 placeholder-neutral-400 transition-all duration-300 shadow-sm;
    @apply focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/20;
  }

  textarea {
    @apply resize-none;
  }

  /* Link hover effects */
  a {
    @apply transition-all duration-300;
  }

  /* Smooth transitions for interactive elements */
  button,
  [role='button'] {
    @apply transition-all duration-300;
  }
}

@layer utilities {

  /* Glass effect utilities */
  .glass {
    @apply bg-white/70 backdrop-blur-lg border border-white/20 shadow-sm;
  }

  .glass-card {
    @apply bg-white backdrop-blur-md border border-neutral-100 shadow-sm hover:shadow-md transition-all duration-300;
  }

  /* Text gradients */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-b from-slate-900 to-slate-600;
  }

  .text-gradient-primary {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-primary-400;
  }

  /* Custom scrollbar - Light theme */
  .custom-scrollbar::-webkit-scrollbar {
    @apply w-2;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-neutral-50;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-neutral-300 rounded-full hover:bg-neutral-400;
  }

  /* Dot pattern background */
  .bg-dot-pattern {
    background-image: radial-gradient(circle, #e2e8f0 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Marquee animations - Clear Street style */
  @keyframes marquee-left {
    0% {
      transform: translateX(0);
    }

    100% {
      transform: translateX(-33.333%);
    }
  }

  @keyframes marquee-right {
    0% {
      transform: translateX(-33.333%);
    }

    100% {
      transform: translateX(0);
    }
  }

  .animate-marquee-left {
    animation: marquee-left 30s linear infinite;
  }

  .animate-marquee-right {
    animation: marquee-right 30s linear infinite;
  }

  .animate-marquee-left:hover,
  .animate-marquee-right:hover {
    animation-play-state: paused;
  }

  /* Infinite scroll animations for gallery */
  @keyframes scroll-left {
    0% {
      transform: translateX(0);
    }

    100% {
      transform: translateX(-50%);
    }
  }

  @keyframes scroll-right {
    0% {
      transform: translateX(-50%);
    }

    100% {
      transform: translateX(0);
    }
  }

  .animate-scroll-left {
    animation: scroll-left 40s linear infinite;
  }

  .animate-scroll-right {
    animation: scroll-right 40s linear infinite;
  }

  .animate-scroll-left:hover,
  .animate-scroll-right:hover {
    animation-play-state: paused;
  }

  /* ==================== Scroll-driven text highlight effect ==================== */
  .scroll-highlight-section {
    --start: 50vh;
    --space: 50vh;
    --hue: 220;
    --accent: hsl(var(--hue) 90% 50%);
  }

  .scroll-highlight-header {
    position: sticky;
    top: calc((var(--count, 8) - 1) * -1lh);
    line-height: 1.2;
    display: flex;
    align-items: start;
    width: 100%;
    margin-bottom: var(--space);
  }

  .scroll-highlight-content {
    display: flex;
    width: 100%;
    align-items: start;
    justify-content: center;
    padding-top: calc(var(--start) - 0.5lh);
  }

  .scroll-highlight-title {
    position: sticky;
    top: calc(var(--start) - 0.5lh);
    font-size: inherit;
    margin: 0;
    display: inline-block;
    height: fit-content;
    font-weight: 700;
  }

  .scroll-highlight-list {
    font-weight: 600;
    padding-inline: 0;
    margin: 0;
    list-style-type: none;
  }

  .scroll-highlight-item {
    --dimmed: color-mix(in oklch, #0f172a, #0000 75%);
    background: linear-gradient(180deg,
        var(--dimmed) 0 calc(var(--start) - 0.5lh),
        var(--accent) calc(var(--start) - 0.55lh) calc(var(--start) + 0.55lh),
        var(--dimmed) calc(var(--start) + 0.5lh));
    background-attachment: fixed;
    color: #0000;
    background-clip: text;
    -webkit-background-clip: text;
  }

  /* Fluid typography for scroll highlight */
  .scroll-highlight-fluid {
    --font-size-min: 14;
    --font-size-max: 20;
    --font-ratio-min: 1.1;
    --font-ratio-max: 1.33;
    --font-width-min: 375;
    --font-width-max: 1500;
    --font-level: 4;

    --fluid-min: calc(var(--font-size-min) * pow(var(--font-ratio-min), var(--font-level)));
    --fluid-max: calc(var(--font-size-max) * pow(var(--font-ratio-max), var(--font-level)));
    --fluid-preferred: calc((var(--fluid-max) - var(--fluid-min)) / (var(--font-width-max) - var(--font-width-min)));

    font-size: clamp(calc((var(--fluid-min) / 16) * 1rem),
        calc(((var(--fluid-min) / 16) * 1rem) - (((var(--fluid-preferred) * var(--font-width-min)) / 16) * 1rem) + (var(--fluid-preferred) * 100vi)),
        calc((var(--fluid-max) / 16) * 1rem));
  }

  /* ==================== Horizontal scroll on vertical scroll ==================== */
  @supports (animation-timeline: scroll()) {
    .animate-horizontal-scroll {
      animation: horizontal-scroll linear;
      animation-timeline: scroll();
    }

    @keyframes horizontal-scroll {
      from {
        transform: translateX(0);
      }

      to {
        transform: translateX(calc(-100% + 100vw));
      }
    }
  }

  /* Fallback for browsers without scroll-timeline support */
  @supports not (animation-timeline: scroll()) {
    .animate-horizontal-scroll {
      /* Will need JS fallback for older browsers */
    }
  }
}